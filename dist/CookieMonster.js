(()=>{"use strict";var __webpack_modules__={992:()=>{eval("\n;// CONCATENATED MODULE: ./src/Data/Moddata.js\n/** Data related directly to Cookie Monster */\n\nconst VersionMajor = '2.031';\nconst VersionMinor = '5';\n\n/** Information about Cookie Monster to be displayed in the info section */\nconst ModDescription = `<div class=\"listing\">\n <a href=\"https://github.com/Aktanusa/CookieMonster\" target=\"blank\">Cookie Monster</a>\n offers a wide range of tools and statistics to enhance your game experience.\n It is not a cheat interface â€“ although it does offer helpers for golden cookies and such, everything can be toggled off at will to only leave how much information you want.</br>\n Progess on new updates and all previous release notes can be found on the GitHub page linked above!</br>\n Please also report any bugs you may find over there!</br>\n </div>\n `;\n\n/** Latest releasenotes of Cookie Monster to be displayed in the info section */\nconst LatestReleaseNotes = `<div class=\"listing\">\n <b>The latest update (v 2.031.4) has introduced the following features:</b></br>\n - Added a changelog to the info tab and notification indicating a new version</br>\n - Warnings in tooltips are now based on the income after buying the upgrade</br>\n - A new warning and stat for Conjure Baked Goods in combination with Frenzy has been added</br>\n - User can now set a custom tooltip warning (\"x times cps\") in the settings</br>\n - Garden plots with plants that give cookies on harvest now display a tooltip with current and maximum reward</br>\n - The Harvest All button in the Garden now has a tooltip displaying the current reward </br>\n - The Ascend button can now display additional info (this can be turned off in the settings) </br>\n - The statistics page now displays the Heavenly Chips per second</br>\n - The statistics page now displays the CPS needed for the next level in Chain Cookies</br>\n - The statistics page now displays the cookies needed for optimal rewards for garden plants</br>\n - You can now set a Heavenly Chips target in the settings which will be counted down to in the statistics page</br>\n - The color picker in the settings has been updated to its latest version</br>\n - The overlay of seconds/percentage of timers is now toggle able and more readable</br>\n - You can now toggle to disable bulk-buying from buying less than the selected amount (i.e., buying 7 of a building by pressing the buy 10 when you don't have enough for 10)</br>\n - CookieMonster now uses the Modding API provided by the base game</br>\n - There is a new option that allows the decoupling of the base game volume setting and the volumes of sounds created by the mod</br>\n - The tab title now displays a \"!\" if a Golden Cookie or Reindeer can spawn</br>\n - PP calculation can now be set to: 1) Exclude the 1st, 2nd or 3rd most optimal building (if you never want to buy that it), 2) Always consider optimal buildings that cost below \"xx seconds of CPS\" (toggleable in the settings), 3) Ignore any building or upgrade that is not purchasable at the moment</br>\n </br>\n <b>This update fixes the following bugs:</b></br>\n - Minigames with enhanced tooltips will now also show these if the minigames were not loaded when CookieMonster was loaded</br>\n - Sound, Flashes and Notifications will no longer play when the mod is initializing</br>\n - The color picker should now update its display consistently</br>\n - Fixed some typo's</br>\n - Fixed a game breaking bug when the player had not purchased any upgrades</br>\n - Fixed a number of console errors thrown by CM</br>\n - Fixed the integration with mods that provide additional content, they should now no longer break CookieMonster</br>\n - The Timer bar will now disappear correctly when the Golden Switch has been activated</br>\n - Fixed errors in the calculation of the Chain Cookies and Wrinkler stats</br>\n - Fixed buy warnings showing incorrectly</br>\n </div>\n `;\n\n;// CONCATENATED MODULE: ./src/Config/VariablesAndData.js\n/* eslint-disable prefer-const */\n\nlet CMOptions = {};\nconst ConfigPrefix = 'CMConfig';\n\n;// CONCATENATED MODULE: ./src/Cache/VariablesAndData.js\n/* eslint-disable prefer-const */\n\nlet CacheDragonAura = 0;\nlet CacheDragonAura2 = 0;\nlet CacheLastDragonLevel = 0;\nlet CacheCostDragonUpgrade = 0;\nlet WrinklersTotal = 0;\nlet WrinklersNormal = 0;\nlet WrinklersFattest = [0, null];\nlet CacheLucky = 0;\nlet CacheLuckyReward = 0;\nlet CacheLuckyWrathReward = 0;\nlet CacheLuckyFrenzy = 0;\nlet CacheLuckyRewardFrenzy = 0;\nlet CacheLuckyWrathRewardFrenzy = 0;\nlet CacheConjure = 0;\nlet CacheConjureReward = 0;\nlet CacheEdifice = 0;\nlet CacheEdificeBuilding = 0;\nlet CacheNoGoldSwitchCookiesPS = 0;\nlet CacheDragonsFortuneMultAdjustment = 1;\nlet CacheGoldenCookiesMult = 1;\nlet CacheWrathCookiesMult = 1;\n\nlet CacheHCPerSecond = 0;\n\nlet CacheCentEgg = 0;\nlet CacheSeaSpec = 0;\nlet CacheLastChoEgg = 0;\n\nlet CacheObjects1 = {};\nlet CacheObjects10 = {};\nlet CacheObjects100 = {};\n\nlet CacheWrinklersTotal = 0;\nlet CacheWrinklersNormal = 0;\nlet CacheWrinklersFattest = [];\n\nlet CacheAvgCps = 0;\nlet CacheCurrWrinklerCPSMult = 0;\nlet CacheCurrWrinklerCount = 0;\n\nlet CacheUpgrades = {};\n\nlet CacheAverageClicks = {};\n\nlet CacheMissingUpgrades = {};\nlet CacheMissingUpgradesPrestige = {};\nlet CacheMissingUpgradesCookies = {};\n\nlet CacheChainRequired = 0;\nlet CacheChainRequiredNext = 0;\nlet CacheChainMaxReward = [];\nlet CacheChainWrathRequired = 0;\nlet CacheChainWrathRequiredNext = 0;\nlet CacheChainWrathMaxReward = [];\nlet CacheChainFrenzyRequired = 0;\nlet CacheChainFrenzyRequiredNext = 0;\nlet CacheChainFrenzyMaxReward = [];\nlet CacheChainFrenzyWrathRequired = 0;\nlet CacheChainFrenzyWrathRequiredNext = 0;\nlet CacheChainFrenzyWrathMaxReward = [];\n\nlet CacheRealCookiesEarned = 0;\nlet CacheAvgCPSWithChoEgg = 0;\n\nlet CacheSpawnedGoldenShimmer = {};\nlet CacheSeasonPopShimmer = {};\n\nlet CacheTimeTillNextPrestige = 0;\n\nlet CacheMinPP = 0;\nlet CacheMidPP = 0;\nlet CacheMaxPP = 0;\nlet CacheArrayOfPPs = [];\n\nlet CacheGoldenShimmersByID = {};\n\nlet CacheSellForChoEgg = 0;\n\nlet CookiesDiff;\nlet WrinkDiff;\nlet WrinkFattestDiff;\nlet ChoEggDiff;\nlet ClicksDiff;\nlet HeavenlyChipsDiff;\n\nlet CacheLastCPSCheck;\nlet CacheLastCookies;\nlet CacheLastWrinkCookies;\nlet CacheLastWrinkFattestCookies;\nlet CacheLastClicks;\n\nlet CacheAverageGainBank;\nlet CacheAverageGainWrink;\nlet CacheAverageGainWrinkFattest;\nlet CacheAverageGainChoEgg;\nlet CacheAverageCPS;\n\nlet CacheLastHeavenlyCheck;\nlet CacheLastHeavenlyChips;\n\nlet CacheDoRemakeBuildPrices;\n\nlet CacheHadBuildAura;\n\n;// CONCATENATED MODULE: ./src/Sim/VariablesAndData.js\n/* eslint-disable prefer-const */\n/** All variables used by simulation functions */\n\nlet SimObjects = [];\nlet SimUpgrades = [];\nlet SimAchievements = [];\nlet SimBuildingsOwned;\nlet SimUpgradesOwned;\nlet SimPledges;\nlet SimAchievementsOwned;\nlet SimHeavenlyPower;\nlet SimPrestige;\nlet SimDragonAura;\nlet SimDragonAura2;\nlet SimDoSims;\nlet SimEffs;\nlet SimDateCentury;\nlet SimDateAges;\nlet SimCookiesPs;\nlet SimCookiesPsRaw;\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimAuraMult.js\n\n\n/**\n * This functions creates functions similarly to Game.auraMult but checks Sim Data instead of Game Data\n */\nfunction SimAuraMult(what) {\n\tlet n = 0;\n\tif (Game.dragonAuras[SimDragonAura].name === what || Game.dragonAuras[SimDragonAura2].name === what) n = 1;\n\tif (Game.dragonAuras[SimDragonAura].name === 'Reality Bending' || Game.dragonAuras[SimDragonAura2].name === 'Reality Bending') n += 0.1;\n\treturn n;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimGetSellMultiplier.js\n\n\n/**\n * This function calculates the sell multiplier based on current \"sim data\"\n * It is called by CM.Sim.BuildingSell()\n * @returns {number}\tgiveBack\tThe multiplier\n */\nfunction SimGetSellMultiplier() {\n\tlet giveBack = 0.25;\n\tgiveBack *= 1 + SimAuraMult('Earth Shatterer');\n\treturn giveBack;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimEff.js\n\n\n/**\n * This functions creates functions similarly to Game.Eff but checks Sim Data instead of Game Data\n */\nfunction SimEff(name, def) {\n\tif (typeof SimEffs[name] === 'undefined') {\n\t\treturn (typeof def === 'undefined' ? 1 : def);\n\t} else return SimEffs[name];\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimHas.js\n\n\n/**\n * This functions creates functions similarly to Game.Has but checks Sim Data instead of Game Data\n */\nfunction SimHas(what) {\n\tconst it = SimUpgrades[what];\n\tif (Game.ascensionMode === 1 && (it.pool === 'prestige' || it.tier === 'fortune')) return 0;\n\treturn (it ? it.bought : 0);\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimHasGod.js\n\n\n/**\n * This function checks for the current God level in the sim data\n * It functions similarly to Game.hasGod()\n * @param\t{string}\twhat\tName of the achievement\n */\nfunction SimHasGod(what) {\n\tif (Game.hasGod) {\n\t\tconst god = SimObjects.Temple.minigame.gods[what];\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\tif (SimObjects.Temple.minigame.slot[i] === god.id) {\n\t\t\t\treturn i + 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimModifyBuidlingPrice.js\n\n\n\n\n\n\n/**\n * This function calculates the sell price of a building based on current \"sim data\"\n * @param\t{string}\tbuilding\tName of the building\n * @param\t{number}\tprice\t\tCurrent price of building\n * @returns {number}\tprice\t\tThe modified building price\n */\nfunction SimModifyBuildingPrice(building, price) {\n\tif (SimHas('Season savings')) price *= 0.99;\n\tif (SimHas('Santa\\'s dominion')) price *= 0.99;\n\tif (SimHas('Faberge egg')) price *= 0.99;\n\tif (SimHas('Divine discount')) price *= 0.99;\n\tif (SimHas('Fortune #100')) price *= 0.99;\n\t// if (SimHasAura('Fierce Hoarder')) price *= 0.98;\n\tprice *= 1 - SimAuraMult('Fierce Hoarder') * 0.02;\n\tif (Game.hasBuff('Everything must go')) price *= 0.95;\n\tif (Game.hasBuff('Crafty pixies')) price *= 0.98;\n\tif (Game.hasBuff('Nasty goblins')) price *= 1.02;\n\tif (building.fortune && SimHas(building.fortune.name)) price *= 0.93;\n\tprice *= SimEff('buildingCost');\n\tif (SimObjects.Temple.minigameLoaded) {\n\t\tconst godLvl = SimHasGod('creation');\n\t\tif (godLvl === 1) price *= 0.93;\n\t\telse if (godLvl === 2) price *= 0.95;\n\t\telse if (godLvl === 3) price *= 0.98;\n\t}\n\treturn price;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/SellBuilding.js\n\n\n\n/**\n * This function calculates the cookies returned for selling a building\n * Base Game does not do this correctly\n * @param\t{string}\tbuild\t\tName of the building\n * @param\t{number}\tbasePrice\tBase Price of building\n * @param\t{number}\tstart\t\tStarting amount of building\n * @param\t{number}\tfree\t\tFree amount of building\n * @param\t{number}\tincrease\tIncrease of building\n * @param\t{number}\tnoSim\t\t1 of 0 depending on if function is called from CM.Sim\n * @returns {number}\tmoni\t\tTotal price gained\n */\nfunction BuildingSell(build, basePrice, start, free, amount, noSim) {\n\t// Calculate money gains from selling buildings\n\t// If noSim is set, use Game methods to compute price instead of Sim ones.\n\tnoSim = typeof noSim === 'undefined' ? 0 : noSim;\n\tlet moni = 0;\n\tif (amount === -1) amount = start;\n\tif (!amount) amount = Game.buyBulk;\n\tfor (let i = 0; i < amount; i++) {\n\t\tlet price = basePrice * Game.priceIncrease ** Math.max(0, start - free);\n\t\tprice = noSim ? Game.modifyBuildingPrice(build, price) : SimModifyBuildingPrice(build, price);\n\t\tprice = Math.ceil(price);\n\t\tconst giveBack = noSim ? build.getSellMultiplier() : SimGetSellMultiplier();\n\t\tprice = Math.floor(price * giveBack);\n\t\tif (start > 0) {\n\t\t\tmoni += price;\n\t\t\tstart--;\n\t\t}\n\t}\n\treturn moni;\n}\n\n;// CONCATENATED MODULE: ./src/Data/Scales.js\n/** Data related directly to the scales used by Cookie Monster */\n\n/** Array of abbreviations used in the \"Metric\" scale */\nconst metric = ['',\n\t'',\n\t'M',\n\t'G',\n\t'T',\n\t'P',\n\t'E',\n\t'Z',\n\t'Y',\n];\n\n/** Array of abbreviations used in the \"Short\" scale */\nconst shortScale = ['',\n\t'',\n\t'M',\n\t'B',\n\t'Tr',\n\t'Quadr',\n\t'Quint',\n\t'Sext',\n\t'Sept',\n\t'Oct',\n\t'Non',\n\t'Dec',\n\t'Undec',\n\t'Duodec',\n\t'Tredec',\n\t'Quattuordec',\n\t'Quindec',\n\t'Sexdec',\n\t'Septendec',\n\t'Octodec',\n\t'Novemdec',\n\t'Vigint',\n\t'Unvigint',\n\t'Duovigint',\n\t'Trevigint',\n\t'Quattuorvigint',\n];\n\n/** Array of abbreviations used in the \"Abbreviated Short\" scale */\nconst shortScaleAbbreviated = ['',\n\t'K',\n\t'M',\n\t'B',\n\t'T',\n\t'Qa',\n\t'Qi',\n\t'Sx',\n\t'Sp',\n\t'Oc',\n\t'No',\n\t'De',\n\t'UDe',\n\t'DDe',\n\t'TDe',\n\t'QaDe',\n\t'QiDe',\n\t'SxDe',\n\t'SpDe',\n\t'ODe',\n\t'NDe',\n\t'Vi',\n\t'UVi',\n\t'DVi',\n\t'TVi',\n\t'QaVi',\n\t'QiVi',\n\t'SxVi',\n\t'SpVi',\n\t'OVi',\n\t'NVi',\n\t'Tr',\n\t'UTr',\n\t'DTr',\n\t'TTr',\n\t'QaTr',\n\t'QiTr',\n\t'SxTr',\n\t'SpTr',\n\t'OTr',\n\t'NTr',\n\t'Qaa',\n\t'UQa',\n\t'DQa',\n\t'TQa',\n\t'QaQa',\n\t'QiQa',\n\t'SxQa',\n\t'SpQa',\n\t'OQa',\n\t'NQa',\n\t'Qia',\n\t'UQi',\n\t'DQi',\n\t'TQi',\n\t'QaQi',\n\t'QiQi',\n\t'SxQi',\n\t'SpQi',\n\t'OQi',\n\t'NQi',\n\t'Sxa',\n\t'USx',\n\t'DSx',\n\t'TSx',\n\t'QaSx',\n\t'QiSx',\n\t'SxSx',\n\t'SpSx',\n\t'OSx',\n\t'NSx',\n\t'Spa',\n\t'USp',\n\t'DSp',\n\t'TSp',\n\t'QaSp',\n\t'QiSp',\n\t'SxSp',\n\t'SpSp',\n\t'OSp',\n\t'NSp',\n\t'Oco',\n\t'UOc',\n\t'DOc',\n\t'TOc',\n\t'QaOc',\n\t'QiOc',\n\t'SxOc',\n\t'SpOc',\n\t'OOc',\n\t'NOc',\n\t'Noa',\n\t'UNo',\n\t'DNo',\n\t'TNo',\n\t'QaNo',\n\t'QiNo',\n\t'SxNo',\n\t'SpNo',\n\t'ONo',\n\t'NNo',\n\t'Ct',\n\t'UCt',\n];\n\n;// CONCATENATED MODULE: ./src/Main/VariablesAndData.js\n/* eslint-disable prefer-const */\n\nlet LastModCount;\nlet TooltipBuildBackup = [];\nlet TooltipLumpBackup;\nlet TooltipGrimoireBackup = [];\nlet TooltipUpgradeBackup = [];\nlet BackupGrimoireLaunch;\nlet BackupGrimoireLaunchMod;\nlet BackupGrimoireDraw;\nlet HasReplaceNativeGrimoireLaunch;\nlet HasReplaceNativeGrimoireDraw;\nlet LoadMinigames;\nlet BackupFunctions = {};\n\nlet LastSeasonPopupState;\nlet LastTickerFortuneState;\nlet LastGardenNextStep;\nlet LastGoldenCookieState;\nlet LastSpawnedGoldenCookieState;\nlet LastMagicBarFull;\nlet CurrSpawnedGoldenCookieState;\nlet LastWrinklerCount;\n\n;// CONCATENATED MODULE: ./src/Disp/VariablesAndData.js\n/* eslint-disable prefer-const */\n/**\n * Section: Variables used in Disp functions */\n\nlet DispCSS;\n\n/**\n * These are variables used to create DOM object names and id (e.g., 'CMTextTooltip)\n */\nconst ColorTextPre = 'CMText';\nconst ColorBackPre = 'CMBack';\nconst ColorBorderPre = 'CMBorder';\n\n/**\n * These are variables which can be set in the options by the user to standardize colours throughout CookieMonster\n */\nconst ColorBlue = 'Blue';\nconst ColorGreen = 'Green';\nconst ColorYellow = 'Yellow';\nconst ColorOrange = 'Orange';\nconst ColorRed = 'Red';\nconst ColorPurple = 'Purple';\nconst ColorGray = 'Gray';\nconst ColorPink = 'Pink';\nconst ColorBrown = 'Brown';\nconst Colors = [ColorGray, ColorBlue, ColorGreen, ColorYellow, ColorOrange, ColorRed, ColorPurple, ColorPink, ColorBrown];\n\n/**\n * This list is used to make some very basic tooltips.\n * It is used by CM.Main.DelayInit() in the call of CM.Disp.CreateSimpleTooltip()\n * @item\t{string}\tplaceholder\n * @item\t{string}\ttext\n * @item\t{string}\tminWidth\n */\nconst TooltipText = [\n\t['GoldCookTooltipPlaceholder', 'Calculated with Golden Switch off', '200px'],\n\t['GoldCookDragonsFortuneTooltipPlaceholder', 'Calculated with Golden Switch off and at least one golden cookie on-screen', '240px'],\n\t['PrestMaxTooltipPlaceholder', 'The MAX prestige is calculated with the cookies gained from popping all wrinklers with Skruuia god in Diamond slot, selling all stock market goods, selling all buildings with Earth Shatterer and Reality Bending auras, and buying Chocolate egg', '320px'],\n\t['NextPrestTooltipPlaceholder', 'Calculated with cookies gained from wrinklers and Chocolate egg', '200px'],\n\t['HeavenChipMaxTooltipPlaceholder', 'The MAX heavenly chips is calculated with the cookies gained from popping all wrinklers with Skruuia god in Diamond slot, selling all stock market goods, selling all buildings with Earth Shatterer and Reality Bending auras, and buying Chocolate egg', '330px'],\n\t['ResetTooltipPlaceholder', 'The bonus income you would get from new prestige levels unlocked at 100% of its potential and from ascension achievements if you have the same buildings/upgrades after reset', '370px'],\n\t['ChoEggTooltipPlaceholder', 'The amount of cookies you would get from popping all wrinklers with Skruuia god in Diamond slot, selling all stock market goods, selling all buildings with Earth Shatterer and Reality Bending auras, and then buying Chocolate egg', '300px'],\n\t['ChainNextLevelPlaceholder', 'Cheated cookies might break this formula', '250px'],\n];\n\n/**\n * These are variables used by the functions that create tooltips for wrinklers\n * See CM.Disp.CheckWrinklerTooltip(), CM.Disp.UpdateWrinklerTooltip() and CM.Main.AddWrinklerAreaDetect()\n */\nlet TooltipWrinklerArea = 0;\nlet TooltipWrinkler = -1;\n\n/**\n * This array is used to store whether a Wrinkler tooltip is being shown or not\n * [i] = 1 means tooltip is being shown, [i] = 0 means hidden\n * It is used by CM.Disp.CheckWrinklerTooltip() and CM.Main.AddWrinklerAreaDetect()\n */\nlet TooltipWrinklerBeingShown = [];\n\nlet CMLastAscendState;\nlet CMSayTime;\n\n/**\n * These are variables used to create various displays when the game is loaded on the \"sell all\" screen\n */\nlet LastTargetBotBar = 1;\nlet LastTargetBuildings = 1;\nlet LastTargetTooltipBuilding = 1;\n\n/**\n * These arrays are used in the stats page to show\n * average cookies per {CM.Disp.cookieTimes/CM.Disp.clickTimes} seconds\n */\nconst CookieTimes = [10, 15, 30, 60, 300, 600, 900, 1800];\nconst ClickTimes = [1, 5, 10, 15, 30];\n\n/**\n * This array is used to give certain timers specific colours\n */\nconst BuffColors = {\n\tFrenzy: ColorYellow, 'Dragon Harvest': ColorBrown, 'Elder frenzy': ColorGreen, Clot: ColorRed, 'Click frenzy': ColorBlue, Dragonflight: ColorPink,\n};\n\n/**\n * This array is used to track GC timers\n */\nlet GCTimers = {};\n\n/**\n * Used to store the number of cookies to be displayed in the tab-title\n */\nlet Title = '';\n\nlet TooltipPrice;\nlet TooltipBonusIncome;\nlet TooltipType;\nlet TooltipName;\nlet TooltipBonusMouse;\n\nlet LastAscendState;\nlet LastNumberOfTimers;\n\n;// CONCATENATED MODULE: ./src/Disp/BeautifyAndFormatting/BeautifyFormatting.js\n/** General functions to format or beautify strings */\n\n\n\n\n\n\n/**\n * This function returns formats number based on the Scale setting\n * @param\t{number}\tnum\t\tNumber to be beautified\n * @param \t{any}\t\tfloats \tUsed in some scenario's by CM.Backup.Beautify (Game's original function)\n * @param\t{number}\tforced\tUsed to force (type 3) in certains cases\n * @returns\t{string}\t\t\tFormatted number\n */\nfunction BeautifyFormatting_Beautify(num, floats, forced) {\n\tconst decimals = CMOptions.ScaleDecimals + 1;\n\tif (num === Infinity) {\n\t\treturn 'Infinity';\n\t} else if (typeof num === 'undefined') {\n\t\treturn '0';\n\t} else if (CMOptions.Scale === 0) {\n\t\treturn BackupFunctions.Beautify(num, floats);\n\t} else if (Number.isFinite(num)) {\n\t\tlet answer = '';\n\t\tif (num === 0) {\n\t\t\treturn num.toString();\n\t\t} else if (num > 0.001 && num < CMOptions.ScaleCutoff) {\n\t\t\tanswer = num.toFixed(2);\n\t\t\tif (CMOptions.ScaleSeparator) answer = answer.toLocaleString('nl');\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tif (answer[answer.length - 1] === '0' || answer[answer.length - 1] === '.') answer = answer.slice(0, -1);\n\t\t\t}\n\t\t\treturn answer;\n\t\t} else if (CMOptions.Scale === 4 && !forced || forced === 4) { // Scientific notation, 123456789 => 1.235E+8\n\t\t\tanswer = num.toExponential(decimals).toString().replace('e', 'E');\n\t\t} else {\n\t\t\tconst exponential = num.toExponential().toString();\n\t\t\tconst AmountOfTenPowerThree = Math.floor(exponential.slice(exponential.indexOf('e') + 1) / 3);\n\t\t\tanswer = (num / Number(`1e${AmountOfTenPowerThree * 3}`)).toFixed(decimals);\n\t\t\t// answer is now \"xxx.xx\" (e.g., 123456789 would be 123.46)\n\t\t\tif (CMOptions.Scale === 1 && !forced || forced === 1) { // Metric scale, 123456789 => 123.457 M\n\t\t\t\tif (num >= 0.01 && num < Number(`1e${metric.length * 3}`)) {\n\t\t\t\t\tanswer += ` ${metric[AmountOfTenPowerThree]}`;\n\t\t\t\t} else answer = BeautifyFormatting_Beautify(num, 0, 4); // If number is too large or little, revert to scientific notation\n\t\t\t} else if (CMOptions.Scale === 2 && !forced || forced === 2) { // Short scale, 123456789 => 123.457 M\n\t\t\t\tif (num >= 0.01 && num < Number(`1e${shortScale.length * 3}`)) {\n\t\t\t\t\tanswer += ` ${shortScale[AmountOfTenPowerThree]}`;\n\t\t\t\t} else answer = BeautifyFormatting_Beautify(num, 0, 4); // If number is too large or little, revert to scientific notation\n\t\t\t} else if (CMOptions.Scale === 3 && !forced || forced === 3) { // Short scale, 123456789 => 123.457 M\n\t\t\t\tif (num >= 0.01 && num < Number(`1e${shortScaleAbbreviated.length * 3}`)) {\n\t\t\t\t\tanswer += ` ${shortScaleAbbreviated[AmountOfTenPowerThree]}`;\n\t\t\t\t} else answer = BeautifyFormatting_Beautify(num, 0, 4); // If number is too large or little, revert to scientific notation\n\t\t\t} else if (CMOptions.Scale === 5 && !forced || forced === 5) { // Engineering notation, 123456789 => 123.457E+6\n\t\t\t\tanswer += `E${AmountOfTenPowerThree * 3}`;\n\t\t\t}\n\t\t}\n\t\tif (answer === '') {\n\t\t\tconsole.log(`Could not beautify number with CM.Disp.Beautify: ${num}`);\n\t\t\tanswer = BackupFunctions.Beautify(num, floats);\n\t\t}\n\t\tif (CMOptions.ScaleSeparator) answer = answer.replace('.', ',');\n\t\treturn answer;\n\t} else {\n\t\tconsole.log(`Could not beautify number with CM.Disp.Beautify: ${num}`);\n\t\treturn BackupFunctions.Beautify(num, floats);\n\t}\n}\n\n/**\n * This function returns time as a string depending on TimeFormat setting\n * @param  \t{number} \ttime\t\tTime to be formatted\n * @param  \t{number}\tlongFormat \t1 or 0\n * @returns\t{string}\t\t\t\tFormatted time\n */\nfunction FormatTime(time, longFormat) {\n\tif (time === Infinity) return time;\n\ttime = Math.ceil(time);\n\tconst y = Math.floor(time / 31557600);\n\tconst d = Math.floor(time % 31557600 / 86400);\n\tconst h = Math.floor(time % 86400 / 3600);\n\tconst m = Math.floor(time % 3600 / 60);\n\tconst s = Math.floor(time % 60);\n\tlet str = '';\n\tif (CMOptions.TimeFormat) {\n\t\tif (time > 3155760000) return 'XX:XX:XX:XX:XX';\n\t\tstr += `${(y < 10 ? '0' : '') + y}:`;\n\t\tstr += `${(d < 10 ? '0' : '') + d}:`;\n\t\tstr += `${(h < 10 ? '0' : '') + h}:`;\n\t\tstr += `${(m < 10 ? '0' : '') + m}:`;\n\t\tstr += (s < 10 ? '0' : '') + s;\n\t} else {\n\t\tif (time > 777600000) return longFormat ? 'Over 9000 days!' : '>9000d';\n\t\tstr += (y > 0 ? `${y + (longFormat ? (y === 1 ? ' year' : ' years') : 'y')}, ` : '');\n\t\tstr += (d > 0 ? `${d + (longFormat ? (d === 1 ? ' day' : ' days') : 'd')}, ` : '');\n\t\tif (str.length > 0 || h > 0) str += `${h + (longFormat ? (h === 1 ? ' hour' : ' hours') : 'h')}, `;\n\t\tif (str.length > 0 || m > 0) str += `${m + (longFormat ? (m === 1 ? ' minute' : ' minutes') : 'm')}, `;\n\t\tstr += s + (longFormat ? (s === 1 ? ' second' : ' seconds') : 's');\n\t}\n\treturn str;\n}\n\n/**\n * This function returns the color to be used for time-strings\n * @param\t{number}\t\t\ttime\t\t\tTime to be coloured\n * @returns {{string, string}}\t{text, color}\tBoth the formatted time and color as strings in an array\n */\nfunction GetTimeColor(time) {\n\tlet color;\n\tlet text;\n\tif (time < 0) {\n\t\tif (CMOptions.TimeFormat) text = '00:00:00:00:00';\n\t\telse text = 'Done!';\n\t\tcolor = ColorGreen;\n\t} else {\n\t\ttext = FormatTime(time);\n\t\tif (time > 300) color = ColorRed;\n\t\telse if (time > 60) color = ColorOrange;\n\t\telse color = ColorYellow;\n\t}\n\treturn { text, color };\n}\n\n;// CONCATENATED MODULE: ./src/Disp/BuildingsUpgrades/Buildings.js\n\n\n\n\n\n\n/**\n * Section: Functions related to right column of the screen (buildings/upgrades)\n\n/**\n * This function adjusts some things in the column of buildings.\n * It colours them, helps display the correct sell-price and shuffles the order when CM.Options.SortBuildings is set\n * The function is called by CM.Disp.Draw(), CM.Disp.UpdateColors() & CM.Disp.RefreshScale()\n * And by changes in CM.Options.BuildColor, CM.Options.SortBuild & CM.Data.Config.BulkBuildColor\n */\nfunction UpdateBuildings() {\n\tlet target = Game.buyBulk;\n\tif (Game.buyMode === 1) {\n\t\tLastTargetBuildings = target;\n\t} else {\n\t\ttarget = LastTargetBuildings;\n\t}\n\tif (target === 1) target = CacheObjects1;\n\telse if (target === 10) target = CacheObjects10;\n\telse if (target === 100) target = CacheObjects100;\n\n\tif (Game.buyMode === 1) {\n\t\tif (CMOptions.BuildColor === 1) {\n\t\t\tfor (const i of Object.keys(target)) {\n\t\t\t\tl(`productPrice${Game.Objects[i].id}`).style.color = CMOptions.Colors[target[i].color];\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const i of Object.keys(Game.Objects)) {\n\t\t\t\tl(`productPrice${Game.Objects[i].id}`).style.removeProperty('color');\n\t\t\t}\n\t\t}\n\t} else if (Game.buyMode === -1) {\n\t\tfor (const i of Object.keys(CacheObjects1)) {\n\t\t\tconst o = Game.Objects[i];\n\t\t\tl(`productPrice${o.id}`).style.color = '';\n\t\t\t/*\n\t\t\t * Fix sell price displayed in the object in the store.\n\t\t\t *\n\t\t\t * The buildings sell price displayed by the game itself (without any mod) is incorrect.\n\t\t\t * The following line of code fixes this issue, and can be safely removed when the game gets fixed.\n\t\t\t *\n\t\t\t * This issue is extensively detailed here: https://github.com/Aktanusa/CookieMonster/issues/359#issuecomment-735658262\n\t\t\t */\n\t\t\tl(`productPrice${o.id}`).innerHTML = BeautifyFormatting_Beautify(BuildingSell(o, o.basePrice, o.amount, o.free, Game.buyBulk, 1));\n\t\t}\n\t}\n\n\t// Build array of pointers, sort by pp, use array index (+2) as the grid row number\n\t// (grid rows are 1-based indexing, and row 1 is the bulk buy/sell options)\n\t// This regulates sorting of buildings\n\tif (Game.buyMode === 1 && CMOptions.SortBuildings) {\n\t\tconst arr = Object.keys(target).map((k) => {\n\t\t\tconst o = target[k];\n\t\t\to.name = k;\n\t\t\to.id = Game.Objects[k].id;\n\t\t\treturn o;\n\t\t});\n\n\t\tarr.sort(function (a, b) { return (Colors.indexOf(a.color) > Colors.indexOf(b.color) ? 1 : (Colors.indexOf(a.color) < Colors.indexOf(b.color) ? -1 : (a.pp < b.pp) ? -1 : 0)); });\n\n\t\tfor (let x = 0; x < arr.length; x++) {\n\t\t\tGame.Objects[arr[x].name].l.style.gridRow = `${x + 2}/${x + 2}`;\n\t\t}\n\t} else {\n\t\tconst arr = Object.keys(CacheObjects1).map((k) => {\n\t\t\tconst o = CacheObjects1[k];\n\t\t\to.name = k;\n\t\t\to.id = Game.Objects[k].id;\n\t\t\treturn o;\n\t\t});\n\t\tarr.sort((a, b) => a.id - b.id);\n\t\tfor (let x = 0; x < arr.length; x++) {\n\t\t\tGame.Objects[arr[x].name].l.style.gridRow = `${x + 2}/${x + 2}`;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/BuildingsUpgrades/Upgrades.js\n\n\n\n\n/**\n * This function adjusts some things in the upgrades section\n * It colours them and shuffles the order when CM.Options.SortBuildings is set\n * The function is called by CM.Disp.Draw(), CM.Disp.ToggleUpgradeBarAndColor & CM.Disp.RefreshScale()\n * And by changes in CM.Options.SortUpgrades\n */\nfunction UpdateUpgrades() {\n\t// This counts the amount of upgrades for each pp group and updates the Upgrade Bar\n\tif (CMOptions.UpBarColor > 0) {\n\t\tlet blue = 0;\n\t\tlet green = 0;\n\t\tlet yellow = 0;\n\t\tlet orange = 0;\n\t\tlet red = 0;\n\t\tlet purple = 0;\n\t\tlet gray = 0;\n\n\t\tfor (const i of Object.keys(Game.UpgradesInStore)) {\n\t\t\tconst me = Game.UpgradesInStore[i];\n\t\t\tlet addedColor = false;\n\t\t\tfor (let j = 0; j < l(`upgrade${i}`).childNodes.length; j++) {\n\t\t\t\tif (l(`upgrade${i}`).childNodes[j].className.indexOf(ColorBackPre) !== -1) {\n\t\t\t\t\tl(`upgrade${i}`).childNodes[j].className = ColorBackPre + CacheUpgrades[me.name].color;\n\t\t\t\t\taddedColor = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!addedColor) {\n\t\t\t\tconst div = document.createElement('div');\n\t\t\t\tdiv.style.width = '10px';\n\t\t\t\tdiv.style.height = '10px';\n\t\t\t\tdiv.className = ColorBackPre + CacheUpgrades[me.name].color;\n\t\t\t\tl(`upgrade${i}`).appendChild(div);\n\t\t\t}\n\t\t\tif (CacheUpgrades[me.name].color === ColorBlue) blue++;\n\t\t\telse if (CacheUpgrades[me.name].color === ColorGreen) green++;\n\t\t\telse if (CacheUpgrades[me.name].color === ColorYellow) yellow++;\n\t\t\telse if (CacheUpgrades[me.name].color === ColorOrange) orange++;\n\t\t\telse if (CacheUpgrades[me.name].color === ColorRed) red++;\n\t\t\telse if (CacheUpgrades[me.name].color === ColorPurple) purple++;\n\t\t\telse if (CacheUpgrades[me.name].color === ColorGray) gray++;\n\t\t}\n\n\t\tl('CMUpgradeBarBlue').textContent = blue;\n\t\tl('CMUpgradeBarGreen').textContent = green;\n\t\tl('CMUpgradeBarYellow').textContent = yellow;\n\t\tl('CMUpgradeBarOrange').textContent = orange;\n\t\tl('CMUpgradeBarRed').textContent = red;\n\t\tl('CMUpgradeBarPurple').textContent = purple;\n\t\tl('CMUpgradeBarGray').textContent = gray;\n\t}\n\n\tconst arr = [];\n\t// Build array of pointers, sort by pp, set flex positions\n\t// This regulates sorting of upgrades\n\tfor (let x = 0; x < Game.UpgradesInStore.length; x++) {\n\t\tconst o = {};\n\t\to.name = Game.UpgradesInStore[x].name;\n\t\to.price = Game.UpgradesInStore[x].basePrice;\n\t\to.pp = CacheUpgrades[o.name].pp;\n\t\tarr.push(o);\n\t}\n\n\tif (CMOptions.SortUpgrades) {\n\t\tarr.sort(function (a, b) { return (Colors.indexOf(a.color) > Colors.indexOf(b.color) ? 1 : (Colors.indexOf(a.color) < Colors.indexOf(b.color) ? -1 : (a.pp < b.pp) ? -1 : 0)); });\n\t} else {\n\t\tarr.sort((a, b) => a.price - b.price);\n\t}\n\n\tconst nameChecker = function (arr2, upgrade) {\n\t\treturn arr2.findIndex((e) => e.name === upgrade.name);\n\t};\n\tfor (let x = 0; x < Game.UpgradesInStore.length; x++) {\n\t\tl(`upgrade${x}`).style.order = nameChecker(arr, Game.UpgradesInStore[x]) + 1;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/GetCPS.js\n\n\n\n/**\n * This function returns the cps as either current or average CPS depending on CM.Options.CPSMode\n * @returns\t{number}\tThe average or current cps\n */\nfunction GetCPS() {\n\tif (CMOptions.CPSMode) {\n\t\treturn CacheAvgCps;\n\t} else if (CMOptions.CalcWrink === 0) {\n\t\treturn (Game.cookiesPs * (1 - Game.cpsSucked));\n\t} else if (CMOptions.CalcWrink === 1) {\n\t\treturn Game.cookiesPs * (CacheCurrWrinklerCPSMult + (1 - (CacheCurrWrinklerCount * 0.05)));\n\t} else if (CMOptions.CalcWrink === 2 && Game.wrinklers[CacheWrinklersFattest[1]].type === 1) {\n\t\treturn Game.cookiesPs * ((CacheCurrWrinklerCPSMult * 3 / CacheCurrWrinklerCount) + (1 - (CacheCurrWrinklerCount * 0.05)));\n\t} else {\n\t\treturn Game.cookiesPs * ((CacheCurrWrinklerCPSMult / CacheCurrWrinklerCount) + (1 - (CacheCurrWrinklerCount * 0.05)));\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/GetWrinkConfigBank.js\n\n\n\n/**\n * This function returns the total amount stored in the Wrinkler Bank\n * as calculated by  CM.Cache.CacheWrinklers() if CM.Options.CalcWrink is set\n * @returns\t{number}\t0 or the amount of cookies stored (CM.Cache.WrinklersTotal)\n */\nfunction GetWrinkConfigBank() {\n\tif (CMOptions.CalcWrink === 1) {\n\t\treturn CacheWrinklersTotal;\n\t} else if (CMOptions.CalcWrink === 2) {\n\t\treturn CacheWrinklersFattest[0];\n\t} else {\n\t\treturn 0;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/InfoBars/CreateDOMElements.js\n/** Functions to create various DOM elements used by the Bars */\n\n\n\n/**\n * This function creates an indivudual timer for the timer bar\n * @param\t{string}\t\t\t\t\tid\t\t\t\t\tAn id to identify the timer\n * @param\t{string}\t\t\t\t\tname\t\t\t\tThe title of the timer\n * @param\t[{{string}, {string}}, ...]\tbars ([id, color])\tThe id and colours of individual parts of the timer\n */\nfunction CreateTimer(id, name, bars) {\n\tconst timerBar = document.createElement('div');\n\ttimerBar.id = id;\n\ttimerBar.style.height = '12px';\n\ttimerBar.style.margin = '0px 10px';\n\ttimerBar.style.position = 'relative';\n\n\tconst div = document.createElement('div');\n\tdiv.style.width = '100%';\n\tdiv.style.height = '10px';\n\tdiv.style.margin = 'auto';\n\tdiv.style.position = 'absolute';\n\tdiv.style.left = '0px';\n\tdiv.style.top = '0px';\n\tdiv.style.right = '0px';\n\tdiv.style.bottom = '0px';\n\n\tconst type = document.createElement('span');\n\ttype.style.display = 'inline-block';\n\ttype.style.textAlign = 'right';\n\ttype.style.fontSize = '10px';\n\ttype.style.width = '108px';\n\ttype.style.marginRight = '5px';\n\ttype.style.verticalAlign = 'text-top';\n\ttype.textContent = name;\n\tdiv.appendChild(type);\n\n\tfor (let i = 0; i < bars.length; i++) {\n\t\tconst colorBar = document.createElement('span');\n\t\tcolorBar.id = bars[i].id;\n\t\tcolorBar.style.display = 'inline-block';\n\t\tcolorBar.style.height = '10px';\n\t\tcolorBar.style.verticalAlign = 'text-top';\n\t\tcolorBar.style.textAlign = 'center';\n\t\tif (bars.length - 1 === i) {\n\t\t\tcolorBar.style.borderTopRightRadius = '10px';\n\t\t\tcolorBar.style.borderBottomRightRadius = '10px';\n\t\t}\n\t\tif (typeof bars[i].color !== 'undefined') {\n\t\t\tcolorBar.className = ColorBackPre + bars[i].color;\n\t\t}\n\t\tdiv.appendChild(colorBar);\n\t}\n\n\tconst timer = document.createElement('span');\n\ttimer.id = `${id}Time`;\n\ttimer.style.marginLeft = '5px';\n\ttimer.style.verticalAlign = 'text-top';\n\tdiv.appendChild(timer);\n\n\ttimerBar.appendChild(div);\n\n\treturn timerBar;\n}\n\n/**\n * This function extends the bottom bar (created by CM.Disp.CreateBotBar) with a column for the given building.\n * @param\t{string}\tbuildingName\tObjectname to be added (e.g., \"Cursor\")\n */\nfunction CreateBotBarBuildingColumn(buildingName) {\n\tif (l('CMBotBar') !== null) {\n\t\tconst type = l('CMBotBar').firstChild.firstChild.childNodes[0];\n\t\tconst bonus = l('CMBotBar').firstChild.firstChild.childNodes[1];\n\t\tconst pp = l('CMBotBar').firstChild.firstChild.childNodes[2];\n\t\tconst time = l('CMBotBar').firstChild.firstChild.childNodes[3];\n\n\t\tconst i = buildingName;\n\t\tconst header = type.appendChild(document.createElement('td'));\n\t\theader.appendChild(document.createTextNode(`${i.indexOf(' ') !== -1 ? i.substring(0, i.indexOf(' ')) : i} (`));\n\n\t\tconst span = header.appendChild(document.createElement('span'));\n\t\tspan.className = ColorTextPre + ColorBlue;\n\n\t\theader.appendChild(document.createTextNode(')'));\n\t\tbonus.appendChild(document.createElement('td'));\n\t\tpp.appendChild(document.createElement('td'));\n\t\ttime.appendChild(document.createElement('td'));\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/InfoBars/BottomBar.js\n/** Functions related to the Bottom Bar */\n\n\n\n\n\n\n\n\n\n\n/**\n * This function creates the bottom bar and appends it to l('wrapper')\n */\nfunction CreateBotBar() {\n\tconst BotBar = document.createElement('div');\n\tBotBar.id = 'CMBotBar';\n\tBotBar.style.height = '69px';\n\tBotBar.style.width = '100%';\n\tBotBar.style.position = 'absolute';\n\tBotBar.style.display = 'none';\n\tBotBar.style.backgroundColor = '#262224';\n\tBotBar.style.backgroundImage = 'linear-gradient(to bottom, #4d4548, #000000)';\n\tBotBar.style.borderTop = '1px solid black';\n\tBotBar.style.overflow = 'auto';\n\tBotBar.style.textShadow = '-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black';\n\n\tconst table = BotBar.appendChild(document.createElement('table'));\n\ttable.style.width = '100%';\n\ttable.style.textAlign = 'center';\n\ttable.style.whiteSpace = 'nowrap';\n\tconst tbody = table.appendChild(document.createElement('tbody'));\n\n\tconst firstCol = function (text, color) {\n\t\tconst td = document.createElement('td');\n\t\ttd.style.textAlign = 'right';\n\t\ttd.className = ColorTextPre + color;\n\t\ttd.textContent = text;\n\t\treturn td;\n\t};\n\tconst type = tbody.appendChild(document.createElement('tr'));\n\ttype.style.fontWeight = 'bold';\n\ttype.appendChild(firstCol(`CM ${VersionMajor}.${VersionMinor}`, ColorYellow));\n\tconst bonus = tbody.appendChild(document.createElement('tr'));\n\tbonus.appendChild(firstCol('Bonus Income', ColorBlue));\n\tconst pp = tbody.appendChild(document.createElement('tr'));\n\tpp.appendChild(firstCol('Payback Period', ColorBlue));\n\tconst time = tbody.appendChild(document.createElement('tr'));\n\ttime.appendChild(firstCol('Time Left', ColorBlue));\n\n\tl('wrapper').appendChild(BotBar);\n\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tCreateBotBarBuildingColumn(i);\n\t}\n}\n\n/**\n * This function updates the bonus-, pp-, and time-rows in the the bottom bar\n */\nfunction UpdateBotBar() {\n\tif (CMOptions.BotBar === 1 && CacheObjects1 && Game.buyMode === 1) {\n\t\tlet count = 0;\n\t\tfor (const i of Object.keys(CacheObjects1)) {\n\t\t\tlet target = Game.buyBulk;\n\t\t\tif (Game.buyMode === 1) {\n\t\t\t\tLastTargetBotBar = target;\n\t\t\t} else {\n\t\t\t\ttarget = LastTargetBotBar;\n\t\t\t}\n\t\t\tif (target === 1) target = CacheObjects1;\n\t\t\tif (target === 10) target = CacheObjects10;\n\t\t\tif (target === 100) target = CacheObjects100;\n\t\t\tcount++;\n\t\t\tl('CMBotBar').firstChild.firstChild.childNodes[0].childNodes[count].childNodes[1].textContent = Game.Objects[i].amount;\n\t\t\tl('CMBotBar').firstChild.firstChild.childNodes[1].childNodes[count].textContent = BeautifyFormatting_Beautify(target[i].bonus, 2);\n\t\t\tl('CMBotBar').firstChild.firstChild.childNodes[2].childNodes[count].className = ColorTextPre + target[i].color;\n\t\t\tl('CMBotBar').firstChild.firstChild.childNodes[2].childNodes[count].textContent = BeautifyFormatting_Beautify(target[i].pp, 2);\n\t\t\tconst timeColor = GetTimeColor((Game.Objects[i].bulkPrice - (Game.cookies + GetWrinkConfigBank())) / GetCPS());\n\t\t\tl('CMBotBar').firstChild.firstChild.childNodes[3].childNodes[count].className = ColorTextPre + timeColor.color;\n\t\t\tif (timeColor.text === 'Done!' && Game.cookies < Game.Objects[i].bulkPrice) {\n\t\t\t\tl('CMBotBar').firstChild.firstChild.childNodes[3].childNodes[count].textContent = `${timeColor.text} (with Wrink)`;\n\t\t\t} else l('CMBotBar').firstChild.firstChild.childNodes[3].childNodes[count].textContent = timeColor.text;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/UpdateBackground.js\n/**\n * This function sets the size of the background of the full game and the left column\n * depending on whether certain abrs are activated\n * It is called by CM.Disp.UpdateAscendState() and CM.Disp.UpdateBotTimerBarPosition()\n */\nfunction UpdateBackground() {\n\tGame.Background.canvas.width = Game.Background.canvas.parentNode.offsetWidth;\n\tGame.Background.canvas.height = Game.Background.canvas.parentNode.offsetHeight;\n\tGame.LeftBackground.canvas.width = Game.LeftBackground.canvas.parentNode.offsetWidth;\n\tGame.LeftBackground.canvas.height = Game.LeftBackground.canvas.parentNode.offsetHeight;\n}\n\n;// CONCATENATED MODULE: ./src/Config/SpecificToggles.js\n/** Called by the \"func\" of individual settings */\n\n\n\n\n/**\n * This function changes the position of both the bottom and timer bar\n */\nfunction UpdateBotTimerBarPosition() {\n\tif (CMOptions.BotBar === 1 && CMOptions.TimerBar === 1 && CMOptions.TimerBarPos === 1) {\n\t\tl('CMBotBar').style.bottom = l('CMTimerBar').style.height;\n\t\tl('game').style.bottom = `${Number(l('CMTimerBar').style.height.replace('px', '')) + 70}px`;\n\t} else if (CMOptions.BotBar === 1) {\n\t\tl('CMBotBar').style.bottom = '0px';\n\t\tl('game').style.bottom = '70px';\n\t} else if (CMOptions.TimerBar === 1 && CMOptions.TimerBarPos === 1) {\n\t\tl('game').style.bottom = l('CMTimerBar').style.height;\n\t} else { // No bars\n\t\tl('game').style.bottom = '0px';\n\t}\n\n\tif (CMOptions.TimerBar === 1 && CMOptions.TimerBarPos === 0) {\n\t\tl('sectionLeft').style.top = l('CMTimerBar').style.height;\n\t} else {\n\t\tl('sectionLeft').style.top = '';\n\t}\n\n\tUpdateBackground();\n}\n\n/**\n * This function changes the visibility of the timer bar\n */\nfunction ToggleTimerBar() {\n\tif (CMOptions.TimerBar === 1) l('CMTimerBar').style.display = '';\n\telse l('CMTimerBar').style.display = 'none';\n\tUpdateBotTimerBarPosition();\n}\n\n/**\n * This function changes the position of the timer bar\n */\nfunction ToggleTimerBarPos() {\n\tif (CMOptions.TimerBarPos === 0) {\n\t\tl('CMTimerBar').style.width = '30%';\n\t\tl('CMTimerBar').style.bottom = '';\n\t\tl('game').insertBefore(l('CMTimerBar'), l('sectionLeft'));\n\t} else {\n\t\tl('CMTimerBar').style.width = '100%';\n\t\tl('CMTimerBar').style.bottom = '0px';\n\t\tl('wrapper').appendChild(l('CMTimerBar'));\n\t}\n\tUpdateBotTimerBarPosition();\n}\n\n;// CONCATENATED MODULE: ./src/Disp/InfoBars/TimerBar.js\n/** Functions related to the Timer Bar */\n\n\n\n\n\n\n/**\n * This function creates the TimerBar and appends it to l('wrapper')\n */\nfunction CreateTimerBar() {\n\tconst TimerBar = document.createElement('div');\n\tTimerBar.id = 'CMTimerBar';\n\tTimerBar.style.position = 'absolute';\n\tTimerBar.style.display = 'none';\n\tTimerBar.style.height = '0px';\n\tTimerBar.style.fontSize = '10px';\n\tTimerBar.style.fontWeight = 'bold';\n\tTimerBar.style.backgroundColor = 'black';\n\n\t// Create standard Golden Cookie bar\n\tconst CMTimerBarGC = CreateTimer('CMTimerBarGC',\n\t\t'Next Cookie',\n\t\t[{ id: 'CMTimerBarGCMinBar', color: ColorGray }, { id: 'CMTimerBarGCBar', color: ColorPurple }]);\n\tTimerBar.appendChild(CMTimerBarGC);\n\n\t// Create standard Reindeer bar\n\tconst CMTimerBarRen = CreateTimer('CMTimerBarRen',\n\t\t'Next Reindeer',\n\t\t[{ id: 'CMTimerBarRenMinBar', color: ColorGray }, { id: 'CMTimerBarRenBar', color: ColorOrange }]);\n\tTimerBar.appendChild(CMTimerBarRen);\n\n\tl('wrapper').appendChild(TimerBar);\n}\n\n/**\n * This function updates indivudual timers in the timer bar\n */\nfunction UpdateTimerBar() {\n\tif (CMOptions.TimerBar === 1) {\n\t\t// label width: 113, timer width: 30, div margin: 20\n\t\tconst maxWidthTwoBar = l('CMTimerBar').offsetWidth - 163;\n\t\t// label width: 113, div margin: 20, calculate timer width at runtime\n\t\tconst maxWidthOneBar = l('CMTimerBar').offsetWidth - 133;\n\t\tlet numberOfTimers = 0;\n\n\t\t// Regulates visibility of Golden Cookie timer\n\t\tif (Game.shimmerTypes.golden.spawned === 0 && !Game.Has('Golden switch [off]')) {\n\t\t\tl('CMTimerBarGC').style.display = '';\n\t\t\tl('CMTimerBarGCMinBar').style.width = `${Math.round(Math.max(0, Game.shimmerTypes.golden.minTime - Game.shimmerTypes.golden.time) * maxWidthTwoBar / Game.shimmerTypes.golden.maxTime)}px`;\n\t\t\tif (CMOptions.TimerBarOverlay >= 1) l('CMTimerBarGCMinBar').textContent = Math.ceil((Game.shimmerTypes.golden.minTime - Game.shimmerTypes.golden.time) / Game.fps);\n\t\t\telse l('CMTimerBarGCMinBar').textContent = '';\n\t\t\tif (Game.shimmerTypes.golden.minTime === Game.shimmerTypes.golden.maxTime) {\n\t\t\t\tl('CMTimerBarGCMinBar').style.borderTopRightRadius = '10px';\n\t\t\t\tl('CMTimerBarGCMinBar').style.borderBottomRightRadius = '10px';\n\t\t\t} else {\n\t\t\t\tl('CMTimerBarGCMinBar').style.borderTopRightRadius = '';\n\t\t\t\tl('CMTimerBarGCMinBar').style.borderBottomRightRadius = '';\n\t\t\t}\n\t\t\tl('CMTimerBarGCBar').style.width = `${Math.round(Math.min(Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.minTime, Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time) * maxWidthTwoBar / Game.shimmerTypes.golden.maxTime)}px`;\n\t\t\tif (CMOptions.TimerBarOverlay >= 1) l('CMTimerBarGCBar').textContent = Math.ceil(Math.min(Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.minTime, Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time) / Game.fps);\n\t\t\telse l('CMTimerBarGCBar').textContent = '';\n\t\t\tl('CMTimerBarGCTime').textContent = Math.ceil((Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time) / Game.fps);\n\t\t\tnumberOfTimers++;\n\t\t} else l('CMTimerBarGC').style.display = 'none';\n\n\t\t// Regulates visibility of Reindeer timer\n\t\tif (Game.season === 'christmas' && Game.shimmerTypes.reindeer.spawned === 0) {\n\t\t\tl('CMTimerBarRen').style.display = '';\n\t\t\tl('CMTimerBarRenMinBar').style.width = `${Math.round(Math.max(0, Game.shimmerTypes.reindeer.minTime - Game.shimmerTypes.reindeer.time) * maxWidthTwoBar / Game.shimmerTypes.reindeer.maxTime)}px`;\n\t\t\tif (CMOptions.TimerBarOverlay >= 1) l('CMTimerBarRenMinBar').textContent = Math.ceil((Game.shimmerTypes.reindeer.minTime - Game.shimmerTypes.reindeer.time) / Game.fps);\n\t\t\telse l('CMTimerBarRenMinBar').textContent = '';\n\t\t\tl('CMTimerBarRenBar').style.width = `${Math.round(Math.min(Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.minTime, Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time) * maxWidthTwoBar / Game.shimmerTypes.reindeer.maxTime)}px`;\n\t\t\tif (CMOptions.TimerBarOverlay >= 1) l('CMTimerBarRenBar').textContent = Math.ceil(Math.min(Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.minTime, Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time) / Game.fps);\n\t\t\telse l('CMTimerBarRenBar').textContent = '';\n\t\t\tl('CMTimerBarRenTime').textContent = Math.ceil((Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time) / Game.fps);\n\t\t\tnumberOfTimers++;\n\t\t} else {\n\t\t\tl('CMTimerBarRen').style.display = 'none';\n\t\t}\n\n\t\t// On every frame all buff-timers are deleted and re-created\n\t\tconst BuffTimerBars = {};\n\t\tfor (const i of Object.keys(Game.buffs)) {\n\t\t\tif (Game.buffs[i]) {\n\t\t\t\tconst timer = CreateTimer(Game.buffs[i].name, Game.buffs[i].name, [{ id: `${Game.buffs[i].name}Bar` }]);\n\t\t\t\ttimer.style.display = '';\n\t\t\t\tlet classColor = '';\n\t\t\t\t// Gives specific timers specific colors\n\t\t\t\tif (typeof BuffColors[Game.buffs[i].name] !== 'undefined') {\n\t\t\t\t\tclassColor = BuffColors[Game.buffs[i].name];\n\t\t\t\t} else classColor = ColorPurple;\n\t\t\t\ttimer.lastChild.children[1].className = ColorBackPre + classColor;\n\t\t\t\ttimer.lastChild.children[1].style.color = 'black';\n\t\t\t\tif (CMOptions.TimerBarOverlay === 2) timer.lastChild.children[1].textContent = `${Math.round(100 * (Game.buffs[i].time / Game.buffs[i].maxTime))}%`;\n\t\t\t\telse timer.lastChild.children[1].textContent = '';\n\t\t\t\ttimer.lastChild.children[1].style.width = `${Math.round(Game.buffs[i].time * (maxWidthOneBar - Math.ceil(Game.buffs[i].time / Game.fps).toString().length * 8) / Game.buffs[i].maxTime)}px`;\n\t\t\t\ttimer.lastChild.children[2].textContent = Math.ceil(Game.buffs[i].time / Game.fps);\n\t\t\t\tnumberOfTimers++;\n\t\t\t\tBuffTimerBars[Game.buffs[i].name] = timer;\n\t\t\t}\n\t\t}\n\t\tfor (const i of Object.keys(BuffTimerBars)) {\n\t\t\tl('CMTimerBar').appendChild(BuffTimerBars[i]);\n\t\t}\n\n\t\tif (numberOfTimers !== 0) {\n\t\t\tl('CMTimerBar').style.height = `${numberOfTimers * 12 + 2}px`;\n\t\t}\n\t\tif (LastNumberOfTimers !== numberOfTimers) {\n\t\t\tLastNumberOfTimers = numberOfTimers;\n\t\t\tUpdateBotTimerBarPosition();\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/Refreshmenu.js\n\n\n/**\n * This function refreshes the stats page, CM.Options.UpStats determines the rate at which that happens\n * It is called by CM.Disp.Draw()\n */\nfunction RefreshMenu() {\n\tif (CMOptions.UpStats && Game.onMenu === 'stats' && (Game.drawT - 1) % (Game.fps * 5) !== 0 && (Game.drawT - 1) % Game.fps === 0) Game.UpdateMenu();\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CPS/GetCPSBuffMult.js\n/**\n * This function returns the current CPS buff\n * @returns {number}\tmult\tThe multiplier\n */\nfunction GetCPSBuffMult() {\n\tlet mult = 1;\n\tfor (const i of Object.keys(Game.buffs)) {\n\t\tif (typeof Game.buffs[i].multCpS !== 'undefined') mult *= Game.buffs[i].multCpS;\n\t}\n\treturn mult;\n}\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleToolWarnPos.js\n\n\n/**\n * This function toggles the position of the warnings created by CM.Disp.TooltipCreateWarningSection()\n * It is called by a change in CM.Options.ToolWarnPos\n * and upon creation of the warning tooltip by CM.Disp.UpdateTooltipWarnings()\n */\nfunction ToggleToolWarnPos() {\n\tif (l('CMDispTooltipWarningParent') !== null) {\n\t\tif (CMOptions.ToolWarnPos === 0) {\n\t\t\tl('CMDispTooltipWarningParent').style.top = 'auto';\n\t\t\tl('CMDispTooltipWarningParent').style.margin = '4px -4px';\n\t\t\tl('CMDispTooltipWarningParent').style.padding = '3px 4px';\n\t\t} else {\n\t\t\tl('CMDispTooltipWarningParent').style.right = 'auto';\n\t\t\tl('CMDispTooltipWarningParent').style.margin = '4px';\n\t\t\tl('CMDispTooltipWarningParent').style.padding = '4px 3px';\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/CalculateGrimoireRefillTime.js\n/**\n * This function calculates the time it takes to reach a certain magic level\n * @param\t{number}\tcurrentMagic\t\tThe current magic level\n * @param\t{number}\tmaxMagic\t\t\tThe user's max magic level\n * @param\t{number}\ttargetMagic\t\t\tThe target magic level\n * @returns\t{number}\tcount / Game.fps\tThe time it takes to reach targetMagic\n */\nfunction CalculateGrimoireRefillTime(currentMagic, maxMagic, targetMagic) {\n\tlet count = 0;\n\twhile (currentMagic < targetMagic) {\n\t\tcurrentMagic += Math.max(0.002, (currentMagic / Math.max(maxMagic, 100)) ** 0.5) * 0.002;\n\t\tcount++;\n\t}\n\treturn count / Game.fps;\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/GetLumpColor.js\n\n\n/**\n * This function returns Name and Color as object for sugar lump type that is given as input param.\n * It is called by CM.Disp.UpdateTooltipSugarLump()\n * @param \t{string} \t\t\t\ttype \t\t\tSugar Lump Type.\n * @returns {{string}, {string}}\ttext, color\t\tAn array containing the text and display-color of the sugar lump\n */\nfunction GetLumpColor(type) {\n\tif (type === 0) {\n\t\treturn { text: 'Normal', color: ColorGray };\n\t} else if (type === 1) {\n\t\treturn { text: 'Bifurcated', color: ColorGreen };\n\t} else if (type === 2) {\n\t\treturn { text: 'Golden', color: ColorYellow };\n\t} else if (type === 3) {\n\t\treturn { text: 'Meaty', color: ColorOrange };\n\t} else if (type === 4) {\n\t\treturn { text: 'Caramelized', color: ColorPurple };\n\t} else {\n\t\treturn { text: 'Unknown Sugar Lump', color: ColorRed };\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Tooltips/CreateTooltip.js\n\n\n\n/** Creates various sections of tooltips */\n\n/**\n * This function appends the sections for Bonus Income, PP and Time left (to achiev) to the tooltip-object\n * The actual data is added by the Update-functions themselves\n * @param\t{object}\ttooltip\t\tObject of a TooltipBox, normally created by a call to CM.Disp.TooltipCreateTooltipBox()\n */\nfunction TooltipCreateCalculationSection(tooltip) {\n\ttooltip.appendChild(TooltipCreateHeader('Bonus Income'));\n\tconst income = document.createElement('div');\n\tincome.style.marginBottom = '4px';\n\tincome.style.color = 'white';\n\tincome.id = 'CMTooltipIncome';\n\ttooltip.appendChild(income);\n\n\ttooltip.appendChild(TooltipCreateHeader('Bonus Cookies per Click'));\n\ttooltip.lastChild.style.display = 'none';\n\tconst click = document.createElement('div');\n\tclick.style.marginBottom = '4px';\n\tclick.style.color = 'white';\n\tclick.style.display = 'none';\n\tclick.id = 'CMTooltipCookiePerClick';\n\ttooltip.appendChild(click);\n\n\ttooltip.appendChild(TooltipCreateHeader('Payback Period'));\n\tconst pp = document.createElement('div');\n\tpp.style.marginBottom = '4px';\n\tpp.id = 'CMTooltipPP';\n\ttooltip.appendChild(pp);\n\n\ttooltip.appendChild(TooltipCreateHeader('Time Left'));\n\tconst time = document.createElement('div');\n\ttime.id = 'CMTooltipTime';\n\ttooltip.appendChild(time);\n\n\tif (TooltipType === 'b') {\n\t\ttooltip.appendChild(TooltipCreateHeader('Production left till next achievement'));\n\t\ttooltip.lastChild.id = 'CMTooltipProductionHeader'; // Assign a id in order to hid when no achiev's are left\n\t\tconst production = document.createElement('div');\n\t\tproduction.id = 'CMTooltipProduction';\n\t\ttooltip.appendChild(production);\n\t}\n}\n\n/**\n * This function creates a tooltipBox object which contains all CookieMonster added tooltip information.\n * @returns {object}\tdiv\t\tAn object containing the stylized box\n */\nfunction TooltipCreateTooltipBox() {\n\tl('tooltip').firstChild.style.paddingBottom = '4px'; // Sets padding on base-tooltip\n\tconst tooltipBox = document.createElement('div');\n\ttooltipBox.style.border = '1px solid';\n\ttooltipBox.style.padding = '4px';\n\ttooltipBox.style.margin = '0px -4px';\n\ttooltipBox.id = 'CMTooltipBorder';\n\ttooltipBox.className = ColorTextPre + ColorGray;\n\treturn tooltipBox;\n}\n\n/**\n * This function creates a header object for tooltips.\n * @param\t{string}\ttext\tTitle of header\n * @returns {object}\tdiv\t\tAn object containing the stylized header\n */\nfunction TooltipCreateHeader(text) {\n\tconst div = document.createElement('div');\n\tdiv.style.fontWeight = 'bold';\n\tdiv.id = `${text}Title`;\n\tdiv.className = ColorTextPre + ColorBlue;\n\tdiv.textContent = text;\n\treturn div;\n}\n\n/**\n * This function creates the tooltip objectm for warnings\n * The object is also removed by CM.Disp.UpdateTooltipWarnings() when type is 's' or 'g'\n * @returns {object}\tTooltipWarn\tThe Warnings-tooltip object\n */\nfunction TooltipCreateWarningSection() {\n\tconst TooltipWarn = document.createElement('div');\n\tTooltipWarn.style.position = 'absolute';\n\tTooltipWarn.style.display = 'block';\n\tTooltipWarn.style.left = 'auto';\n\tTooltipWarn.style.bottom = 'auto';\n\tTooltipWarn.id = 'CMDispTooltipWarningParent';\n\n\tconst create = function (boxId, color, labelTextFront, labelTextBack, deficitId) {\n\t\tconst box = document.createElement('div');\n\t\tbox.id = boxId;\n\t\tbox.style.display = 'none';\n\t\tbox.style.transition = 'opacity 0.1s ease-out';\n\t\tbox.className = ColorBorderPre + color;\n\t\tbox.style.padding = '2px';\n\t\tbox.style.background = '#000 url(img/darkNoise.png)';\n\t\tconst labelDiv = document.createElement('div');\n\t\tbox.appendChild(labelDiv);\n\t\tconst labelSpan = document.createElement('span');\n\t\tlabelSpan.className = ColorTextPre + color;\n\t\tlabelSpan.style.fontWeight = 'bold';\n\t\tlabelSpan.textContent = labelTextFront;\n\t\tlabelDiv.appendChild(labelSpan);\n\t\tlabelDiv.appendChild(document.createTextNode(labelTextBack));\n\t\tconst deficitDiv = document.createElement('div');\n\t\tbox.appendChild(deficitDiv);\n\t\tconst deficitSpan = document.createElement('span');\n\t\tdeficitSpan.id = deficitId;\n\t\tdeficitDiv.appendChild(document.createTextNode('Deficit: '));\n\t\tdeficitDiv.appendChild(deficitSpan);\n\t\treturn box;\n\t};\n\n\tTooltipWarn.appendChild(create('CMDispTooltipWarnLucky', ColorRed, 'Warning: ', 'Purchase of this item will put you under the number of Cookies required for \"Lucky!\"', 'CMDispTooltipWarnLuckyText'));\n\tTooltipWarn.firstChild.style.marginBottom = '4px';\n\tTooltipWarn.appendChild(create('CMDispTooltipWarnLuckyFrenzy', ColorYellow, 'Warning: ', 'Purchase of this item will put you under the number of Cookies required for \"Lucky!\" (Frenzy)', 'CMDispTooltipWarnLuckyFrenzyText'));\n\tTooltipWarn.lastChild.style.marginBottom = '4px';\n\tTooltipWarn.appendChild(create('CMDispTooltipWarnConjure', ColorPurple, 'Warning: ', 'Purchase of this item will put you under the number of Cookies required for \"Conjure Baked Goods\"', 'CMDispTooltipWarnConjureText'));\n\tTooltipWarn.lastChild.style.marginBottom = '4px';\n\tTooltipWarn.appendChild(create('CMDispTooltipWarnConjureFrenzy', ColorPurple, 'Warning: ', 'Purchase of this item will put you under the number of Cookies required for \"Conjure Baked Goods\" (Frenzy)', 'CMDispTooltipWarnConjureFrenzyText'));\n\tTooltipWarn.lastChild.style.marginBottom = '4px';\n\tTooltipWarn.appendChild(create('CMDispTooltipWarnEdifice', ColorPurple, 'Warning: ', 'Purchase of this item will put you under the number of Cookies needed for \"Spontaneous Edifice\" to possibly give you your most expensive building\"', 'CMDispTooltipWarnEdificeText'));\n\tTooltipWarn.lastChild.style.marginBottom = '4px';\n\tTooltipWarn.appendChild(create('CMDispTooltipWarnUser', ColorRed, 'Warning: ', `Purchase of this item will put you under the number of Cookies equal to ${CMOptions.ToolWarnUser} seconds of CPS`, 'CMDispTooltipWarnUserText'));\n\n\treturn TooltipWarn;\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Tooltips/UpdateTooltips.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Functions that update specific types of tooltips  */\n\n/**\n * This function adds extra info to the Building tooltips\n */\nfunction Building() {\n\tif (CMOptions.TooltipBuildUpgrade === 1 && Game.buyMode === 1) {\n\t\tconst tooltipBox = l('CMTooltipBorder');\n\t\tTooltipCreateCalculationSection(tooltipBox);\n\n\t\tlet target;\n\t\tif (Game.buyMode === 1) {\n\t\t\tLastTargetTooltipBuilding = target;\n\t\t} else {\n\t\t\ttarget = LastTargetTooltipBuilding;\n\t\t}\n\t\tif (Game.buyBulk === 1) target = CacheObjects1;\n\t\telse if (Game.buyBulk === 10) target = CacheObjects10;\n\t\telse if (Game.buyBulk === 100) target = CacheObjects100;\n\n\t\tTooltipPrice = Game.Objects[TooltipName].bulkPrice;\n\t\tTooltipBonusIncome = target[TooltipName].bonus;\n\n\t\tif (CMOptions.TooltipBuildUpgrade === 1 && Game.buyMode === 1) {\n\t\t\tl('CMTooltipIncome').textContent = BeautifyFormatting_Beautify(TooltipBonusIncome, 2);\n\t\t\tconst increase = Math.round(TooltipBonusIncome / Game.cookiesPs * 10000);\n\t\t\tif (Number.isFinite(increase) && increase !== 0) {\n\t\t\t\tl('CMTooltipIncome').textContent += ` (${increase / 100}% of income)`;\n\t\t\t}\n\t\t\tl('CMTooltipBorder').className = ColorTextPre + target[TooltipName].color;\n\t\t\tl('CMTooltipPP').textContent = BeautifyFormatting_Beautify(target[TooltipName].pp, 2);\n\t\t\tl('CMTooltipPP').className = ColorTextPre + target[TooltipName].color;\n\t\t\tconst timeColor = GetTimeColor((TooltipPrice - (Game.cookies + GetWrinkConfigBank())) / GetCPS());\n\t\t\tl('CMTooltipTime').textContent = timeColor.text;\n\t\t\tif (timeColor.text === 'Done!' && Game.cookies < target[TooltipName].price) {\n\t\t\t\tl('CMTooltipTime').textContent = `${timeColor.text} (with Wrink)`;\n\t\t\t} else l('CMTooltipTime').textContent = timeColor.text;\n\t\t\tl('CMTooltipTime').className = ColorTextPre + timeColor.color;\n\t\t}\n\n\t\t// Add \"production left till next achievement\"-bar\n\t\tl('CMTooltipProductionHeader').style.display = 'none';\n\t\tl('CMTooltipTime').style.marginBottom = '0px';\n\t\tfor (const i of Object.keys(Game.Objects[TooltipName].productionAchievs)) {\n\t\t\tif (!Game.HasAchiev(Game.Objects[TooltipName].productionAchievs[i].achiev.name)) {\n\t\t\t\tconst nextProductionAchiev = Game.Objects[TooltipName].productionAchievs[i];\n\t\t\t\tl('CMTooltipTime').style.marginBottom = '4px';\n\t\t\t\tl('CMTooltipProductionHeader').style.display = '';\n\t\t\t\tl('CMTooltipProduction').className = `ProdAchievement${TooltipName}`;\n\t\t\t\tl('CMTooltipProduction').textContent = BeautifyFormatting_Beautify(nextProductionAchiev.pow - SimObjects[TooltipName].totalCookies, 15);\n\t\t\t\tl('CMTooltipProduction').style.color = 'white';\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else l('CMTooltipArea').style.display = 'none';\n}\n\n/**\n * This function adds extra info to the Upgrade tooltips\n */\nfunction Upgrade() {\n\tconst tooltipBox = l('CMTooltipBorder');\n\tTooltipCreateCalculationSection(tooltipBox);\n\n\tTooltipBonusIncome = CacheUpgrades[Game.UpgradesInStore[TooltipName].name].bonus;\n\tTooltipPrice = Game.Upgrades[Game.UpgradesInStore[TooltipName].name].getPrice();\n\tTooltipBonusMouse = CacheUpgrades[Game.UpgradesInStore[TooltipName].name].bonusMouse;\n\n\tif (CMOptions.TooltipBuildUpgrade === 1) {\n\t\tl('CMTooltipIncome').textContent = BeautifyFormatting_Beautify(TooltipBonusIncome, 2);\n\t\tconst increase = Math.round(TooltipBonusIncome / Game.cookiesPs * 10000);\n\t\t// Don't display certain parts of tooltip if not applicable\n\t\tif (l('CMTooltipIncome').textContent === '0' && (TooltipType === 'b' || TooltipType === 'u')) {\n\t\t\tl('Bonus IncomeTitle').style.display = 'none';\n\t\t\tl('CMTooltipIncome').style.display = 'none';\n\t\t\tl('Payback PeriodTitle').style.display = 'none';\n\t\t\tl('CMTooltipPP').style.display = 'none';\n\t\t} else {\n\t\t\tif (Number.isFinite(increase) && increase !== 0) {\n\t\t\t\tl('CMTooltipIncome').textContent += ` (${increase / 100}% of income)`;\n\t\t\t}\n\t\t\tl('CMTooltipBorder').className = ColorTextPre + CacheUpgrades[Game.UpgradesInStore[TooltipName].name].color;\n\t\t\t// If clicking power upgrade\n\t\t\tif (TooltipBonusMouse) {\n\t\t\t\tl('CMTooltipCookiePerClick').textContent = BeautifyFormatting_Beautify(TooltipBonusMouse);\n\t\t\t\tl('CMTooltipCookiePerClick').style.display = 'block';\n\t\t\t\tl('CMTooltipCookiePerClick').previousSibling.style.display = 'block';\n\t\t\t}\n\t\t\t// If only a clicking power upgrade change PP to click-based period\n\t\t\tif (TooltipBonusIncome === 0 && TooltipBonusMouse) {\n\t\t\t\tl('CMTooltipPP').textContent = `${BeautifyFormatting_Beautify(TooltipPrice / TooltipBonusMouse)} Clicks`;\n\t\t\t\tl('CMTooltipPP').style.color = 'white';\n\t\t\t} else {\n\t\t\t\tl('CMTooltipPP').textContent = BeautifyFormatting_Beautify(CacheUpgrades[Game.UpgradesInStore[TooltipName].name].pp, 2);\n\t\t\t\tl('CMTooltipPP').className = ColorTextPre + CacheUpgrades[Game.UpgradesInStore[TooltipName].name].color;\n\t\t\t}\n\t\t}\n\t\tconst timeColor = GetTimeColor((TooltipPrice - (Game.cookies + GetWrinkConfigBank())) / GetCPS());\n\t\tl('CMTooltipTime').textContent = timeColor.text;\n\t\tif (timeColor.text === 'Done!' && Game.cookies < Game.UpgradesInStore[TooltipName].getPrice()) {\n\t\t\tl('CMTooltipTime').textContent = `${timeColor.text} (with Wrink)`;\n\t\t} else l('CMTooltipTime').textContent = timeColor.text;\n\t\tl('CMTooltipTime').className = ColorTextPre + timeColor.color;\n\n\t\t// Add extra info to Chocolate egg tooltip\n\t\tif (Game.UpgradesInStore[TooltipName].name === 'Chocolate egg') {\n\t\t\tl('CMTooltipBorder').lastChild.style.marginBottom = '4px';\n\t\t\tl('CMTooltipBorder').appendChild(TooltipCreateHeader('Cookies to be gained (Currently/Max)'));\n\t\t\tconst chocolate = document.createElement('div');\n\t\t\tchocolate.style.color = 'white';\n\t\t\tchocolate.textContent = `${BeautifyFormatting_Beautify(Game.cookies * 0.05)} / ${BeautifyFormatting_Beautify(CacheLastChoEgg)}`;\n\t\t\tl('CMTooltipBorder').appendChild(chocolate);\n\t\t}\n\t} else l('CMTooltipArea').style.display = 'none';\n}\n\n/**\n * This function adds extra info to the Sugar Lump tooltip\n * It adds to the additional information to l('CMTooltipArea')\n */\nfunction SugarLump() {\n\tif (CMOptions.TooltipLump === 1) {\n\t\tconst tooltipBox = l('CMTooltipBorder');\n\n\t\ttooltipBox.appendChild(TooltipCreateHeader('Current Sugar Lump'));\n\n\t\tconst lumpType = document.createElement('div');\n\t\tlumpType.id = 'CMTooltipTime';\n\t\ttooltipBox.appendChild(lumpType);\n\t\tconst lumpColor = GetLumpColor(Game.lumpCurrentType);\n\t\tlumpType.textContent = lumpColor.text;\n\t\tlumpType.className = ColorTextPre + lumpColor.color;\n\t} else l('CMTooltipArea').style.display = 'none';\n}\n\n/**\n * This function adds extra info to the Grimoire tooltips\n * It adds to the additional information to l('CMTooltipArea')\n */\nfunction Grimoire() {\n\tconst minigame = Game.Objects['Wizard tower'].minigame;\n\tconst spellCost = minigame.getSpellCost(minigame.spellsById[TooltipName]);\n\n\tif (CMOptions.TooltipGrim === 1 && spellCost <= minigame.magicM) {\n\t\tconst tooltipBox = l('CMTooltipBorder');\n\n\t\t// Time left till enough magic for spell\n\t\ttooltipBox.appendChild(TooltipCreateHeader('Time Left'));\n\t\tconst time = document.createElement('div');\n\t\ttime.id = 'CMTooltipTime';\n\t\ttooltipBox.appendChild(time);\n\t\tconst timeColor = GetTimeColor(CalculateGrimoireRefillTime(minigame.magic, minigame.magicM, spellCost));\n\t\ttime.textContent = timeColor.text;\n\t\ttime.className = ColorTextPre + timeColor.color;\n\n\t\t// Time left untill magic spent is recovered\n\t\tif (spellCost <= minigame.magic) {\n\t\t\ttooltipBox.appendChild(TooltipCreateHeader('Recover Time'));\n\t\t\tconst recover = document.createElement('div');\n\t\t\trecover.id = 'CMTooltipRecover';\n\t\t\ttooltipBox.appendChild(recover);\n\t\t\tconst recoverColor = GetTimeColor(CalculateGrimoireRefillTime(Math.max(0, minigame.magic - spellCost), minigame.magicM, minigame.magic));\n\t\t\trecover.textContent = recoverColor.text;\n\t\t\trecover.className = ColorTextPre + recoverColor.color;\n\t\t}\n\n\t\t// Extra information on cookies gained when spell is Conjure Baked Goods (Name === 0)\n\t\tif (TooltipName === '0') {\n\t\t\ttooltipBox.appendChild(TooltipCreateHeader('Cookies to be gained/lost'));\n\t\t\tconst conjure = document.createElement('div');\n\t\t\tconjure.id = 'x';\n\t\t\ttooltipBox.appendChild(conjure);\n\t\t\tconst reward = document.createElement('span');\n\t\t\treward.style.color = '#33FF00';\n\t\t\treward.textContent = BeautifyFormatting_Beautify(Math.min((Game.cookies + GetWrinkConfigBank()) * 0.15, CacheNoGoldSwitchCookiesPS * 60 * 30), 2);\n\t\t\tconjure.appendChild(reward);\n\t\t\tconst seperator = document.createElement('span');\n\t\t\tseperator.textContent = ' / ';\n\t\t\tconjure.appendChild(seperator);\n\t\t\tconst loss = document.createElement('span');\n\t\t\tloss.style.color = 'red';\n\t\t\tloss.textContent = BeautifyFormatting_Beautify((CacheNoGoldSwitchCookiesPS * 60 * 15), 2);\n\t\t\tconjure.appendChild(loss);\n\t\t}\n\n\t\tl('CMTooltipArea').appendChild(tooltipBox);\n\t} else l('CMTooltipArea').style.display = 'none';\n}\n\n/**\n * This function adds extra info to the Garden plots tooltips\n * It adds to the additional information to l('CMTooltipArea')\n */\nfunction GardenPlots() {\n\tconst minigame = Game.Objects.Farm.minigame;\n\tif (CMOptions.TooltipPlots && minigame.plot[TooltipName[1]][TooltipName[0]][0] !== 0) {\n\t\tconst mature = minigame.plot[TooltipName[1]][TooltipName[0]][1] > minigame.plantsById[minigame.plot[TooltipName[1]][TooltipName[0]][0] - 1].matureBase;\n\t\tconst plantName = minigame.plantsById[minigame.plot[TooltipName[1]][TooltipName[0]][0] - 1].name;\n\t\tl('CMTooltipBorder').appendChild(TooltipCreateHeader('Reward (Current / Maximum)'));\n\t\tconst reward = document.createElement('div');\n\t\treward.id = 'CMTooltipPlantReward';\n\t\tl('CMTooltipBorder').appendChild(reward);\n\t\tif (plantName === 'Bakeberry') {\n\t\t\tl('CMTooltipPlantReward').textContent = `${mature ? BeautifyFormatting_Beautify(Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 30)) : '0'} / ${BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 30)}`;\n\t\t} else if (plantName === 'Chocoroot' || plantName === 'White chocoroot') {\n\t\t\tl('CMTooltipPlantReward').textContent = `${mature ? BeautifyFormatting_Beautify(Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 3)) : '0'} / ${BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 3)}`;\n\t\t} else if (plantName === 'Queenbeet') {\n\t\t\tl('CMTooltipPlantReward').textContent = `${mature ? BeautifyFormatting_Beautify(Math.min(Game.cookies * 0.04, Game.cookiesPs * 60 * 60)) : '0'} / ${BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 60)}`;\n\t\t} else if (plantName === 'Duketater') {\n\t\t\tl('CMTooltipPlantReward').textContent = `${mature ? BeautifyFormatting_Beautify(Math.min(Game.cookies * 0.08, Game.cookiesPs * 60 * 120)) : '0'} / ${BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 120)}`;\n\t\t} else l('CMTooltipArea').style.display = 'none';\n\t} else l('CMTooltipArea').style.display = 'none';\n}\n\n/**\n * This function adds extra info to the Garden Harvest All tooltip\n * It is called when the Harvest All tooltip is created or refreshed by CM.Disp.UpdateTooltip()\n * It adds to the additional information to l('CMTooltipArea')\n */\nfunction HarvestAll() {\n\tconst minigame = Game.Objects.Farm.minigame;\n\tif (CMOptions.TooltipLump) {\n\t\tl('CMTooltipBorder').appendChild(TooltipCreateHeader('Cookies gained from harvesting:'));\n\t\tlet totalGain = 0;\n\t\tlet mortal = 0;\n\t\tif (Game.keys[16] && Game.keys[17]) mortal = 1;\n\t\tfor (let y = 0; y < 6; y++) {\n\t\t\tfor (let x = 0; x < 6; x++) {\n\t\t\t\tif (minigame.plot[y][x][0] >= 1) {\n\t\t\t\t\tconst tile = minigame.plot[y][x];\n\t\t\t\t\tconst me = minigame.plantsById[tile[0] - 1];\n\t\t\t\t\tconst plantName = me.name;\n\n\t\t\t\t\tlet count = true;\n\t\t\t\t\tif (mortal && me.immortal) count = false;\n\t\t\t\t\tif (tile[1] < me.matureBase) count = false;\n\t\t\t\t\tif (count && plantName === 'Bakeberry') {\n\t\t\t\t\t\ttotalGain += Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 30);\n\t\t\t\t\t} else if (count && plantName === 'Chocoroot' || plantName === 'White chocoroot') {\n\t\t\t\t\t\ttotalGain += Math.min(Game.cookies * 0.03, Game.cookiesPs * 60 * 3);\n\t\t\t\t\t} else if (count && plantName === 'Queenbeet') {\n\t\t\t\t\t\ttotalGain += Math.min(Game.cookies * 0.04, Game.cookiesPs * 60 * 60);\n\t\t\t\t\t} else if (count && plantName === 'Duketater') {\n\t\t\t\t\t\ttotalGain += Math.min(Game.cookies * 0.08, Game.cookiesPs * 60 * 120);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tl('CMTooltipBorder').appendChild(document.createTextNode(BeautifyFormatting_Beautify(totalGain)));\n\t} else l('CMTooltipArea').style.display = 'none';\n}\n\n/**\n * This function updates the warnings section of the building and upgrade tooltips\n * It is called by CM.Disp.UpdateTooltip()\n */\nfunction Warnings() {\n\tif (TooltipType === 'b' || TooltipType === 'u') {\n\t\tif (document.getElementById('CMDispTooltipWarningParent') === null) {\n\t\t\tl('tooltipAnchor').appendChild(TooltipCreateWarningSection());\n\t\t\tToggleToolWarnPos();\n\t\t}\n\n\t\tif (CMOptions.ToolWarnPos === 0) l('CMDispTooltipWarningParent').style.right = '0px';\n\t\telse l('CMDispTooltipWarningParent').style.top = `${l('tooltip').offsetHeight}px`;\n\n\t\tl('CMDispTooltipWarningParent').style.width = `${l('tooltip').offsetWidth - 6}px`;\n\n\t\tconst amount = (Game.cookies + GetWrinkConfigBank()) - TooltipPrice;\n\t\tconst bonusIncomeUsed = CMOptions.ToolWarnBon ? TooltipBonusIncome : 0;\n\t\tlet limitLucky = CacheLucky;\n\t\tif (CMOptions.ToolWarnBon === 1) {\n\t\t\tlet bonusNoFren = TooltipBonusIncome;\n\t\t\tbonusNoFren /= GetCPSBuffMult();\n\t\t\tlimitLucky += ((bonusNoFren * 60 * 15) / 0.15);\n\t\t}\n\n\t\tif (CMOptions.ToolWarnLucky === 1) {\n\t\t\tif (amount < limitLucky && (TooltipType !== 'b' || Game.buyMode === 1)) {\n\t\t\t\tl('CMDispTooltipWarnLucky').style.display = '';\n\t\t\t\tl('CMDispTooltipWarnLuckyText').textContent = `${BeautifyFormatting_Beautify(limitLucky - amount)} (${FormatTime((limitLucky - amount) / (GetCPS() + bonusIncomeUsed))})`;\n\t\t\t} else l('CMDispTooltipWarnLucky').style.display = 'none';\n\t\t} else l('CMDispTooltipWarnLucky').style.display = 'none';\n\n\t\tif (CMOptions.ToolWarnLuckyFrenzy === 1) {\n\t\t\tconst limitLuckyFrenzy = limitLucky * 7;\n\t\t\tif (amount < limitLuckyFrenzy && (TooltipType !== 'b' || Game.buyMode === 1)) {\n\t\t\t\tl('CMDispTooltipWarnLuckyFrenzy').style.display = '';\n\t\t\t\tl('CMDispTooltipWarnLuckyFrenzyText').textContent = `${BeautifyFormatting_Beautify(limitLuckyFrenzy - amount)} (${FormatTime((limitLuckyFrenzy - amount) / (GetCPS() + bonusIncomeUsed))})`;\n\t\t\t} else l('CMDispTooltipWarnLuckyFrenzy').style.display = 'none';\n\t\t} else l('CMDispTooltipWarnLuckyFrenzy').style.display = 'none';\n\n\t\tif (CMOptions.ToolWarnConjure === 1) {\n\t\t\tconst limitConjure = limitLucky * 2;\n\t\t\tif ((amount < limitConjure) && (TooltipType !== 'b' || Game.buyMode === 1)) {\n\t\t\t\tl('CMDispTooltipWarnConjure').style.display = '';\n\t\t\t\tl('CMDispTooltipWarnConjureText').textContent = `${BeautifyFormatting_Beautify(limitConjure - amount)} (${FormatTime((limitConjure - amount) / (GetCPS() + bonusIncomeUsed))})`;\n\t\t\t} else l('CMDispTooltipWarnConjure').style.display = 'none';\n\t\t} else l('CMDispTooltipWarnConjure').style.display = 'none';\n\n\t\tif (CMOptions.ToolWarnConjureFrenzy === 1) {\n\t\t\tconst limitConjureFrenzy = limitLucky * 2 * 7;\n\t\t\tif ((amount < limitConjureFrenzy) && (TooltipType !== 'b' || Game.buyMode === 1)) {\n\t\t\t\tl('CMDispTooltipWarnConjureFrenzy').style.display = '';\n\t\t\t\tl('CMDispTooltipWarnConjureFrenzyText').textContent = `${BeautifyFormatting_Beautify(limitConjureFrenzy - amount)} (${FormatTime((limitConjureFrenzy - amount) / (GetCPS() + bonusIncomeUsed))})`;\n\t\t\t} else l('CMDispTooltipWarnConjureFrenzy').style.display = 'none';\n\t\t} else l('CMDispTooltipWarnConjureFrenzy').style.display = 'none';\n\n\t\tif (CMOptions.ToolWarnEdifice === 1 && Game.Objects['Wizard tower'].minigameLoaded) {\n\t\t\tif (CacheEdifice && amount < CacheEdifice && (TooltipType !== 'b' || Game.buyMode === 1)) {\n\t\t\t\tl('CMDispTooltipWarnEdifice').style.display = '';\n\t\t\t\tl('CMDispTooltipWarnEdificeText').textContent = `${BeautifyFormatting_Beautify(CacheEdifice - amount)} (${FormatTime((CacheEdifice - amount) / (GetCPS() + bonusIncomeUsed))})`;\n\t\t\t} else l('CMDispTooltipWarnEdifice').style.display = 'none';\n\t\t} else l('CMDispTooltipWarnEdifice').style.display = 'none';\n\n\t\tif (CMOptions.ToolWarnUser > 0) {\n\t\t\tif (amount < CMOptions.ToolWarnUser * GetCPS() && (TooltipType !== 'b' || Game.buyMode === 1)) {\n\t\t\t\tl('CMDispTooltipWarnUser').style.display = '';\n\t\t\t\t// Need to update tooltip text dynamically\n\t\t\t\tl('CMDispTooltipWarnUser').children[0].textContent = `Purchase of this item will put you under the number of Cookies equal to ${CMOptions.ToolWarnUser} seconds of CPS`;\n\t\t\t\tl('CMDispTooltipWarnUserText').textContent = `${BeautifyFormatting_Beautify(CMOptions.ToolWarnUser * GetCPS() - amount)} (${FormatTime((CMOptions.ToolWarnUser * GetCPS() - amount) / (GetCPS() + bonusIncomeUsed))})`;\n\t\t\t} else l('CMDispTooltipWarnUser').style.display = 'none';\n\t\t} else l('CMDispTooltipWarnUser').style.display = 'none';\n\t} else if (l('CMDispTooltipWarningParent') !== null) {\n\t\tl('CMDispTooltipWarningParent').remove();\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Dragon/CacheDragonAuras.js\n/* eslint-disable no-unused-vars */\n\n\n/**\n * This functions caches the currently selected Dragon Auras\n */\nfunction CacheDragonAuras() {\n\tCacheDragonAura = Game.dragonAura;\n\tCacheDragonAura2 = Game.dragonAura2;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/InitializeData/InitAchievement.js\n/**\n * This function constructs an object with the static properties of an achievement\n * @param\t{string}\tachievementName\tName of the Achievement\n * @returns {Object}\tyou\t\t\t\tThe static object\n */\nfunction InitAchievement(achievementName) {\n\tconst me = Game.Achievements[achievementName];\n\tconst you = {};\n\tyou.name = me.name;\n\treturn you;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimGetTieredCpsMult.js\n\n\n\n/**\n * This functions creates functions similarly to Game.GetTieredCpsMult but checks Sim Data instead of Game Data\n */\nfunction SimGetTieredCpsMult(me) {\n\tlet mult = 1;\n\tfor (const i in me.tieredUpgrades) {\n\t\tif (!Game.Tiers[me.tieredUpgrades[i].tier].special && SimHas(me.tieredUpgrades[i].name)) mult *= 2;\n\t}\n\tfor (const i in me.synergies) {\n\t\tif (SimHas(me.synergies[i].name)) {\n\t\t\tconst syn = me.synergies[i];\n\t\t\tif (syn.buildingTie1.name === me.name) mult *= (1 + 0.05 * syn.buildingTie2.amount);\n\t\t\telse if (syn.buildingTie2.name === me.name) mult *= (1 + 0.001 * syn.buildingTie1.amount);\n\t\t}\n\t}\n\tif (me.fortune && SimHas(me.fortune.name)) mult *= 1.07;\n\tif (me.grandma && SimHas(me.grandma.name)) mult *= (1 + SimObjects.Grandma.amount * 0.01 * (1 / (me.id - 1)));\n\tif (typeof me.tieredUpgrades.misfortune === 'object') {\n\t\tif (me.vanilla === 1 && SimHas(me.tieredUpgrades.misfortune.name)) {\n\t\t\tswitch (Game.elderWrath) {\n\t\t\tdefault: mult *= 1; break;\n\t\t\tcase 1: mult *= 1.02; break;\n\t\t\tcase 2: mult *= 1.04; break;\n\t\t\tcase 3: mult *= 1.06; break;\n\t\t\t}\n\t\t}\n\t}\n\treturn mult;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/InitializeData/InitialBuildingData.js\n\n\n/**\n * This function constructs an object with the static properties of a building,\n * but with a 'cps' method changed to check sim data\n *\n * @param\t{string}\tbuildingName\tName of the building\n * @returns {Object}\tyou\t\t\t\tThe static object\n */\nfunction InitialBuildingData(buildingName) {\n\tconst me = Game.Objects[buildingName];\n\tconst you = {};\n\tyou.cps = function () {\n\t\tlet mult = 1;\n\t\tmult *= SimGetTieredCpsMult(me);\n\t\tmult *= Game.magicCpS(me.name);\n\t\treturn me.baseCps * mult;\n\t};\n\t// Below is needed for above eval, specifically for the GetTieredCpsMult function\n\tyou.baseCps = me.baseCps;\n\tyou.name = me.name;\n\tyou.tieredUpgrades = me.tieredUpgrades;\n\tyou.synergies = me.synergies;\n\tyou.fortune = me.fortune;\n\tyou.grandma = me.grandma;\n\tyou.baseCPS = me.baseCps;\n\tyou.id = me.id;\n\tyou.vanilla = me.vanilla;\n\treturn you;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/InitializeData/InitUpgrade.js\n\n\n\n/**\n * This function constructs an object with the static properties of an upgrade\n * @param\t{string}\tupgradeName\t\tName of the Upgrade\n * @returns {Object}\tyou\t\t\t\tThe static object\n */\nfunction InitUpgrade(upgradeName) {\n\tconst me = Game.Upgrades[upgradeName];\n\tconst you = {};\n\t// Some upgrades have a function for .power (notably the valentine cookies)\n\tyou.power = me.power;\n\tif (typeof (me.power) === 'function') {\n\t\tme.power = function () {\n\t\t\tlet pow = 2;\n\t\t\tif (SimHas('Starlove')) pow = 3;\n\t\t\tif (Game.hasGod) {\n\t\t\t\tconst godLvl = SimHasGod('seasons');\n\t\t\t\tif (godLvl === 1) pow *= 1.3;\n\t\t\t\telse if (godLvl === 2) pow *= 1.2;\n\t\t\t\telse if (godLvl === 3) pow *= 1.1;\n\t\t\t}\n\t\t\treturn pow;\n\t\t};\n\t}\n\tyou.pool = me.pool;\n\tyou.name = me.name;\n\treturn you;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationData/CopyData.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n/**\n * This function copies all relevant data and therefore sets a new iteration of the \"sim data\"\n * It is called at the start of any function that simulates certain behaviour or actions\n */\nfunction CopyData() {\n\t// Other variables\n\tSimUpgradesOwned = Game.UpgradesOwned;\n\tSimPledges = Game.pledges;\n\tSimAchievementsOwned = Game.AchievementsOwned;\n\tSimHeavenlyPower = Game.heavenlyPower;\n\tSimPrestige = Game.prestige;\n\n\t// Buildings\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tconst me = Game.Objects[i];\n\t\tlet you = SimObjects[i];\n\t\tif (you === undefined) { // New building!\n\t\t\tSimObjects[i] = InitialBuildingData(i);\n\t\t\tyou = SimObjects[i];\n\t\t\tCreateBotBarBuildingColumn(i); // Add new building to the bottom bar\n\t\t}\n\t\tyou.amount = me.amount;\n\t\tyou.level = me.level;\n\t\tyou.totalCookies = me.totalCookies;\n\t\tyou.basePrice = me.basePrice;\n\t\tyou.free = me.free;\n\t\tif (me.minigameLoaded) {\n\t\t\tyou.minigameLoaded = me.minigameLoaded;\n\t\t\tyou.minigame = me.minigame;\n\t\t}\n\t}\n\n\t// Upgrades\n\tfor (const i of Object.keys(Game.Upgrades)) {\n\t\tconst me = Game.Upgrades[i];\n\t\tlet you = SimUpgrades[i];\n\t\tif (you === undefined) {\n\t\t\tSimUpgrades[i] = InitUpgrade(i);\n\t\t\tyou = SimUpgrades[i];\n\t\t}\n\t\tyou.bought = me.bought;\n\t}\n\n\t// Achievements\n\tfor (const i of Object.keys(Game.Achievements)) {\n\t\tconst me = Game.Achievements[i];\n\t\tlet you = SimAchievements[i];\n\t\tif (you === undefined) {\n\t\t\tSimAchievements[i] = InitAchievement(i);\n\t\t\tyou = SimAchievements[i];\n\t\t}\n\t\tyou.won = me.won;\n\t}\n\n\t// Auras\n\tCacheDragonAuras();\n\tSimDragonAura = CacheDragonAura;\n\tSimDragonAura2 = CacheDragonAura2;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/BuyBuilding.js\n/**\n * This function calculates the total price for buying \"increase\" of a building\n * Base Game does not currently allow this\n * It is called by CM.Cache.CacheBuildingsPrices() and CM.Disp.Tooltip()\n * @param\t{string}\tbuild\t\tName of the building\n * @param\t{number}\tbasePrice\tBase Price of building\n * @param\t{number}\tstart\t\tStarting amount of building\n * @param\t{number}\tfree\t\tFree amount of building\n * @param\t{number}\tincrease\tIncrease of building\n * @returns {number}\tmoni\t\tTotal price\n */\nfunction BuildingGetPrice(build, basePrice, start, free, increase) {\n\tlet moni = 0;\n\tfor (let i = 0; i < increase; i++) {\n\t\tlet price = basePrice * Game.priceIncrease ** Math.max(0, start - free);\n\t\tprice = Game.modifyBuildingPrice(build, price);\n\t\tprice = Math.ceil(price);\n\t\tmoni += price;\n\t\tstart++;\n\t}\n\treturn moni;\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Tooltips/Tooltip.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n/** All general functions related to creating and updating tooltips */\n\n/**\n * This function creates some very basic tooltips, (e.g., the tooltips in the stats page)\n * The tooltips are created with CM.Disp[placeholder].appendChild(desc)\n * @param\t{string}\tplaceholder\tThe name used to later refer and spawn the tooltip\n * @param\t{string}\ttext\t\tThe text of the tooltip\n * @param\t{string}\tminWidth\tThe minimum width of the tooltip\n */\nfunction CreateSimpleTooltip(placeholder, text, minWidth) {\n\tconst Tooltip = document.createElement('div');\n\tTooltip.id = placeholder;\n\tconst desc = document.createElement('div');\n\tdesc.style.minWidth = minWidth;\n\tdesc.style.marginBottom = '4px';\n\tconst div = document.createElement('div');\n\tdiv.style.textAlign = 'left';\n\tdiv.textContent = text;\n\tdesc.appendChild(div);\n\tTooltip.appendChild(desc);\n}\n\n/**\n * This function enhance the standard tooltips by creating and changing l('tooltip')\n * The function is called by .onmouseover events that have replaced original code to use CM.Disp.Tooltip()\n * @param\t{string}\ttype\t\t\t\t\tType of tooltip (b, u, s or g)\n * @param\t{string}\tname\t\t\t\t\tName of the object/item the tooltip relates to\n * @returns {string}\tl('tooltip').innerHTML\tThe HTML of the l('tooltip')-object\n */\nfunction CreateTooltip(type, name) {\n\tif (type === 'b') { // Buildings\n\t\tl('tooltip').innerHTML = Game.Objects[name].tooltip();\n\t\t// Adds amortization info to the list of info per building\n\t\tif (CMOptions.TooltipAmor === 1) {\n\t\t\tconst buildPrice = BuildingGetPrice(Game.Objects[name], Game.Objects[name].basePrice, 0, Game.Objects[name].free, Game.Objects[name].amount);\n\t\t\tconst amortizeAmount = buildPrice - Game.Objects[name].totalCookies;\n\t\t\tif (amortizeAmount > 0) {\n\t\t\t\tl('tooltip').innerHTML = l('tooltip').innerHTML\n\t\t\t\t\t.split('so far</div>')\n\t\t\t\t\t.join(`so far<br/>&bull; <b>${BeautifyFormatting_Beautify(amortizeAmount)}</b> ${Math.floor(amortizeAmount) === 1 ? 'cookie' : 'cookies'} left to amortize (${GetTimeColor((buildPrice - Game.Objects[name].totalCookies) / (Game.Objects[name].storedTotalCps * Game.globalCpsMult)).text})</div>`);\n\t\t\t}\n\t\t}\n\t\tif (Game.buyMode === -1) {\n\t\t\t/*\n             * Fix sell price displayed in the object tooltip.\n             *\n             * The buildings sell price displayed by the game itself (without any mod) is incorrect.\n             * The following line of code fixes this issue, and can be safely removed when the game gets fixed.\n             *\n             * This issue is extensively detailed here: https://github.com/Aktanusa/CookieMonster/issues/359#issuecomment-735658262\n             */\n\t\t\tl('tooltip').innerHTML = l('tooltip').innerHTML.split(BeautifyFormatting_Beautify(Game.Objects[name].bulkPrice)).join(BeautifyFormatting_Beautify((Game.Objects[name], Game.Objects[name].basePrice, Game.Objects[name].amount, Game.Objects[name].free, Game.buyBulk, 1)));\n\t\t}\n\t} else if (type === 'u') { // Upgrades\n\t\tif (!Game.UpgradesInStore[name]) return '';\n\t\tl('tooltip').innerHTML = Game.crateTooltip(Game.UpgradesInStore[name], 'store');\n\t} else if (type === 's') l('tooltip').innerHTML = Game.lumpTooltip(); // Sugar Lumps\n\telse if (type === 'g') l('tooltip').innerHTML = Game.Objects['Wizard tower'].minigame.spellTooltip(name)(); // Grimoire\n\telse if (type === 'p') l('tooltip').innerHTML = Game.ObjectsById[2].minigame.tileTooltip(name[0], name[1])(); // Garden plots\n\telse if (type === 'ha') l('tooltip').innerHTML = Game.ObjectsById[2].minigame.toolTooltip(1)(); // Harvest all button in garden\n\n\t// Adds area for extra tooltip-sections\n\tif ((type === 'b' && Game.buyMode === 1) || type === 'u' || type === 's' || type === 'g' || (type === 'p' && !Game.keys[16]) || type === 'ha') {\n\t\tconst area = document.createElement('div');\n\t\tarea.id = 'CMTooltipArea';\n\t\tl('tooltip').appendChild(area);\n\t}\n\n\t// Sets global variables used by CM.Disp.UpdateTooltip()\n\tTooltipType = type;\n\tTooltipName = name;\n\n\tUpdateTooltips();\n\n\treturn l('tooltip').innerHTML;\n}\n\n/**\n * This function updates the sections of the tooltips created by CookieMonster\n */\nfunction UpdateTooltips() {\n\tCopyData();\n\tif (l('tooltipAnchor').style.display !== 'none' && l('CMTooltipArea')) {\n\t\tl('CMTooltipArea').innerHTML = '';\n\t\tconst tooltipBox = TooltipCreateTooltipBox();\n\t\tl('CMTooltipArea').appendChild(tooltipBox);\n\n\t\tif (TooltipType === 'b') {\n\t\t\tBuilding();\n\t\t} else if (TooltipType === 'u') {\n\t\t\tUpgrade();\n\t\t} else if (TooltipType === 's') {\n\t\t\tSugarLump();\n\t\t} else if (TooltipType === 'g') {\n\t\t\tGrimoire();\n\t\t} else if (TooltipType === 'p') {\n\t\t\tGardenPlots();\n\t\t} else if (TooltipType === 'ha') {\n\t\t\tHarvestAll();\n\t\t}\n\t\tWarnings();\n\t} else if (l('CMTooltipArea') === null) { // Remove warnings if its a basic tooltip\n\t\tif (l('CMDispTooltipWarningParent') !== null) {\n\t\t\tl('CMDispTooltipWarningParent').remove();\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Tooltips/WrinklerTooltips.js\n\n\n\n\n\n/**\n * This function checks and create a tooltip for the wrinklers\n * It is called by CM.Disp.Draw()\n * As wrinklers are not appended to the DOM we us a different system than for other tooltips\n */\nfunction CheckWrinklerTooltip() {\n\tif (CMOptions.TooltipWrink === 1 && TooltipWrinklerArea === 1) { // Latter is set by CM.Main.AddWrinklerAreaDetect\n\t\tlet showingTooltip = false;\n\t\tfor (const i of Object.keys(Game.wrinklers)) {\n\t\t\tconst me = Game.wrinklers[i];\n\t\t\tif (me.phase > 0 && me.selected) {\n\t\t\t\tshowingTooltip = true;\n\t\t\t\tif (TooltipWrinklerBeingShown[i] === 0 || TooltipWrinklerBeingShown[i] === undefined) {\n\t\t\t\t\tconst placeholder = document.createElement('div');\n\t\t\t\t\tconst wrinkler = document.createElement('div');\n\t\t\t\t\twrinkler.style.minWidth = '120px';\n\t\t\t\t\twrinkler.style.marginBottom = '4px';\n\t\t\t\t\tconst div = document.createElement('div');\n\t\t\t\t\tdiv.style.textAlign = 'center';\n\t\t\t\t\tdiv.id = 'CMTooltipWrinkler';\n\t\t\t\t\twrinkler.appendChild(div);\n\t\t\t\t\tplaceholder.appendChild(wrinkler);\n\t\t\t\t\tGame.tooltip.draw(this, escape(placeholder.innerHTML));\n\t\t\t\t\tTooltipWrinkler = i;\n\t\t\t\t\tTooltipWrinklerBeingShown[i] = 1;\n\t\t\t\t} else break;\n\t\t\t} else {\n\t\t\t\tTooltipWrinklerBeingShown[i] = 0;\n\t\t\t}\n\t\t}\n\t\tif (!showingTooltip) {\n\t\t\tGame.tooltip.hide();\n\t\t}\n\t}\n}\n\n/**\n * This function updates the amount to be displayed by the wrinkler tooltip created by CM.Disp.CheckWrinklerTooltip()\n * It is called by CM.Disp.Draw()\n * As wrinklers are not appended to the DOM we us a different system than for other tooltips\n */\nfunction UpdateWrinklerTooltip() {\n\tif (CMOptions.TooltipWrink === 1 && l('CMTooltipWrinkler') !== null) {\n\t\tlet sucked = Game.wrinklers[TooltipWrinkler].sucked;\n\t\tlet toSuck = 1.1;\n\t\tif (Game.Has('Sacrilegious corruption')) toSuck *= 1.05;\n\t\tif (Game.wrinklers[TooltipWrinkler].type === 1) toSuck *= 3; // Shiny wrinklers\n\t\tsucked *= toSuck;\n\t\tif (Game.Has('Wrinklerspawn')) sucked *= 1.05;\n\t\tif (SimObjects.Temple.minigameLoaded) {\n\t\t\tconst godLvl = Game.hasGod('scorn');\n\t\t\tif (godLvl === 1) sucked *= 1.15;\n\t\t\telse if (godLvl === 2) sucked *= 1.1;\n\t\t\telse if (godLvl === 3) sucked *= 1.05;\n\t\t}\n\t\tl('CMTooltipWrinkler').textContent = BeautifyFormatting_Beautify(sucked);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Draw.js\n\n\n\n\n\n\n\n\n\n/**\n * This function handles all custom drawing for the Game.Draw() function.\n * It is hooked on 'draw' by CM.RegisterHooks()\n */\nfunction Draw() {\n\t// Draw autosave timer in stats menu, this must be done here to make it count down correctly\n\tif (\n\t\t(Game.prefs.autosave && Game.drawT % 10 === 0) // with autosave ON and every 10 ticks\n\t\t&& (Game.onMenu === 'stats' && CMOptions.Stats) // while being on the stats menu only\n\t) {\n\t\tconst timer = document.getElementById('CMStatsAutosaveTimer');\n\t\tif (timer) {\n\t\t\ttimer.innerText = Game.sayTime(Game.fps * 60 - (Game.T % (Game.fps * 60)), 4);\n\t\t}\n\t}\n\n\t// Update colors\n\tUpdateBuildings();\n\tUpdateUpgrades();\n\n\t// Redraw timers\n\tUpdateTimerBar();\n\n\t// Update Bottom Bar\n\tUpdateBotBar();\n\n\t// Update Tooltip\n\tUpdateTooltips();\n\n\t// Update Wrinkler Tooltip\n\tCheckWrinklerTooltip();\n\tUpdateWrinklerTooltip();\n\n\t// Change menu refresh interval\n\tRefreshMenu();\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CPS/AverageQueue.js\n/* eslint-disable no-unused-vars */\n\n\n\n/**\n * @class\n * @classdesc \tThis is a class used to store values used to calculate average over time (mostly cps)\n * @var\t\t\t{number}\t\t\t\tmaxLength\tThe maximum length of the value-storage\n * @var\t\t\t{[]}\t\t\t\t\tqueue\t\tThe values stored\n * @method\t\taddLatest(newValue)\t\tAppends newValue to the value storage\n * @method\t\tcalcAverage(timePeriod)\tReturns the average over the specified timeperiod\n */\nclass CMAvgQueue {\n\tconstructor(maxLength) {\n\t\tthis.maxLength = maxLength;\n\t\tthis.queue = [];\n\t}\n\n\taddLatest(newValue) {\n\t\tif (this.queue.push(newValue) > this.maxLength) {\n\t\t\tthis.queue.shift();\n\t\t}\n\t}\n\n\t/**\n\t * This functions returns the average of the values in the queue\n\t * @param \t{number}\ttimePeriod\tThe period in seconds to computer average over\n\t * @returns {number}\tret\t\t\tThe average\n \t */\n\tcalcAverage(timePeriod) {\n\t\tif (timePeriod > this.maxLength) timePeriod = this.maxLength;\n\t\tif (timePeriod > this.queue.length) timePeriod = this.queue.length;\n\t\tlet ret = 0;\n\t\tfor (let i = this.queue.length - 1; i >= 0 && i > this.queue.length - 1 - timePeriod; i--) {\n\t\t\tret += this.queue[i];\n\t\t}\n\t\tif (ret === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn ret / timePeriod;\n\t}\n}\n\n/**\n * This functions caches creates the CMAvgQueue used by CM.Cache.CacheAvgCPS() to calculate CPS\n * Called by CM.Cache.InitCache()\n */\nfunction InitCookiesDiff() {\n\tCookiesDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n\tWrinkDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n\tWrinkFattestDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n\tChoEggDiff = new CMAvgQueue(CookieTimes[CookieTimes.length - 1]);\n\tClicksDiff = new CMAvgQueue(ClickTimes[ClickTimes.length - 1]);\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CPS/CPS.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n/**\n * This functions caches two variables related average CPS and Clicks\n * It is called by CM.Cache.LoopCache()\n * @global\t{number}\tCM.Cache.RealCookiesEarned\tCookies earned including the Chocolate Egg\n * @global\t{number}\tCM.Cache.AvgCPS\t\t\t\tAverage cookies over time-period as defined by AvgCPSHist\n * @global\t{number}\tCM.Cache.AverageClicks\t\tAverage cookies from clicking over time-period as defined by AvgClicksHist\n * @global\t{number}\tCM.Cache.AvgCPSChoEgg\t\tAverage cookies from combination of normal CPS and average Chocolate Cookie CPS\n */\nfunction CacheAvgCPS() {\n\tconst currDate = Math.floor(Date.now() / 1000);\n\t// Only calculate every new second\n\tif ((Game.T / Game.fps) % 1 === 0) {\n\t\tlet choEggTotal = Game.cookies + CacheSellForChoEgg;\n\t\tif (Game.cpsSucked > 0) choEggTotal += CacheWrinklersTotal;\n\t\tCacheRealCookiesEarned = Math.max(Game.cookiesEarned, choEggTotal);\n\t\tchoEggTotal *= 0.05;\n\n\t\t// Add recent gains to AvgQueue's\n\t\tconst timeDiff = currDate - CacheLastCPSCheck;\n\t\tconst bankDiffAvg = Math.max(0, (Game.cookies - CacheLastCookies)) / timeDiff;\n\t\tconst wrinkDiffAvg = Math.max(0, (CacheWrinklersTotal - CacheLastWrinkCookies)) / timeDiff;\n\t\tconst wrinkFattestDiffAvg = Math.max(0, (CacheWrinklersFattest[0] - CacheLastWrinkFattestCookies)) / timeDiff;\n\t\tconst choEggDiffAvg = Math.max(0, (choEggTotal - CacheLastChoEgg)) / timeDiff;\n\t\tconst clicksDiffAvg = (Game.cookieClicks - CacheLastClicks) / timeDiff;\n\t\tfor (let i = 0; i < timeDiff; i++) {\n\t\t\tCookiesDiff.addLatest(bankDiffAvg);\n\t\t\tWrinkDiff.addLatest(wrinkDiffAvg);\n\t\t\tWrinkFattestDiff.addLatest(wrinkFattestDiffAvg);\n\t\t\tChoEggDiff.addLatest(choEggDiffAvg);\n\t\t\tClicksDiff.addLatest(clicksDiffAvg);\n\t\t}\n\n\t\t// Store current data for next loop\n\t\tCacheLastCPSCheck = currDate;\n\t\tCacheLastCookies = Game.cookies;\n\t\tCacheLastWrinkCookies = CacheWrinklersTotal;\n\t\tCacheLastWrinkFattestCookies = CacheWrinklersFattest[0];\n\t\tCacheLastChoEgg = choEggTotal;\n\t\tCacheLastClicks = Game.cookieClicks;\n\n\t\t// Get average gain over period of cpsLength seconds\n\t\tconst cpsLength = CookieTimes[CMOptions.AvgCPSHist];\n\t\tCacheAverageGainBank = CookiesDiff.calcAverage(cpsLength);\n\t\tCacheAverageGainWrink = WrinkDiff.calcAverage(cpsLength);\n\t\tCacheAverageGainWrinkFattest = WrinkFattestDiff.calcAverage(cpsLength);\n\t\tCacheAverageGainChoEgg = ChoEggDiff.calcAverage(cpsLength);\n\t\tCacheAverageCPS = CacheAverageGainBank;\n\t\tif (CMOptions.CalcWrink === 1) CacheAverageCPS += CacheAverageGainWrink;\n\t\tif (CMOptions.CalcWrink === 2) CacheAverageCPS += CacheAverageGainWrinkFattest;\n\n\t\tconst choEgg = (Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg'));\n\n\t\tif (choEgg || CMOptions.CalcWrink === 0) {\n\t\t\tCacheAvgCPSWithChoEgg = CacheAverageGainBank + CacheAverageGainWrink + (choEgg ? CacheAverageGainChoEgg : 0);\n\t\t} else CacheAvgCPSWithChoEgg = CacheAverageCPS;\n\n\t\tCacheAverageClicks = ClicksDiff.calcAverage(ClickTimes[CMOptions.AvgClicksHist]);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/PP/ColourOfPP.js\n\n\n\n\n\n/**\n * This functions return the colour assosciated with the given pp value\n * It is called by CM.Cache.CacheBuildingsPP(), CM.Cache.CacheBuildingsBulkPP() and CM.Cache.CacheUpgradePP()\n * @params\t{object}\tobj\t\tThe obj of which the pp value should be checked\n * @params\t{number}\tprice\tThe price of the object\n * @returns {string}\tcolor\tThe colour assosciated with the pp value\n */\nfunction ColourOfPP(me, price) {\n\tlet color = '';\n\t// Colour based on PP\n\tif (me.pp <= 0 || me.pp === Infinity) color = ColorGray;\n\telse if (me.pp < CacheMinPP) color = ColorBlue;\n\telse if (me.pp === CacheMinPP) color = ColorGreen;\n\telse if (me.pp === CacheMaxPP) color = ColorRed;\n\telse if (me.pp > CacheMaxPP) color = ColorPurple;\n\telse if (me.pp > CacheMidPP) color = ColorOrange;\n\telse color = ColorYellow;\n\n\t// Colour based on price in terms of CPS\n\tif (Number(CMOptions.PPSecondsLowerLimit) !== 0) {\n\t\tif (price / GetCPS() < Number(CMOptions.PPSecondsLowerLimit)) color = ColorBlue;\n\t}\n\t// Colour based on being able to purchase\n\tif (CMOptions.PPOnlyConsiderBuyable) {\n\t\tif (price - Game.cookies > 0) color = ColorRed;\n\t}\n\treturn color;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/PP/Building.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n/**\n * This functions caches the PP of each building it saves all date in CM.Cache.Objects...\n * It is called by CM.Cache.CachePP()\n */\nfunction CacheBuildingsPP() {\n\tCacheMinPP = Infinity;\n\tCacheMaxPP = 1;\n\tCacheArrayOfPPs = [];\n\tif (typeof CMOptions.PPExcludeTop === 'undefined') CMOptions.PPExcludeTop = 0; // Otherwise breaks during initialization\n\n\t// Calculate PP and colors when compared to purchase of optimal building in single-purchase mode\n\tif (CMOptions.ColorPPBulkMode === 0 && Game.buyMode > 0) {\n\t\tfor (const i of Object.keys(CacheObjects1)) {\n\t\t\tif (Game.cookiesPs) {\n\t\t\t\tCacheObjects1[i].pp = (Math.max(Game.Objects[i].getPrice() - (Game.cookies + GetWrinkConfigBank()), 0) / Game.cookiesPs) + (Game.Objects[i].getPrice() / CacheObjects1[i].bonus);\n\t\t\t} else CacheObjects1[i].pp = (Game.Objects[i].getPrice() / CacheObjects1[i].bonus);\n\t\t\tCacheArrayOfPPs.push([CacheObjects1[i].pp, Game.Objects[i].getPrice()]);\n\t\t}\n\t\t// Set CM.Cache.min to best non-excluded buidliung\n\t\tCacheArrayOfPPs.sort((a, b) => a[0] - b[0]);\n\t\tif (CMOptions.PPOnlyConsiderBuyable) {\n\t\t\twhile (CacheArrayOfPPs[0][1] > Game.cookies) {\n\t\t\t\tif (CacheArrayOfPPs.length === 1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tCacheArrayOfPPs.shift();\n\t\t\t}\n\t\t}\n\t\tCacheMinPP = CacheArrayOfPPs[CMOptions.PPExcludeTop][0];\n\t\tCacheMaxPP = CacheArrayOfPPs[CacheArrayOfPPs.length - 1][0];\n\t\tCacheMidPP = ((CacheMaxPP - CacheMinPP) / 2) + CacheMinPP;\n\t\tfor (const i of Object.keys(CacheObjects1)) {\n\t\t\tCacheObjects1[i].color = ColourOfPP(CacheObjects1[i], Game.Objects[i].getPrice());\n\t\t\t// Colour based on excluding certain top-buildings\n\t\t\tfor (let j = 0; j < CMOptions.PPExcludeTop; j++) {\n\t\t\t\tif (CacheObjects1[i].pp === CacheArrayOfPPs[j][0]) CacheObjects1[i].color = ColorGray;\n\t\t\t}\n\t\t}\n\t\t// Calculate PP of bulk-buy modes\n\t\tCacheBuildingsBulkPP(CacheObjects10);\n\t\tCacheBuildingsBulkPP(CacheObjects100);\n\t} else if (Game.buyMode > 0) {\n\t\t// Calculate PP and colors when compared to purchase of selected bulk mode\n\t\tlet target;\n\t\tif (Game.buyBulk === 1) target = CacheObjects1;\n\t\telse if (Game.buyBulk === 10) target = CacheObjects10;\n\t\telse if (Game.buyBulk === 100) target = CacheObjects100;\n\t\tfor (const i of Object.keys(target)) {\n\t\t\tif (Game.cookiesPs) {\n\t\t\t\ttarget[i].pp = (Math.max(Game.Objects[i].bulkPrice - (Game.cookies + GetWrinkConfigBank()), 0) / Game.cookiesPs) + (Game.Objects[i].bulkPrice / target[i].bonus);\n\t\t\t} else target[i].pp = (Game.Objects[i].bulkPrice / target[i].bonus);\n\t\t\tCacheArrayOfPPs.push([target[i].pp, Game.Objects[i].bulkPrice]);\n\t\t}\n\t\t// Set CM.Cache.min to best non-excluded buidliung\n\t\tCacheArrayOfPPs.sort((a, b) => a[0] - b[0]);\n\t\tif (CMOptions.PPOnlyConsiderBuyable) {\n\t\t\twhile (CacheArrayOfPPs[0][1] > Game.cookies) {\n\t\t\t\tif (CacheArrayOfPPs.length === 1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tCacheArrayOfPPs.shift();\n\t\t\t}\n\t\t}\n\t\tCacheMinPP = CacheArrayOfPPs[CMOptions.PPExcludeTop][0];\n\t\tCacheMaxPP = CacheArrayOfPPs[CacheArrayOfPPs.length - 1][0];\n\t\tCacheMidPP = ((CacheMaxPP - CacheMinPP) / 2) + CacheMinPP;\n\n\t\tfor (const i of Object.keys(CacheObjects1)) {\n\t\t\ttarget[i].color = ColourOfPP(target[i], Game.Objects[i].bulkPrice);\n\t\t\t// Colour based on excluding certain top-buildings\n\t\t\tfor (let j = 0; j < CMOptions.PPExcludeTop; j++) {\n\t\t\t\tif (target[i].pp === CacheArrayOfPPs[j][0]) target[i].color = ColorGray;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * This functions caches the buildings of bulk-buy mode when PP is compared against optimal single-purchase building\n * It saves all date in CM.Cache.Objects...\n * It is called by CM.Cache.CacheBuildingsPP()\n */\nfunction CacheBuildingsBulkPP(target) {\n\tfor (const i of Object.keys(target)) {\n\t\tif (Game.cookiesPs) {\n\t\t\ttarget[i].pp = (Math.max(target[i].price - (Game.cookies + GetWrinkConfigBank()), 0) / Game.cookiesPs) + (target[i].price / target[i].bonus);\n\t\t} else target[i].pp = (target[i].price / target[i].bonus);\n\n\t\ttarget[i].color = ColourOfPP(target[i], target[i].price);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/PP/Upgrade.js\n\n\n\n\n/**\n * This functions caches the PP of each building it saves all date in CM.Cache.Upgrades\n * It is called by CM.Cache.CachePP()\n */\nfunction CacheUpgradePP() {\n\tfor (const i of Object.keys(CacheUpgrades)) {\n\t\tif (Game.cookiesPs) {\n\t\t\tCacheUpgrades[i].pp = (Math.max(Game.Upgrades[i].getPrice() - (Game.cookies + GetWrinkConfigBank()), 0) / Game.cookiesPs) + (Game.Upgrades[i].getPrice() / CacheUpgrades[i].bonus);\n\t\t} else CacheUpgrades[i].pp = (Game.Upgrades[i].getPrice() / CacheUpgrades[i].bonus);\n\t\tif (Number.isNaN(CacheUpgrades[i].pp)) CacheUpgrades[i].pp = Infinity;\n\n\t\tCacheUpgrades[i].color = ColourOfPP(CacheUpgrades[i], Game.Upgrades[i].getPrice());\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/PP/PP.js\n/**\n * Section: Functions related to caching PP */\n\n\n\n\n/**\n * This functions caches the PP of each building and upgrade and stores it in the cache\n * It is called by CM.Cache.LoopCache() and CM.Cache.InitCache()\n */\nfunction CachePP() {\n\tCacheBuildingsPP();\n\tCacheUpgradePP();\n}\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimGetHeavenlyMultiplier.js\n\n\n\n\n/**\n * This functions creates functions similarly to Game.GetHeavenlyMultiplier but checks Sim Data instead of Game Data\n */\nfunction SimGetHeavenlyMultiplier() {\n\tlet heavenlyMult = 0;\n\tif (SimHas('Heavenly chip secret')) heavenlyMult += 0.05;\n\tif (SimHas('Heavenly cookie stand')) heavenlyMult += 0.20;\n\tif (SimHas('Heavenly bakery')) heavenlyMult += 0.25;\n\tif (SimHas('Heavenly confectionery')) heavenlyMult += 0.25;\n\tif (SimHas('Heavenly key')) heavenlyMult += 0.25;\n\t// if (SimHasAura('Dragon God')) heavenlyMult*=1.05;\n\theavenlyMult *= 1 + SimAuraMult('Dragon God') * 0.05;\n\tif (SimHas('Lucky digit')) heavenlyMult *= 1.01;\n\tif (SimHas('Lucky number')) heavenlyMult *= 1.01;\n\tif (SimHas('Lucky payout')) heavenlyMult *= 1.01;\n\tif (Game.hasGod) {\n\t\tconst godLvl = SimHasGod('creation');\n\t\tif (godLvl === 1) heavenlyMult *= 0.7;\n\t\telse if (godLvl === 2) heavenlyMult *= 0.8;\n\t\telse if (godLvl === 3) heavenlyMult *= 0.9;\n\t}\n\treturn heavenlyMult;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationData/SimWin.js\n/* eslint-disable no-unused-vars */\n\n\n/**\n * This function \"wins\" an achievement in the current sim data\n * It functions similarly to Game.Win()\n * It is not created by CM.Sim.CreateSimFunctions() in order to avoid spamming pop-ups upon winning\n * @param\t{string}\twhat\tName of the achievement\n */\nfunction SimWin(what) {\n\tif (SimAchievements[what]) {\n\t\tif (SimAchievements[what].won === 0) {\n\t\t\tSimAchievements[what].won = 1;\n\t\t\tif (Game.Achievements[what].pool !== 'shadow') SimAchievementsOwned++;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Sim/Calculations/CalculateGains.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n\n/**\n * This function calculates the CPS of the current \"sim data\"\n * It is similar to Game.CalculateGains()\n * It is called at the start of any function that simulates certain behaviour or actions\n * @global\t{number}\tCM.Sim.cookiesPs\tThe CPS of the current sim data\n */\nfunction CalculateGains() {\n\tSimCookiesPs = 0;\n\tlet mult = 1;\n\t// Include minigame effects\n\tconst effs = {};\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tif (Game.Objects[i].minigameLoaded && Game.Objects[i].minigame.effs) {\n\t\t\tconst myEffs = Game.Objects[i].minigame.effs;\n\t\t\tfor (const ii in myEffs) {\n\t\t\t\tif (effs[ii]) effs[ii] *= myEffs[ii];\n\t\t\t\telse effs[ii] = myEffs[ii];\n\t\t\t}\n\t\t}\n\t}\n\tSimEffs = effs;\n\n\tif (Game.ascensionMode !== 1) mult += parseFloat(SimPrestige) * 0.01 * SimHeavenlyPower * SimGetHeavenlyMultiplier();\n\n\tmult *= SimEff('cps');\n\n\tif (SimHas('Heralds') && Game.ascensionMode !== 1) mult *= 1 + 0.01 * Game.heralds;\n\n\tfor (const i of Object.keys(Game.cookieUpgrades)) {\n\t\tconst me = Game.cookieUpgrades[i];\n\t\tif (SimHas(me.name)) {\n\t\t\t// Some upgrades have a functio as .power (notably the valentine cookies)\n\t\t\t// CM.Sim.InitialBuildingData has changed to use CM.Sim.Has instead of Game.Has etc.\n\t\t\t// Therefore this call is to the .power of the Sim.Object\n\t\t\tif (typeof (me.power) === 'function') {\n\t\t\t\tmult *= 1 + (SimUpgrades[me.name].power(SimUpgrades[me.name]) * 0.01);\n\t\t\t} else mult *= 1 + (me.power * 0.01);\n\t\t}\n\t}\n\n\tif (SimHas('Specialized chocolate chips')) mult *= 1.01;\n\tif (SimHas('Designer cocoa beans')) mult *= 1.02;\n\tif (SimHas('Underworld ovens')) mult *= 1.03;\n\tif (SimHas('Exotic nuts')) mult *= 1.04;\n\tif (SimHas('Arcane sugar')) mult *= 1.05;\n\n\tif (SimHas('Increased merriness')) mult *= 1.15;\n\tif (SimHas('Improved jolliness')) mult *= 1.15;\n\tif (SimHas('A lump of coal')) mult *= 1.01;\n\tif (SimHas('An itchy sweater')) mult *= 1.01;\n\tif (SimHas('Santa\\'s dominion')) mult *= 1.2;\n\n\tif (SimHas('Fortune #100')) mult *= 1.01;\n\tif (SimHas('Fortune #101')) mult *= 1.07;\n\n\tif (SimHas('Dragon scale')) mult *= 1.03;\n\n\t// Check effect of chosen Gods\n\tlet buildMult = 1;\n\tif (SimHasGod) {\n\t\tlet godLvl = SimHasGod('asceticism');\n\t\tif (godLvl === 1) mult *= 1.15;\n\t\telse if (godLvl === 2) mult *= 1.1;\n\t\telse if (godLvl === 3) mult *= 1.05;\n\n\t\tgodLvl = SimHasGod('ages');\n\t\tif (godLvl === 1) mult *= 1 + 0.15 * Math.sin((SimDateAges / 1000 / (60 * 60 * 3)) * Math.PI * 2);\n\t\telse if (godLvl === 2) mult *= 1 + 0.15 * Math.sin((SimDateAges / 1000 / (60 * 60 * 12)) * Math.PI * 2);\n\t\telse if (godLvl === 3) mult *= 1 + 0.15 * Math.sin((SimDateAges / 1000 / (60 * 60 * 24)) * Math.PI * 2);\n\n\t\tgodLvl = SimHasGod('decadence');\n\t\tif (godLvl === 1) buildMult *= 0.93;\n\t\telse if (godLvl === 2) buildMult *= 0.95;\n\t\telse if (godLvl === 3) buildMult *= 0.98;\n\n\t\tgodLvl = SimHasGod('industry');\n\t\tif (godLvl === 1) buildMult *= 1.1;\n\t\telse if (godLvl === 2) buildMult *= 1.06;\n\t\telse if (godLvl === 3) buildMult *= 1.03;\n\n\t\tgodLvl = SimHasGod('labor');\n\t\tif (godLvl === 1) buildMult *= 0.97;\n\t\telse if (godLvl === 2) buildMult *= 0.98;\n\t\telse if (godLvl === 3) buildMult *= 0.99;\n\t}\n\n\tif (SimHas('Santa\\'s legacy')) mult *= 1 + (Game.santaLevel + 1) * 0.03;\n\n\tconst milkProgress = SimAchievementsOwned / 25;\n\tlet milkMult = 1;\n\tif (SimHas('Santa\\'s milk and cookies')) milkMult *= 1.05;\n\t// if (CM.Sim.hasAura('Breath of Milk')) milkMult *= 1.05;\n\tmilkMult *= 1 + SimAuraMult('Breath of Milk') * 0.05;\n\tif (SimHasGod) {\n\t\tconst godLvl = SimHasGod('mother');\n\t\tif (godLvl === 1) milkMult *= 1.1;\n\t\telse if (godLvl === 2) milkMult *= 1.05;\n\t\telse if (godLvl === 3) milkMult *= 1.03;\n\t}\n\tmilkMult *= SimEff('milk');\n\n\tlet catMult = 1;\n\n\tif (SimHas('Kitten helpers')) catMult *= (1 + milkProgress * 0.1 * milkMult);\n\tif (SimHas('Kitten workers')) catMult *= (1 + milkProgress * 0.125 * milkMult);\n\tif (SimHas('Kitten engineers')) catMult *= (1 + milkProgress * 0.15 * milkMult);\n\tif (SimHas('Kitten overseers')) catMult *= (1 + milkProgress * 0.175 * milkMult);\n\tif (SimHas('Kitten managers')) catMult *= (1 + milkProgress * 0.2 * milkMult);\n\tif (SimHas('Kitten accountants')) catMult *= (1 + milkProgress * 0.2 * milkMult);\n\tif (SimHas('Kitten specialists')) catMult *= (1 + milkProgress * 0.2 * milkMult);\n\tif (SimHas('Kitten experts')) catMult *= (1 + milkProgress * 0.2 * milkMult);\n\tif (SimHas('Kitten consultants')) catMult *= (1 + milkProgress * 0.2 * milkMult);\n\tif (SimHas('Kitten assistants to the regional manager')) catMult *= (1 + milkProgress * 0.175 * milkMult);\n\tif (SimHas('Kitten marketeers')) catMult *= (1 + milkProgress * 0.15 * milkMult);\n\tif (SimHas('Kitten analysts')) catMult *= (1 + milkProgress * 0.125 * milkMult);\n\tif (SimHas('Kitten executives')) catMult *= (1 + milkProgress * 0.115 * milkMult);\n\tif (SimHas('Kitten angels')) catMult *= (1 + milkProgress * 0.1 * milkMult);\n\tif (SimHas('Fortune #103')) catMult *= (1 + milkProgress * 0.05 * milkMult);\n\n\tfor (const i of Object.keys(SimObjects)) {\n\t\tconst me = SimObjects[i];\n\t\tlet storedCps = me.cps(me);\n\t\tif (Game.ascensionMode !== 1) storedCps *= (1 + me.level * 0.01) * buildMult;\n\t\tif (me.name === 'Grandma' && SimHas('Milkhelp&reg; lactose intolerance relief tablets')) storedCps *= 1 + 0.05 * milkProgress * milkMult;\n\t\tSimCookiesPs += me.amount * storedCps;\n\t}\n\n\tif (SimHas('\"egg\"')) SimCookiesPs += 9;// \"egg\"\n\n\tmult *= catMult;\n\n\tlet eggMult = 1;\n\tif (SimHas('Chicken egg')) eggMult *= 1.01;\n\tif (SimHas('Duck egg')) eggMult *= 1.01;\n\tif (SimHas('Turkey egg')) eggMult *= 1.01;\n\tif (SimHas('Quail egg')) eggMult *= 1.01;\n\tif (SimHas('Robin egg')) eggMult *= 1.01;\n\tif (SimHas('Ostrich egg')) eggMult *= 1.01;\n\tif (SimHas('Cassowary egg')) eggMult *= 1.01;\n\tif (SimHas('Salmon roe')) eggMult *= 1.01;\n\tif (SimHas('Frogspawn')) eggMult *= 1.01;\n\tif (SimHas('Shark egg')) eggMult *= 1.01;\n\tif (SimHas('Turtle egg')) eggMult *= 1.01;\n\tif (SimHas('Ant larva')) eggMult *= 1.01;\n\tif (SimHas('Century egg')) {\n\t\t// The boost increases a little every day, with diminishing returns up to +10% on the 100th day\n\t\tlet day = Math.floor((SimDateCentury - Game.startDate) / 1000 / 10) * 10 / 60 / 60 / 24;\n\t\tday = Math.min(day, 100);\n\t\t// Sets a Cache value to be displayed in the Stats page, could be moved...\n\t\tCacheCentEgg = 1 + (1 - (1 - day / 100) ** 3) * 0.1;\n\t\teggMult *= CacheCentEgg;\n\t}\n\tmult *= eggMult;\n\n\tif (SimHas('Sugar baking')) mult *= (1 + Math.min(100, Game.lumps) * 0.01);\n\n\t// if (CM.Sim.hasAura('Radiant Appetite')) mult *= 2;\n\tmult *= 1 + SimAuraMult('Radiant Appetite');\n\n\tconst rawCookiesPs = SimCookiesPs * mult;\n\tfor (const i of Object.keys(Game.CpsAchievements)) {\n\t\tif (rawCookiesPs >= Game.CpsAchievements[i].threshold) SimWin(Game.CpsAchievements[i].name);\n\t}\n\n\tSimCookiesPsRaw = rawCookiesPs;\n\n\tconst n = Game.shimmerTypes.golden.n;\n\tconst auraMult = SimAuraMult('Dragon\\'s Fortune');\n\tfor (let i = 0; i < n; i++) {\n\t\tmult *= 1 + auraMult * 1.23;\n\t}\n\n\tconst name = Game.bakeryName.toLowerCase();\n\tif (name === 'orteil') mult *= 0.99;\n\telse if (name === 'ortiel') mult *= 0.98;\n\n\tif (SimHas('Elder Covenant')) mult *= 0.95;\n\n\tif (SimHas('Golden switch [off]')) {\n\t\tlet goldenSwitchMult = 1.5;\n\t\tif (SimHas('Residual luck')) {\n\t\t\tconst upgrades = Game.goldenCookieUpgrades;\n\t\t\tfor (const i of Object.keys(upgrades)) {\n\t\t\t\tif (SimHas(upgrades[i])) goldenSwitchMult += 0.1;\n\t\t\t}\n\t\t}\n\t\tmult *= goldenSwitchMult;\n\t}\n\tif (SimHas('Shimmering veil [off]')) {\n\t\tlet veilMult = 0.5;\n\t\tif (SimHas('Reinforced membrane')) veilMult += 0.1;\n\t\tmult *= 1 + veilMult;\n\t}\n\n\tif (SimHas('Magic shenanigans')) mult *= 1000;\n\tif (SimHas('Occult obstruction')) mult *= 0;\n\n\tSimCookiesPs = Game.runModHookOnValue('cps', SimCookiesPs);\n\n\tmult *= GetCPSBuffMult();\n\n\tSimCookiesPs *= mult;\n\n\t// if (Game.hasBuff('Cursed finger')) Game.cookiesPs = 0;\n}\n\n;// CONCATENATED MODULE: ./src/Data/Gamedata.js\n/** Data copied directly from the game */\n\n/** Array of the names of all fortune cookies obtainable from the ticker */\nconst Fortunes = [\n\t'Fortune #001',\n\t'Fortune #002',\n\t'Fortune #003',\n\t'Fortune #004',\n\t'Fortune #005',\n\t'Fortune #006',\n\t'Fortune #007',\n\t'Fortune #008',\n\t'Fortune #009',\n\t'Fortune #010',\n\t'Fortune #011',\n\t'Fortune #012',\n\t'Fortune #013',\n\t'Fortune #014',\n\t'Fortune #015',\n\t'Fortune #016',\n\t'Fortune #017',\n\t'Fortune #018',\n\t'Fortune #100',\n\t'Fortune #101',\n\t'Fortune #102',\n\t'Fortune #103',\n\t'Fortune #104',\n];\n\n/** Array of the names of all Halloween cookies */\nconst HalloCookies = [\n\t'Skull cookies',\n\t'Ghost cookies',\n\t'Bat cookies',\n\t'Slime cookies',\n\t'Pumpkin cookies',\n\t'Eyeball cookies',\n\t'Spider cookies',\n];\n\n/** Array of the names of all Christmas cookies */\nconst ChristCookies = ['Christmas tree biscuits',\n\t'Snowflake biscuits',\n\t'Snowman biscuits',\n\t'Holly biscuits',\n\t'Candy cane biscuits',\n\t'Bell biscuits',\n\t'Present biscuits',\n];\n\n/** Array of the names of all Valentine cookies */\nconst ValCookies = ['Pure heart biscuits',\n\t'Ardent heart biscuits',\n\t'Sour heart biscuits',\n\t'Weeping heart biscuits',\n\t'Golden heart biscuits',\n\t'Eternal heart biscuits',\n\t'Prism heart biscuits',\n];\n\n/** Array of the names of all plant drops */\nconst PlantDrops = ['Elderwort biscuits',\n\t'Bakeberry cookies',\n\t'Duketater cookies',\n\t'Green yeast digestives',\n\t'Wheat slims',\n\t'Fern tea',\n\t'Ichor syrup',\n];\n\n/** All possible effects plants and other items can have with a display-title */\nconst Effects = {\n\tbuildingCost: 'Building prices',\n\tclick: 'Cookies per click',\n\tcps: 'Total CPS',\n\tcursorCps: 'Cursor CPS',\n\tgoldenCookieDur: 'Golden cookie duration',\n\tgoldenCookieEffDur: 'Golden cookie effect duration',\n\tgoldenCookieFreq: 'Golden cookie frequency',\n\tgoldenCookieGain: 'Golden cookie gains',\n\tgrandmaCps: 'Grandma CPS',\n\titemDrops: 'Random item drop chance',\n\tmilk: 'Effect from milk',\n\treindeerDur: 'Reindeer duration',\n\treindeerFreq: 'Reindeer frequency',\n\treindeerGain: 'Reindeer gains',\n\tupgradeCost: 'Upgrade prices',\n\twrathCookieDur: 'Wrath cookie duration',\n\twrathCookieEffDur: 'Wrath cookie effect duration',\n\twrathCookieFreq: 'Wrath cookie frequency',\n\twrathCookieGain: 'Wrath cookie gains',\n\twrinklerEat: 'Wrinkler ',\n\twrinklerSpawn: 'Wrinkler spawn frequency',\n};\n\n;// CONCATENATED MODULE: ./src/Sim/ReplacedGameFunctions/SimHasAchiev.js\n\n\n/**\n * This functions creates functions similarly to Game.HasAchiev but checks Sim Data instead of Game Data\n */\nfunction SimHasAchiev(what) {\n\treturn (SimAchievements[what] ? SimAchievements[what].won : 0);\n}\n\n;// CONCATENATED MODULE: ./src/Sim/Calculations/CheckOtherAchiev.js\n\n\n\n\n\n\n/**\n * This function calculates if any special achievements have been obtained\n * If so it SimWin()'s them and the caller function will know to recall CM.Sim.CalculateGains()\n * It is called at the end of any functions that simulates certain behaviour\n */\nfunction CheckOtherAchiev() {\n\tlet grandmas = 0;\n\tfor (const i of Object.keys(Game.GrandmaSynergies)) {\n\t\tif (SimHas(Game.GrandmaSynergies[i])) grandmas++;\n\t}\n\tif (!SimHasAchiev('Elder') && grandmas >= 7) SimWin('Elder');\n\tif (!SimHasAchiev('Veteran') && grandmas >= 14) SimWin('Veteran');\n\n\tlet buildingsOwned = 0;\n\tlet mathematician = 1;\n\tlet base10 = 1;\n\tlet minAmount = 100000;\n\tfor (const i of Object.keys(SimObjects)) {\n\t\tbuildingsOwned += SimObjects[i].amount;\n\t\tminAmount = Math.min(SimObjects[i].amount, minAmount);\n\t\tif (!SimHasAchiev('Mathematician')) {\n\t\t\tif (SimObjects[i].amount < Math.min(128, 2 ** ((Game.ObjectsById.length - Game.Objects[i].id) - 1))) mathematician = 0;\n\t\t}\n\t\tif (!SimHasAchiev('Base 10')) {\n\t\t\tif (SimObjects[i].amount < (Game.ObjectsById.length - Game.Objects[i].id) * 10) base10 = 0;\n\t\t}\n\t}\n\tif (minAmount >= 1) SimWin('One with everything');\n\tif (mathematician === 1) SimWin('Mathematician');\n\tif (base10 === 1) SimWin('Base 10');\n\tif (minAmount >= 100) SimWin('Centennial');\n\tif (minAmount >= 150) SimWin('Centennial and a half');\n\tif (minAmount >= 200) SimWin('Bicentennial');\n\tif (minAmount >= 250) SimWin('Bicentennial and a half');\n\tif (minAmount >= 300) SimWin('Tricentennial');\n\tif (minAmount >= 350) SimWin('Tricentennial and a half');\n\tif (minAmount >= 400) SimWin('Quadricentennial');\n\tif (minAmount >= 450) SimWin('Quadricentennial and a half');\n\tif (minAmount >= 500) SimWin('Quincentennial');\n\tif (minAmount >= 550) SimWin('Quincentennial and a half');\n\tif (minAmount >= 600) SimWin('Sexcentennial');\n\n\tif (buildingsOwned >= 100) SimWin('Builder');\n\tif (buildingsOwned >= 500) SimWin('Architect');\n\tif (buildingsOwned >= 1000) SimWin('Engineer');\n\tif (buildingsOwned >= 2000) SimWin('Lord of Constructs');\n\tif (buildingsOwned >= 4000) SimWin('Grand design');\n\tif (buildingsOwned >= 8000) SimWin('Ecumenopolis');\n\n\tif (SimUpgradesOwned >= 20) SimWin('Enhancer');\n\tif (SimUpgradesOwned >= 50) SimWin('Augmenter');\n\tif (SimUpgradesOwned >= 100) SimWin('Upgrader');\n\tif (SimUpgradesOwned >= 200) SimWin('Lord of Progress');\n\tif (SimUpgradesOwned >= 300) SimWin('The full picture');\n\tif (SimUpgradesOwned >= 400) SimWin('When there\\'s nothing left to add');\n\n\tif (buildingsOwned >= 4000 && SimUpgradesOwned >= 300) SimWin('Polymath');\n\tif (buildingsOwned >= 8000 && SimUpgradesOwned >= 400) SimWin('Renaissance baker');\n\n\tif (SimObjects.Cursor.amount + SimObjects.Grandma.amount >= 777) SimWin('The elder scrolls');\n\n\tlet hasAllHalloCook = true;\n\tfor (const i of Object.keys(HalloCookies)) {\n\t\tif (!SimHas(HalloCookies[i])) hasAllHalloCook = false;\n\t}\n\tif (hasAllHalloCook) SimWin('Spooky cookies');\n\n\tlet hasAllChristCook = true;\n\tfor (const i of Object.keys(ChristCookies)) {\n\t\tif (!SimHas(ChristCookies[i])) hasAllChristCook = false;\n\t}\n\tif (hasAllChristCook) SimWin('Let it snow');\n\n\tif (SimHas('Fortune cookies')) {\n\t\tconst list = Game.Tiers.fortune.upgrades;\n\t\tlet fortunes = 0;\n\t\tfor (const i of Object.keys(list)) {\n\t\t\tif (SimHas(list[i].name)) fortunes++;\n\t\t}\n\t\tif (fortunes >= list.length) SimWin('O Fortuna');\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/BuyBuildingBonusIncome.js\n\n\n\n\n\n\n/**\n * This function calculates the bonus income of buying a building\n * It is called by CM.Cache.CacheBuildingIncome()\n * @param\t{string}\tbuilding\tThe name of the building to be bought\n * @param\t{number}\tamount\t\tThe amount to be bought\n * @returns {number}\t\t\t\tThe bonus income of the building\n */\nfunction BuyBuildingsBonusIncome(building, amount) {\n\tCopyData();\n\tconst me = SimObjects[building];\n\tme.amount += amount;\n\n\tif (building === 'Cursor') {\n\t\tif (me.amount >= 1) SimWin('Click');\n\t\tif (me.amount >= 2) SimWin('Double-click');\n\t\tif (me.amount >= 50) SimWin('Mouse wheel');\n\t\tif (me.amount >= 100) SimWin('Of Mice and Men');\n\t\tif (me.amount >= 200) SimWin('The Digital');\n\t\tif (me.amount >= 300) SimWin('Extreme polydactyly');\n\t\tif (me.amount >= 400) SimWin('Dr. T');\n\t\tif (me.amount >= 500) SimWin('Thumbs, phalanges, metacarpals');\n\t\tif (me.amount >= 600) SimWin('With her finger and her thumb');\n\t\tif (me.amount >= 700) SimWin('Gotta hand it to you');\n\t\tif (me.amount >= 800) SimWin('The devil\\'s workshop');\n\t} else {\n\t\tfor (const j in Game.Objects[me.name].tieredAchievs) {\n\t\t\tif (me.amount >= Game.Tiers[Game.Objects[me.name].tieredAchievs[j].tier].achievUnlock) {\n\t\t\t\tSimWin(Game.Objects[me.name].tieredAchievs[j].name);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst lastAchievementsOwned = SimAchievementsOwned;\n\n\tCalculateGains();\n\n\tCheckOtherAchiev();\n\n\tif (lastAchievementsOwned !== SimAchievementsOwned) {\n\t\tCalculateGains();\n\t}\n\n\treturn SimCookiesPs - Game.cookiesPs;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/BuyUpgrades.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n\n/**\n * This function calculates the bonus income of buying a building\n * It is called by CM.Cache.CacheBuildingIncome()\n * @param\t{string}\t\t\t\tbuilding\tThe name of the upgrade to be bought\n * @returns {[{number, number}]}\t\t\t\tThe bonus income of the upgrade and the difference in MouseCPS\n */\nfunction BuyUpgradesBonusIncome(upgrade) {\n\tif (Game.Upgrades[upgrade].pool === 'toggle' || (Game.Upgrades[upgrade].bought === 0 && Game.Upgrades[upgrade].unlocked && Game.Upgrades[upgrade].pool !== 'prestige')) {\n\t\tCopyData();\n\t\tconst me = SimUpgrades[upgrade];\n\t\tif (me.name === 'Shimmering veil [on]') {\n\t\t\tSimUpgrades[\"Shimmering veil [off]\"].bought = 0;\n\t\t} else if (me.name === 'Golden switch [on]') {\n\t\t\tSimUpgrades[\"Golden switch [off]\"].bought = 0;\n\t\t} else {\n\t\t\tme.bought = (me.bought + 1) % 2;\n\t\t}\n\t\tif (Game.CountsAsUpgradeOwned(Game.Upgrades[upgrade].pool)) SimUpgradesOwned++;\n\n\t\tif (upgrade === 'Elder Pledge') {\n\t\t\tSimPledges++;\n\t\t\tif (SimPledges > 0) SimWin('Elder nap');\n\t\t\tif (SimPledges >= 5) SimWin('Elder slumber');\n\t\t} else if (upgrade === 'Elder Covenant') {\n\t\t\tSimWin('Elder calm');\n\t\t} else if (upgrade === 'Prism heart biscuits') {\n\t\t\tSimWin('Lovely cookies');\n\t\t} else if (upgrade === 'Heavenly key') {\n\t\t\tSimWin('Wholesome');\n\t\t}\n\n\t\tconst lastAchievementsOwned = SimAchievementsOwned;\n\n\t\tCalculateGains();\n\n\t\tCheckOtherAchiev();\n\n\t\tif (lastAchievementsOwned !== SimAchievementsOwned) {\n\t\t\tCalculateGains();\n\t\t}\n\n\t\tconst diffMouseCPS = MouseCps() - Game.computedMouseCps;\n\t\tif (diffMouseCPS) {\n\t\t\treturn [SimCookiesPs - Game.cookiesPs, diffMouseCPS];\n\t\t}\n\t\treturn [SimCookiesPs - Game.cookiesPs];\n\t} else {\n\t\treturn [];\n\t}\n}\n\n/**\n * This function calculates the cookies per click\n * It is called by CM.Sim.BuyUpgradesBonusIncome() when an upgrades has no bonus-income (and is thus a clicking-upgrade)\n * @returns\t{number}\tout\tThe clicking power\n */\nfunction MouseCps() {\n\tlet add = 0;\n\tif (SimHas('Thousand fingers')) add += 0.1;\n\tif (SimHas('Million fingers')) add *= 5;\n\tif (SimHas('Billion fingers')) add *= 10;\n\tif (SimHas('Trillion fingers')) add *= 20;\n\tif (SimHas('Quadrillion fingers')) add *= 20;\n\tif (SimHas('Quintillion fingers')) add *= 20;\n\tif (SimHas('Sextillion fingers')) add *= 20;\n\tif (SimHas('Septillion fingers')) add *= 20;\n\tif (SimHas('Octillion fingers')) add *= 20;\n\tif (SimHas('Nonillion fingers')) add *= 20;\n\tlet num = 0;\n\tfor (const i of Object.keys(SimObjects)) { num += SimObjects[i].amount; }\n\tnum -= SimObjects.Cursor.amount;\n\tadd *= num;\n\n\t// Can use SimCookiesPs as function is always called after CM.Sim.CalculateGains()\n\tif (SimHas('Plastic mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Iron mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Titanium mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Adamantium mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Unobtainium mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Eludium mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Wishalloy mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Fantasteel mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Nevercrack mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Armythril mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Technobsidian mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Plasmarble mouse')) add += SimCookiesPs * 0.01;\n\tif (SimHas('Miraculite mouse')) add += SimCookiesPs * 0.01;\n\n\tif (SimHas('Fortune #104')) add += SimCookiesPs * 0.01;\n\n\tlet mult = 1;\n\tif (SimHas('Santa\\'s helpers')) mult *= 1.1;\n\tif (SimHas('Cookie egg')) mult *= 1.1;\n\tif (SimHas('Halo gloves')) mult *= 1.1;\n\tif (SimHas('Dragon claw')) mult *= 1.03;\n\n\tif (SimHas('Aura gloves')) {\n\t\tmult *= 1 + 0.05 * Math.min(Game.Objects.Cursor.level, SimHas('Luminous gloves') ? 20 : 10);\n\t}\n\n\tmult *= SimEff('click');\n\tif (SimObjects.Temple.minigameLoaded) {\n\t\tif (SimHasGod) {\n\t\t\tconst godLvl = SimHasGod('labor');\n\t\t\tif (godLvl === 1) mult *= 1.15;\n\t\t\telse if (godLvl === 2) mult *= 1.1;\n\t\t\telse if (godLvl === 3) mult *= 1.05;\n\t\t}\n\t}\n\n\tfor (const i of Object.keys(Game.buffs)) {\n\t\tif (typeof Game.buffs[i].multClick !== 'undefined') mult *= Game.buffs[i].multClick;\n\t}\n\n\t// if (CM.Sim.auraMult('Dragon Cursor')) mult*=1.05;\n\tmult *= 1 + SimAuraMult('Dragon Cursor') * 0.05;\n\n\t// No need to make this function a CM function\n\tlet out = mult * Game.ComputeCps(1, SimHas('Reinforced index finger') + SimHas('Carpal tunnel prevention cream') + SimHas('Ambidextrous'), add);\n\n\tout = Game.runModHookOnValue('cookiesPerClick', out);\n\n\tif (Game.hasBuff('Cursed finger')) out = Game.buffs['Cursed finger'].power;\n\n\treturn out;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/PriceAndIncome/PriceAndIncome.js\n/* eslint-disable no-unused-vars */\n/** Section: Functions related to caching income */\n\n\n\n\n\n\n/**\n * This functions caches the income gain of each building and upgrade and stores it in the cache\n * It is called by CM.Main.Loop() and CM.Cache.InitCache()\n */\nfunction CacheIncome() {\n\t// Simulate Building Buys for 1, 10 and 100 amount\n\tCacheObjects1 = CacheBuildingIncome(1);\n\tCacheObjects10 = CacheBuildingIncome(10);\n\tCacheObjects100 = CacheBuildingIncome(100);\n\n\t// Simulate Upgrade Buys\n\tCacheUpgradeIncome();\n}\n\n/**\n * This functions starts the calculation/simulation of the bonus income of buildings\n * It is called by CM.Cache.CacheIncome()\n * @param\t{amount}\tamount\tAmount to be bought\n * @parem\t{string}\ttarget\tThe target Cache object (\"Objects1\", \"Objects10\" or \"Objects100\")\n */\nfunction CacheBuildingIncome(amount, target) {\n\tconst result = [];\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tresult[i] = {};\n\t\tresult[i].bonus = BuyBuildingsBonusIncome(i, amount);\n\t\tif (amount !== 1) {\n\t\t\tCacheDoRemakeBuildPrices = 1;\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * This functions starts the calculation/simulation of the bonus income of upgrades\n * It is called by CM.Cache.CacheIncome()\n */\nfunction CacheUpgradeIncome() {\n\tCacheUpgrades = [];\n\tfor (const i of Object.keys(Game.Upgrades)) {\n\t\tconst bonusIncome = BuyUpgradesBonusIncome(i);\n\t\tCacheUpgrades[i] = {};\n\t\tif (bonusIncome[0]) CacheUpgrades[i].bonus = bonusIncome[0];\n\t\tif (bonusIncome[1]) CacheUpgrades[i].bonusMouse = bonusIncome[1];\n\t}\n}\n\n/**\n * This functions caches the price of each building and stores it in the cache\n */\nfunction CacheBuildingsPrices() {\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tCacheObjects1[i].price = BuildingGetPrice(Game.Objects[i], Game.Objects[i].basePrice, Game.Objects[i].amount, Game.Objects[i].free, 1);\n\t\tCacheObjects10[i].price = BuildingGetPrice(Game.Objects[i], Game.Objects[i].basePrice, Game.Objects[i].amount, Game.Objects[i].free, 10);\n\t\tCacheObjects100[i].price = BuildingGetPrice(Game.Objects[i], Game.Objects[i].basePrice, Game.Objects[i].amount, Game.Objects[i].free, 100);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Stats/ChainCookies.js\n/* eslint-disable no-unused-vars */\n\n\n\n/**\n * This functions calculates the max possible payout given a set of variables\n * It is called by CM.Disp.CreateStatsChainSection() and CM.Cache.CacheChain()\n * @param\t{number}\t\t\t\t\tdigit\t\tNumber of Golden Cookies in chain\n * @param\t{number}\t\t\t\t\tmaxPayout\tMaximum payout\n * @param\t{number}\t\t\t\t\tmult\t\tMultiplier\n * @returns\t[{number, number, number}]\t\t\t\tTotal cookies earned, cookie needed for this and next level\n */\nfunction MaxChainCookieReward(digit, maxPayout, mult) {\n\tlet totalFromChain = 0;\n\tlet moni = 0;\n\tlet nextMoni = 0;\n\tlet nextRequired = 0;\n\tlet chain = 1 + Math.max(0, Math.ceil(Math.log(Game.cookies) / Math.LN10) - 10);\n\twhile (nextMoni < maxPayout) {\n\t\tmoni = Math.max(digit, Math.min(Math.floor(1 / 9 * 10 ** chain * digit * mult), maxPayout * mult));\n\t\tnextMoni = Math.max(digit, Math.min(Math.floor(1 / 9 * 10 ** (chain + 1) * digit * mult), maxPayout * mult));\n\t\tnextRequired = Math.floor(1 / 9 * 10 ** (chain + 1) * digit * mult);\n\t\ttotalFromChain += moni;\n\t\tchain++;\n\t}\n\treturn [totalFromChain, moni, nextRequired];\n}\n\n/**\n * This functions caches data related to Chain Cookies reward from Golden Cookioes\n * It is called by CM.Main.Loop() upon changes to cps and CM.Cache.InitCache()\n * @global\t[{number, number}]\tCM.Cache.ChainMaxReward\t\t\tTotal cookies earned, and cookies needed for next level for normal chain\n * @global\t{number}\t\t\tCM.Cache.ChainRequired\t\t\tCookies needed for maximum reward for normal chain\n * @global\t{number}\t\t\tCM.Cache.ChainRequiredNext\t\tTotal cookies needed for next level for normal chain\n * @global\t[{number, number}]\tCM.Cache.ChainMaxWrathReward\t\t\tTotal cookies earned, and cookies needed for next level for wrath chain\n * @global\t{number}\t\t\tCM.Cache.ChainWrathRequired\t\t\tCookies needed for maximum reward for wrath chain\n * @global\t{number}\t\t\tCM.Cache.ChainWrathRequiredNext\t\tTotal cookies needed for next level for wrath chain\n * @global\t[{number, number}]\tCM.Cache.ChainFrenzyMaxReward\t\t\tTotal cookies earned, and cookies needed for next level for normal frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyRequired\t\t\tCookies needed for maximum reward for normal frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyRequiredNext\t\tTotal cookies needed for next level for normal frenzy chain\n * @global\t[{number, number}]\tCM.Cache.ChainFrenzyWrathMaxReward\t\t\tTotal cookies earned, and cookies needed for next level for wrath frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyWrathRequired\t\t\tCookies needed for maximum reward for wrath frenzy chain\n * @global\t{number}\t\t\tCM.Cache.ChainFrenzyWrathRequiredNext\t\tTotal cookies needed for next level for wrath frenzy chain\n */\nfunction CacheChain() {\n\tlet maxPayout = CacheNoGoldSwitchCookiesPS * 60 * 60 * 6 * CacheDragonsFortuneMultAdjustment;\n\t// Removes effect of Frenzy etc.\n\tconst cpsBuffMult = GetCPSBuffMult();\n\tif (cpsBuffMult > 0) maxPayout /= cpsBuffMult;\n\telse maxPayout = 0;\n\n\tCacheChainMaxReward = MaxChainCookieReward(7, maxPayout, CacheGoldenCookiesMult);\n\tCacheChainRequired = CacheChainMaxReward[1] * 2 / CacheGoldenCookiesMult;\n\tCacheChainRequiredNext = CacheChainMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n\n\tCacheChainWrathMaxReward = MaxChainCookieReward(6, maxPayout, CacheWrathCookiesMult);\n\tCacheChainWrathRequired = CacheChainWrathMaxReward[1] * 2 / CacheWrathCookiesMult;\n\tCacheChainWrathRequiredNext = CacheChainWrathMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n\n\tCacheChainFrenzyMaxReward = MaxChainCookieReward(7, maxPayout * 7, CacheGoldenCookiesMult);\n\tCacheChainFrenzyRequired = CacheChainFrenzyMaxReward[1] * 2 / CacheGoldenCookiesMult;\n\tCacheChainFrenzyRequiredNext = CacheChainFrenzyMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n\n\tCacheChainFrenzyWrathMaxReward = MaxChainCookieReward(6, maxPayout * 7, CacheWrathCookiesMult);\n\tCacheChainFrenzyWrathRequired = CacheChainFrenzyWrathMaxReward[1] * 2 / CacheWrathCookiesMult;\n\tCacheChainFrenzyWrathRequiredNext = CacheChainFrenzyWrathMaxReward[2] / 60 / 60 / 6 / CacheDragonsFortuneMultAdjustment;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Stats/HeavenlyChips.js\n/* eslint-disable no-unused-vars */\n\n\n/**\n * This functions caches the heavenly chips per second in the last five seconds\n * It is called by CM.Cache.LoopCache()\n * @global\t{number}\tCM.Cache.HCPerSecond\tThe Heavenly Chips per second in the last five seconds\n */\nfunction CacheHeavenlyChipsPS() {\n\tconst currDate = Math.floor(Date.now() / 1000);\n\t// Only calculate every new second\n\tif ((Game.T / Game.fps) % 1 === 0) {\n\t\tconst chipsOwned = Game.HowMuchPrestige(Game.cookiesReset);\n\t\tconst ascendNowToOwn = Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned));\n\t\tconst ascendNowToGet = ascendNowToOwn - Math.floor(chipsOwned);\n\n\t\t// Add recent gains to AvgQueue's\n\t\tconst timeDiff = currDate - CacheLastHeavenlyCheck;\n\t\tconst heavenlyChipsDiffAvg = Math.max(0, (ascendNowToGet - CacheLastHeavenlyChips)) / timeDiff;\n\t\tfor (let i = 0; i < timeDiff; i++) {\n\t\t\tHeavenlyChipsDiff.addLatest(heavenlyChipsDiffAvg);\n\t\t}\n\n\t\t// Store current data for next loop\n\t\tCacheLastHeavenlyCheck = currDate;\n\t\tCacheLastHeavenlyChips = ascendNowToGet;\n\n\t\t// Get average gain over period of 5 seconds\n\t\tCacheHCPerSecond = HeavenlyChipsDiff.calcAverage(5);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/CreateMissingUpgrades.js\n/** Functions related to displaying the missing upgrades in the Statistics page */\n\n\n\n/**\n * This function creates the missing upgrades sections for prestige, normal and cookie upgrades\n */\nfunction AddMissingUpgrades() {\n\tfor (const menuSection of (l('menu').children)) {\n\t\tif (menuSection.children[0]) {\n\t\t\tif (menuSection.children[0].innerHTML === 'Prestige' && CacheMissingUpgradesPrestige) {\n\t\t\t\tconst prestigeUpgradesMissing = CacheMissingUpgradesPrestige.match(new RegExp('div', 'g') || 0).length / 2;\n\t\t\t\tconst title = document.createElement('div');\n\t\t\t\ttitle.id = 'CMMissingUpgradesPrestigeTitle';\n\t\t\t\ttitle.className = 'listing';\n\t\t\t\tconst titlefrag = document.createElement('div');\n\t\t\t\ttitlefrag.innerHTML = `<b>Missing Prestige upgrades:</b> ${prestigeUpgradesMissing}/${Game.PrestigeUpgrades.length} (${Math.floor((prestigeUpgradesMissing / Game.PrestigeUpgrades.length) * 100)}%)`;\n\t\t\t\ttitle.appendChild(titlefrag);\n\t\t\t\tmenuSection.appendChild(title);\n\t\t\t\tconst upgrades = document.createElement('div');\n\t\t\t\tupgrades.className = 'listing crateBox';\n\t\t\t\tupgrades.innerHTML = CacheMissingUpgradesPrestige;\n\t\t\t\tmenuSection.appendChild(upgrades);\n\t\t\t} else if (menuSection.children[0].innerHTML === 'Upgrades') {\n\t\t\t\tif (CacheMissingUpgrades) {\n\t\t\t\t\tconst normalUpgradesMissing = CacheMissingUpgrades.match(new RegExp('div', 'g') || 0).length / 2;\n\t\t\t\t\tconst title = document.createElement('div');\n\t\t\t\t\ttitle.id = 'CMMissingUpgradesTitle';\n\t\t\t\t\ttitle.className = 'listing';\n\t\t\t\t\tconst titlefrag = document.createElement('div');\n\t\t\t\t\ttitlefrag.innerHTML = `<b>Missing normal upgrades:</b> ${normalUpgradesMissing}/${Game.UpgradesByPool[''].length + Game.UpgradesByPool.tech.length} (${Math.floor((normalUpgradesMissing / (Game.UpgradesByPool[''].length + Game.UpgradesByPool.tech.length)) * 100)}%)`;\n\t\t\t\t\ttitle.appendChild(titlefrag);\n\t\t\t\t\tmenuSection.insertBefore(title, menuSection.childNodes[3]);\n\t\t\t\t\tconst upgrades = document.createElement('div');\n\t\t\t\t\tupgrades.className = 'listing crateBox';\n\t\t\t\t\tupgrades.innerHTML = CacheMissingUpgrades;\n\t\t\t\t\tmenuSection.insertBefore(upgrades, document.getElementById('CMMissingUpgradesTitle').nextSibling);\n\t\t\t\t}\n\t\t\t\tif (CacheMissingUpgradesCookies) {\n\t\t\t\t\tconst cookieUpgradesMissing = CacheMissingUpgradesCookies.match(new RegExp('div', 'g') || 0).length / 2;\n\t\t\t\t\tconst title = document.createElement('div');\n\t\t\t\t\ttitle.id = 'CMMissingUpgradesCookiesTitle';\n\t\t\t\t\ttitle.className = 'listing';\n\t\t\t\t\tconst titlefrag = document.createElement('div');\n\t\t\t\t\ttitlefrag.innerHTML = `<b>Missing Cookie upgrades:</b> ${cookieUpgradesMissing}/${Game.UpgradesByPool.cookie.length} (${Math.floor((cookieUpgradesMissing / Game.UpgradesByPool.cookie.length) * 100)}%)`;\n\t\t\t\t\ttitle.appendChild(titlefrag);\n\t\t\t\t\tmenuSection.appendChild(title);\n\t\t\t\t\tconst upgrades = document.createElement('div');\n\t\t\t\t\tupgrades.className = 'listing crateBox';\n\t\t\t\t\tupgrades.innerHTML = CacheMissingUpgradesCookies;\n\t\t\t\t\tmenuSection.appendChild(upgrades);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * This function returns the \"crates\" (icons) for missing upgrades in the stats sections\n * It returns a html string that gets appended to the respective CM.Cache.MissingUpgrades-variable by CM.Cache.CacheMissingUpgrades()\n * @param\t{object}\tme\tThe upgrade object\n * @returns\t{string}\t?\tThe HTML string that creates the icon.\n */\nfunction crateMissing(me) {\n\tlet classes = 'crate upgrade missing';\n\tif (me.pool === 'prestige') classes += ' heavenly';\n\n\tlet noFrame = 0;\n\tif (!Game.prefs.crates) noFrame = 1;\n\tif (noFrame) classes += ' noFrame';\n\n\tlet icon = me.icon;\n\tif (me.iconFunction) icon = me.iconFunction();\n\tconst tooltip = `function() {return Game.crateTooltip(Game.UpgradesById[${me.id}], 'stats');}`;\n\treturn `<div class=\"${classes}\"\n\t${Game.getDynamicTooltip(tooltip, 'top', true)}\n\tstyle = \"${(`${icon[2] ? `background-image: url(${icon[2]});` : ''}background-position:${-icon[0] * 48}px ${-icon[1] * 48}px`)};\">\n\t</div>`;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Stats/MissingUpgrades.js\n/* eslint-disable no-unused-vars */\n\n\n\n/**\n * This functions caches variables related to missing upgrades\n * It is called by CM.Main.Loop() and CM.Cache.InitCache()\n * @global\t{string}\tCM.Cache.MissingUpgrades\t\t\tString containig the HTML to create the \"crates\" for missing normal upgrades\n * @global\t{string}\tCM.Cache.MissingUpgradesCookies\t\tString containig the HTML to create the \"crates\" for missing cookie upgrades\n * @global\t{string}\tCM.Cache.MissingUpgradesPrestige\tString containig the HTML to create the \"crates\" for missing prestige upgrades\n */\nfunction CacheAllMissingUpgrades() {\n\tCacheMissingUpgrades = '';\n\tCacheMissingUpgradesCookies = '';\n\tCacheMissingUpgradesPrestige = '';\n\tconst list = [];\n\t// sort the upgrades\n\tfor (const i of Object.keys(Game.Upgrades)) {\n\t\tlist.push(Game.Upgrades[i]);\n\t}\n\tconst sortMap = function (a, b) {\n\t\tif (a.order > b.order) return 1;\n\t\telse if (a.order < b.order) return -1;\n\t\treturn 0;\n\t};\n\tlist.sort(sortMap);\n\n\tfor (const i of Object.keys(list)) {\n\t\tconst me = list[i];\n\n\t\tif (me.bought === 0) {\n\t\t\tlet str = '';\n\n\t\t\tstr += crateMissing(me);\n\t\t\tif (me.pool === 'prestige') CacheMissingUpgradesPrestige += str;\n\t\t\telse if (me.pool === 'cookie') CacheMissingUpgradesCookies += str;\n\t\t\telse if (me.pool !== 'toggle' && me.pool !== 'unused' && me.pool !== 'debug') CacheMissingUpgrades += str;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Stats/Reindeer.js\n/* eslint-disable no-unused-vars */\n\n\n/**\n * This functions caches the reward of popping a reindeer\n * It is called by CM.Main.Loop() and CM.Cache.InitCache()\n * @global\t{number}\tCM.Cache.SeaSpec\tThe reward for popping a reindeer\n */\nfunction CacheSeasonSpec() {\n\tif (Game.season === 'christmas') {\n\t\tlet val = Game.cookiesPs * 60;\n\t\tif (Game.hasBuff('Elder frenzy')) val *= 0.5;\n\t\tif (Game.hasBuff('Frenzy')) val *= 0.75;\n\t\tCacheSeaSpec = Math.max(25, val);\n\t\tif (Game.Has('Ho ho ho-flavored frosting')) CacheSeaSpec *= 2;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Stats/Stats.js\n/* eslint-disable no-unused-vars */\n/** Functions related to Caching stats */\n\n\n\n\n\n/**\n * This functions caches variables related to the stats page\n */\nfunction CacheStatsCookies() {\n\tCacheLucky = (CacheNoGoldSwitchCookiesPS * 900) / 0.15;\n\tCacheLucky *= CacheDragonsFortuneMultAdjustment;\n\tconst cpsBuffMult = GetCPSBuffMult();\n\tif (cpsBuffMult > 0) CacheLucky /= cpsBuffMult;\n\telse CacheLucky = 0;\n\tCacheLuckyReward = CacheGoldenCookiesMult * (CacheLucky * 0.15) + 13;\n\tCacheLuckyWrathReward = CacheWrathCookiesMult * (CacheLucky * 0.15) + 13;\n\tCacheLuckyFrenzy = CacheLucky * 7;\n\tCacheLuckyRewardFrenzy = CacheGoldenCookiesMult * (CacheLuckyFrenzy * 0.15) + 13;\n\tCacheLuckyWrathRewardFrenzy = CacheWrathCookiesMult * (CacheLuckyFrenzy * 0.15) + 13;\n\tCacheConjure = CacheLucky * 2;\n\tCacheConjureReward = CacheConjure * 0.15;\n\n\tCacheEdifice = 0;\n\tlet max = 0;\n\tlet n = 0;\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tif (Game.Objects[i].amount > max) max = Game.Objects[i].amount;\n\t\tif (Game.Objects[i].amount > 0) n++;\n\t}\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tif ((Game.Objects[i].amount < max || n === 1)\n\t\t\t&& Game.Objects[i].amount < 400\n\t\t\t&& Game.Objects[i].price * 2 > CacheEdifice) {\n\t\t\tCacheEdifice = Game.Objects[i].price * 2;\n\t\t\tCacheEdificeBuilding = i;\n\t\t}\n\t}\n}\n\n/**\n * This functions calculates the multipliers of Golden and Wrath cookie rewards\n */\nfunction CacheGoldenAndWrathCookiesMults() {\n\tlet goldenMult = 1;\n\tlet wrathMult = 1;\n\tlet mult = 1;\n\n\t// Factor auras and upgrade in mults\n\tif (SimHas('Green yeast digestives')) mult *= 1.01;\n\tif (SimHas('Dragon fang')) mult *= 1.03;\n\n\tgoldenMult *= 1 + Game.auraMult('Ancestral Metamorphosis') * 0.1;\n\tgoldenMult *= Game.eff('goldenCookieGain');\n\twrathMult *= 1 + Game.auraMult('Unholy Dominion') * 0.1;\n\twrathMult *= Game.eff('wrathCookieGain');\n\n\t// Calculate final golden and wrath multipliers\n\tCacheGoldenCookiesMult = mult * goldenMult;\n\tCacheWrathCookiesMult = mult * wrathMult;\n\n\t// Calculate Dragon's Fortune multiplier adjustment:\n\t// If Dragon's Fortune (or Reality Bending) aura is active and there are currently no golden cookies,\n\t// compute a multiplier adjustment to apply on the current CPS to simulate 1 golden cookie on screen.\n\t// Otherwise, the aura effect will be factored in the base CPS making the multiplier not requiring adjustment.\n\tCacheDragonsFortuneMultAdjustment = 1;\n\tif (Game.shimmerTypes.golden.n === 0) {\n\t\tCacheDragonsFortuneMultAdjustment *= 1 + Game.auraMult('Dragon\\'s Fortune') * 1.23;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Wrinklers/Wrinklers.js\n/* eslint-disable no-unused-vars */\n/** Caches data related to Wrinklers */\n\n\n\n\n/**\n * This functions caches data related to Wrinklers\n * It is called by CM.Cache.LoopCache() and CM.Cache.InitCache()\n * @global\t{number}\t\t\t\tCM.Cache.WrinklersTotal\t\tThe cookies of all wrinklers\n * @global\t{number}\t\t\t\tCM.Cache.WrinklersNormal\tThe cookies of all normal wrinklers\n * @global\t{[{number}, {number}]}\tCM.Cache.WrinklersFattest\tA list containing the cookies and the id of the fattest non-shiny wrinkler\n */\nfunction CacheWrinklers() {\n\tfor (let i = 0; i < Game.wrinklers.length; i++) {\n\t\tlet sucked = Game.wrinklers[i].sucked;\n\t\tlet toSuck = 1.1;\n\t\tif (Game.Has('Sacrilegious corruption')) toSuck *= 1.05;\n\t\tif (Game.wrinklers[i].type === 1) toSuck *= 3; // Shiny wrinklers\n\t\tsucked *= toSuck;\n\t\tif (Game.Has('Wrinklerspawn')) sucked *= 1.05;\n\t\tif (SimObjects.Temple.minigameLoaded) {\n\t\t\tconst godLvl = Game.hasGod('scorn');\n\t\t\tif (godLvl === 1) sucked *= 1.15;\n\t\t\telse if (godLvl === 2) sucked *= 1.1;\n\t\t\telse if (godLvl === 3) sucked *= 1.05;\n\t\t}\n\t\tWrinklersTotal += sucked;\n\t\tif (Game.wrinklers[i].type === 0) {\n\t\t\tWrinklersNormal += sucked;\n\t\t\tif (sucked > WrinklersFattest[0]) WrinklersFattest = [sucked, i];\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CacheInit.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This functions runs all cache-functions to generate all \"full\" cache\n */\nfunction InitCache() {\n\tCacheDragonAuras();\n\tCacheWrinklers();\n\tCacheStatsCookies();\n\tCacheGoldenAndWrathCookiesMults();\n\tCacheChain();\n\tCacheAllMissingUpgrades();\n\tCacheSeasonSpec();\n\tInitCookiesDiff();\n\tHeavenlyChipsDiff = new CMAvgQueue(5); // Used by CM.Cache.CacheHeavenlyChipsPS()\n\tCacheHeavenlyChipsPS();\n\tCacheAvgCPS();\n\tCacheIncome();\n\tCacheBuildingsPrices();\n\tCachePP();\n}\n\n;// CONCATENATED MODULE: ./src/Data/SettingsDefault.js\n/** This array describes all default settings */\nconst ConfigDefault = {\n\tBotBar: 1,\n\tTimerBar: 1,\n\tTimerBarPos: 0,\n\tTimerBarOverlay: 2,\n\tBuildColor: 1,\n\tBulkBuildColor: 0,\n\tUpBarColor: 1,\n\tUpgradeBarFixedPos: 1,\n\tCalcWrink: 0,\n\tCPSMode: 1,\n\tAvgCPSHist: 3,\n\tAvgClicksHist: 0,\n\tColorPPBulkMode: 1,\n\tPPExcludeTop: 0,\n\tPPSecondsLowerLimit: 0,\n\tPPOnlyConsiderBuyable: 0,\n\tToolWarnBon: 0,\n\tTitle: 1,\n\tGeneralSound: 1,\n\tGCNotification: 0,\n\tGCFlash: 1,\n\tGCSound: 1,\n\tGCVolume: 100,\n\tGCSoundURL: 'https://freesound.org/data/previews/66/66717_931655-lq.mp3',\n\tFortuneNotification: 0,\n\tFortuneFlash: 1,\n\tFortuneSound: 1,\n\tFortuneVolume: 100,\n\tFortuneSoundURL: 'https://freesound.org/data/previews/174/174027_3242494-lq.mp3',\n\tSeaNotification: 0,\n\tSeaFlash: 1,\n\tSeaSound: 1,\n\tSeaVolume: 100,\n\tSeaSoundURL: 'https://www.freesound.org/data/previews/121/121099_2193266-lq.mp3',\n\tGardFlash: 1,\n\tGardSound: 1,\n\tGardVolume: 100,\n\tGardSoundURL: 'https://freesound.org/data/previews/103/103046_861714-lq.mp3',\n\tMagicNotification: 0,\n\tMagicFlash: 1,\n\tMagicSound: 1,\n\tMagicVolume: 100,\n\tMagicSoundURL: 'https://freesound.org/data/previews/221/221683_1015240-lq.mp3',\n\tWrinklerNotification: 0,\n\tWrinklerFlash: 1,\n\tWrinklerSound: 1,\n\tWrinklerVolume: 100,\n\tWrinklerSoundURL: 'https://freesound.org/data/previews/124/124186_8043-lq.mp3',\n\tWrinklerMaxNotification: 0,\n\tWrinklerMaxFlash: 1,\n\tWrinklerMaxSound: 1,\n\tWrinklerMaxVolume: 100,\n\tWrinklerMaxSoundURL: 'https://freesound.org/data/previews/152/152743_15663-lq.mp3',\n\tTooltipBuildUpgrade: 1,\n\tTooltipAmor: 0,\n\tToolWarnLucky: 1,\n\tToolWarnLuckyFrenzy: 1,\n\tToolWarnConjure: 1,\n\tToolWarnConjureFrenzy: 1,\n\tToolWarnEdifice: 1,\n\tToolWarnUser: 0,\n\tToolWarnPos: 1,\n\tTooltipGrim: 1,\n\tTooltipWrink: 1,\n\tTooltipLump: 1,\n\tTooltipPlots: 1,\n\tDragonAuraInfo: 1,\n\tTooltipAscendButton: 1,\n\tStats: 1,\n\tMissingUpgrades: 1,\n\tUpStats: 1,\n\tTimeFormat: 0,\n\tDetailedTime: 1,\n\tGrimoireBar: 1,\n\tHeavenlyChipsTarget: 1,\n\tShowMissedGC: 1,\n\tScale: 2,\n\tScaleDecimals: 2,\n\tScaleSeparator: 0,\n\tScaleCutoff: 999999,\n\tColors: {\n\t\tBlue: '#4bb8f0', Green: '#00ff00', Yellow: '#ffff00', Orange: '#ff7f00', Red: '#ff0000', Purple: '#ff00ff', Gray: '#b3b3b3', Pink: '#ff1493', Brown: '#8b4513',\n\t},\n\tSortBuildings: 0,\n\tSortUpgrades: 0,\n\tGCTimer: 1,\n\tFavicon: 1,\n\tWrinklerButtons: 1,\n\tBulkBuyBlock: 0,\n\tHeader: {\n\t\tBarsColors: 1, Calculation: 1, Notification: 1, NotificationGeneral: 1, NotificationGC: 1, NotificationFC: 1, NotificationSea: 1, NotificationGard: 1, NotificationMagi: 1, NotificationWrink: 1, NotificationWrinkMax: 1, Tooltip: 1, Statistics: 1, Notation: 1, Miscellaneous: 1, Lucky: 1, Chain: 1, Spells: 1, Garden: 1, Prestige: 1, Wrink: 1, Sea: 1, Misc: 1, InfoTab: 1,\n\t},\n};\n\n/* harmony default export */ const SettingsDefault = (ConfigDefault);\n\n;// CONCATENATED MODULE: ./src/Config/CheckNotificationPermissions.js\n/**\n * This function checks if the user has given permissions for notifications\n * It is called by a change in any of the notification options\n * Note that most browsers will stop asking if the user has ignored the prompt around 6 times\n * @param \t{number}\tToggleOnOff\t\tA number indicating whether the option has been turned off (0) or on (1)\n */\nfunction CheckNotificationPermissions(ToggleOnOff) {\n\tif (ToggleOnOff === 1)\t{\n\t\t// Check if browser support Promise version of Notification Permissions\n\t\tconst checkNotificationPromise = function () {\n\t\t\ttry {\n\t\t\t\tNotification.requestPermission().then();\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\t// Check if the browser supports notifications and which type\n\t\tif (!('Notification' in window)) {\n\t\t\tconsole.log('This browser does not support notifications.');\n\t\t} else if (checkNotificationPromise()) {\n\t\t\tNotification.requestPermission().then();\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}\n}\n\n/* harmony default export */ const Config_CheckNotificationPermissions = (CheckNotificationPermissions);\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleBotBar.js\n\n\n\n\n/**\n * This function toggle the bottom bar\n * It is called by CM.Disp.UpdateAscendState() and a change in CMOptions.BotBar\n */\nfunction ToggleBotBar() {\n\tif (CMOptions.BotBar === 1) {\n\t\tl('CMBotBar').style.display = '';\n\t\tUpdateBotBar();\n\t} else {\n\t\tl('CMBotBar').style.display = 'none';\n\t}\n\tUpdateBotTimerBarPosition();\n}\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleDetailedTime.js\n\n\n\n\n/**\n * This function changes some of the time-displays in the game to be more detailed\n * It is called by a change in CM.Options.DetailedTime\n */\nfunction ToggleDetailedTime() {\n\tif (CMOptions.DetailedTime === 1) Game.sayTime = CMSayTime;\n\telse Game.sayTime = BackupFunctions.sayTime;\n}\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleGCTimer.js\n\n\n\n\n/**\n * This function toggles GC Timers are visible\n * It is called by a change in CM.Options.GCTimer\n */\nfunction ToggleGCTimer() {\n\tif (CMOptions.GCTimer === 1) {\n\t\tfor (const i of Object.keys(GCTimers)) {\n\t\t\tGCTimers[i].style.display = 'block';\n\t\t\tGCTimers[i].style.left = CacheGoldenShimmersByID[i].l.style.left;\n\t\t\tGCTimers[i].style.top = CacheGoldenShimmersByID[i].l.style.top;\n\t\t}\n\t} else {\n\t\tfor (const i of Object.keys(GCTimers)) GCTimers[i].style.display = 'none';\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleUpgradeBarAndColor.js\n\n\n\n/**\n * Section: Functions related to the Upgrade Bar\n\n/**\n * This function toggles the upgrade bar and the colours of upgrades\n * It is called by a change in CM.Options.UpBarColor\n */\nfunction ToggleUpgradeBarAndColor() {\n\tif (CMOptions.UpBarColor === 1) { // Colours and bar on\n\t\tl('CMUpgradeBar').style.display = '';\n\t\tUpdateUpgrades();\n\t} else if (CMOptions.UpBarColor === 2) { // Colours on and bar off\n\t\tl('CMUpgradeBar').style.display = 'none';\n\t\tUpdateUpgrades();\n\t} else { // Colours and bar off\n\t\tl('CMUpgradeBar').style.display = 'none';\n\t\tGame.RebuildUpgrades();\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleUpgradeBarFixedPos.js\n\n\n/**\n * This function toggles the position of the upgrade bar from fixed or non-fixed mode\n * It is called by a change in CM.Options.UpgradeBarFixedPos\n */\nfunction ToggleUpgradeBarFixedPos() {\n\tif (CMOptions.UpgradeBarFixedPos === 1) { // Fix to top of screen when scrolling\n\t\tl('CMUpgradeBar').style.position = 'sticky';\n\t\tl('CMUpgradeBar').style.top = '0px';\n\t} else {\n\t\tl('CMUpgradeBar').style.position = ''; // Possible to scroll offscreen\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Config/Toggles/ToggleWrinklerButtons.js\n\n\n/**\n * This function updates the display setting of the two objects created by CM.Disp.CreateWrinklerButtons()\n * It is called by changes in CM.Options.WrinklerButtons\n */\nfunction ToggleWrinklerButtons() {\n\tif (CMOptions.WrinklerButtons) {\n\t\tl('PopAllNormalWrinklerButton').style.display = '';\n\t\tl('PopFattestWrinklerButton').style.display = '';\n\t} else {\n\t\tl('PopAllNormalWrinklerButton').style.display = 'none';\n\t\tl('PopFattestWrinklerButton').style.display = 'none';\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/RefreshScale.js\n\n\n\n\n/**\n * This function refreshes all numbers after a change in scale-setting\n * It is therefore called by a changes in CM.Options.Scale, CM.Options.ScaleDecimals, CM.Options.ScaleSeparator and CM.Options.ScaleCutoff\n */\nfunction RefreshScale() {\n\tBeautifyAll();\n\tGame.RefreshStore();\n\tGame.RebuildUpgrades();\n\n\tUpdateBotBar();\n\tUpdateBuildings();\n\tUpdateUpgrades();\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/UpdateColors.js\n\n\n\n\n/**\n * This function changes/refreshes colours if the user has set new standard colours\n * The function is therefore called by a change in CM.Options.Colors\n */\nfunction UpdateColors() {\n\tlet str = '';\n\tfor (let i = 0; i < Colors.length; i++) {\n\t\tstr += `.${ColorTextPre}${Colors[i]} { color: ${CMOptions.Colors[Colors[i]]}; }\\n`;\n\t}\n\tfor (let i = 0; i < Colors.length; i++) {\n\t\tstr += `.${ColorBackPre}${Colors[i]} { background-color: ${CMOptions.Colors[Colors[i]]}; }\\n`;\n\t}\n\tfor (let i = 0; i < Colors.length; i++) {\n\t\tstr += `.${ColorBorderPre}${Colors[i]} { border: 1px solid ${CMOptions.Colors[Colors[i]]}; }\\n`;\n\t}\n\tl('CMCSS').textContent = str;\n\tUpdateBuildings(); // Class has been already set\n}\n\n;// CONCATENATED MODULE: ./src/Disp/TabTitle/FavIcon.js\n\n\n\n\n/**\n * This function creates the Favicon, it is called by CM.Main.DelayInit()\n */\nfunction CreateFavicon() {\n\tconst Favicon = document.createElement('link');\n\tFavicon.id = 'CMFavicon';\n\tFavicon.rel = 'shortcut icon';\n\tFavicon.href = 'https://orteil.dashnet.org/cookieclicker/favicon.ico';\n\tdocument.getElementsByTagName('head')[0].appendChild(Favicon);\n}\n\n/**\n * This function updates the Favicon depending on whether a Golden Cookie has spawned\n * By relying on CM.Cache.spawnedGoldenShimmer it only changes for non-user spawned cookie\n */\nfunction UpdateFavicon() {\n\tif (CMOptions.Favicon === 1 && LastGoldenCookieState > 0) {\n\t\tif (CacheSpawnedGoldenShimmer.wrath) l('CMFavicon').href = 'https://aktanusa.github.io/CookieMonster/favicon/wrathCookie.ico';\n\t\telse l('CMFavicon').href = 'https://aktanusa.github.io/CookieMonster/favicon/goldenCookie.ico';\n\t} else l('CMFavicon').href = 'https://orteil.dashnet.org/cookieclicker/favicon.ico';\n}\n\n;// CONCATENATED MODULE: ./src/Data/SettingClasses.js\n/* eslint-disable max-classes-per-file */\n/** This describes all forms of settings used by Cookie Monster */\n\n/** The basic setting class */\nclass Setting {\n\tconstructor(type, group) {\n\t\tthis.type = type;\n\t\tthis.group = group;\n\t}\n}\n\n/** The standard toggle setting class */\nclass SettingStandard extends Setting {\n\tconstructor(type, group, label, desc, toggle, func = null) {\n\t\tsuper(type, group);\n\t\tthis.label = label;\n\t\tthis.desc = desc;\n\t\tthis.toggle = toggle;\n\t\tif (func) {\n\t\t\tthis.func = func;\n\t\t}\n\t}\n}\n/** The colour picker setting class */\nclass SettingColours extends Setting {\n\tconstructor(type, group, desc, func) {\n\t\tsuper(type, group);\n\t\tthis.desc = desc;\n\t\tthis.func = func;\n\t}\n}\n\n/** The volume level setting class */\nclass SettingVolume extends Setting {\n\tconstructor(type, group, label, desc) {\n\t\tsuper(type, group);\n\t\tthis.label = label;\n\t\tthis.desc = desc;\n\t\tfor (let i = 0; i < 101; i++) {\n\t\t\tthis.label[i] = `${i}%`;\n\t\t}\n\t}\n}\n\n/** The number input setting class */\nclass SettingInputNumber extends Setting {\n\tconstructor(type, group, label, desc, min, max) {\n\t\tsuper(type, group);\n\t\tthis.label = label;\n\t\tthis.desc = desc;\n\t\tthis.min = min;\n\t\tthis.max = max;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Data/SettingsData.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** This includes all options of CookieMonster and their relevant data */\nconst Config = {\n\t// Barscolors\n\tBotBar: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Bottom Bar OFF', 'Bottom Bar ON'],\n\t\t'Building Information',\n\t\ttrue,\n\t\tfunction () { ToggleBotBar(); },\n\t),\n\tTimerBar: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Timer Bar OFF', 'Timer Bar ON'],\n\t\t'Timers of Golden Cookie, Season Popup, Frenzy (Normal, Clot, Elder), Click Frenzy',\n\t\ttrue,\n\t\tfunction () { ToggleTimerBar(); },\n\t),\n\tTimerBarPos: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Timer Bar Position (Top Left)', 'Timer Bar Position (Bottom)'],\n\t\t'Placement of the Timer Bar',\n\t\tfalse,\n\t\tfunction () { ToggleTimerBarPos(); },\n\t),\n\tTimerBarOverlay: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Timer Bar Overlay OFF', 'Timer Bar Overlay Only Seconds', 'Timer Bar Overlay Full'],\n\t\t'Overlay on timers displaying seconds and/or percentage left',\n\t\ttrue,\n\t),\n\tSortBuildings: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Sort Buildings: Default', 'Sort Buildings: PP'],\n\t\t'Sort the display of buildings in either default order or by PP',\n\t\tfalse,\n\t\tfunction () { UpdateBuildings(); },\n\t),\n\tSortUpgrades: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Sort Upgrades: Default', 'Sort Upgrades: PP'],\n\t\t'Sort the display of upgrades in either default order or by PP',\n\t\tfalse,\n\t\tfunction () { UpdateUpgrades(); },\n\t),\n\tBuildColor: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Building Colors OFF', 'Building Colors ON'],\n\t\t'Color code buildings',\n\t\ttrue,\n\t\tfunction () { UpdateBuildings(); },\n\t),\n\tBulkBuildColor: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Bulk Building Colors (Single Building Color)', 'Bulk Building Colors (Calculated Bulk Color)'],\n\t\t'Color code bulk buildings based on single buildings color or calculated bulk value color',\n\t\tfalse,\n\t\tfunction () { UpdateBuildings(); },\n\t),\n\tUpBarColor: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Upgrade Colors/Bar OFF', 'Upgrade Colors with Bar ON', 'Upgrade Colors without Bar ON'],\n\t\t'Color code upgrades and optionally add a counter bar',\n\t\tfalse,\n\t\tfunction () { ToggleUpgradeBarAndColor(); },\n\t),\n\tColors: new SettingColours(\n\t\t'color',\n\t\t'BarsColors',\n\t\t{\n\t\t\tBlue: 'Color Blue.  Used to show better than best PP building, for Click Frenzy bar, and for various labels',\n\t\t\tGreen: 'Color Green.  Used to show best PP building, for Blood Frenzy bar, and for various labels',\n\t\t\tYellow: 'Color Yellow.  Used to show between best and worst PP buildings closer to best, for Frenzy bar, and for various labels',\n\t\t\tOrange: 'Color Orange.  Used to show between best and worst PP buildings closer to worst, for Next Reindeer bar, and for various labels',\n\t\t\tRed: 'Color Red.  Used to show worst PP building, for Clot bar, and for various labels',\n\t\t\tPurple: 'Color Purple.  Used to show worse than worst PP building, for Next Cookie bar, and for various labels',\n\t\t\tGray: 'Color Gray.  Used to show negative or infinity PP, and for Next Cookie/Next Reindeer bar',\n\t\t\tPink: 'Color Pink.  Used for Dragonflight bar',\n\t\t\tBrown: 'Color Brown.  Used for Dragon Harvest bar',\n\t\t},\n\t\tfunction () { UpdateColors(); },\n\t),\n\tUpgradeBarFixedPos: new SettingStandard(\n\t\t'bool',\n\t\t'BarsColors',\n\t\t['Upgrade Bar Fixed Position OFF', 'Upgrade Bar Fixed Position ON'],\n\t\t'Lock the upgrade bar at top of the screen to prevent it from moving ofscreen when scrolling',\n\t\ttrue,\n\t\tfunction () { ToggleUpgradeBarFixedPos(); },\n\t),\n\n\t// Calculation\n\tCalcWrink: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t['Calculate with Wrinklers OFF', 'Calculate with Wrinklers ON', 'Calculate with Single Fattest Wrinkler ON'],\n\t\t'Calculate times and average Cookies Per Second with (only the single non-shiny fattest) Wrinklers',\n\t\ttrue,\n\t),\n\tCPSMode: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t['Current Cookies Per Second', 'Average Cookies Per Second'],\n\t\t'Calculate times using current Cookies Per Second or average Cookies Per Second',\n\t\tfalse,\n\t),\n\tAvgCPSHist: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t['Average CPS for past 10s', 'Average CPS for past 15s', 'Average CPS for past 30s', 'Average CPS for past 1m', 'Average CPS for past 5m', 'Average CPS for past 10m', 'Average CPS for past 15m', 'Average CPS for past 30m'],\n\t\t'How much time average Cookies Per Second should consider',\n\t\tfalse,\n\t),\n\tAvgClicksHist: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t['Average Cookie Clicks for past 1s', 'Average Cookie Clicks for past 5s', 'Average Cookie Clicks for past 10s', 'Average Cookie Clicks for past 15s', 'Average Cookie Clicks for past 30s'],\n\t\t'How much time average Cookie Clicks should consider',\n\t\tfalse,\n\t),\n\tColorPPBulkMode: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t['Color of PP (Compared to Single)', 'Color of PP (Compared to Bulk)'],\n\t\t'Color PP-values based on comparison with single purchase or with selected bulk-buy mode',\n\t\tfalse,\n\t\tfunction () { CachePP(); },\n\t),\n\tPPExcludeTop: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t[\"Don't Ignore Any\", 'Ignore 1st Best', 'Ignore 1st and 2nd Best', 'Ignore 1st, 2nd and 3rd Best'],\n\t\t'Makes CookieMonster ignore the 1st, 2nd or 3rd best buildings in labeling and colouring PP values',\n\t\ttrue,\n\t),\n\tPPSecondsLowerLimit: new SettingInputNumber(\n\t\t'numscale',\n\t\t'Calculation',\n\t\t'Lower limit for PP (in seconds): ',\n\t\t'If a building or upgrade costs less than the specified seconds of CPS it will also be considered optimal and label it as such (\"PP is less than xx seconds of CPS\"); setting to 0 ignores this option',\n\t\t0,\n\t\tInfinity,\n\t),\n\tPPOnlyConsiderBuyable: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t[\"Don't Ignore Non-Buyable\", 'Ignore Non-Buyable'],\n\t\t\"Makes CookieMonster label buildings and upgrades you can't buy right now red, useful in those situations where you just want to spend your full bank 'most optimally'\",\n\t\ttrue,\n\t),\n\tToolWarnBon: new SettingStandard(\n\t\t'bool',\n\t\t'Calculation',\n\t\t['Calculate Tooltip Warning With Bonus CPS OFF', 'Calculate Tooltip Warning With Bonus CPS ON'],\n\t\t'Calculate the warning with or without the bonus CPS you get from buying',\n\t\ttrue,\n\t),\n\n\t// Notification\n\tTitle: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGeneral',\n\t\t['Title OFF', 'Title ON', 'Title Pinned Tab Highlight'],\n\t\t'Update title with Golden Cookie/Season Popup timers; pinned tab highlight only changes the title when a Golden Cookie/Season Popup spawns; \"!\" means that Golden Cookie/Reindeer can spawn',\n\t\ttrue,\n\t),\n\tGeneralSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGeneral',\n\t\t['Consider Game Volume Setting OFF', 'Consider Game Volume Setting ON'],\n\t\t'Turning this toggle to \"off\" makes Cookie Monster no longer consider the volume setting of the base game, allowing mod notifications to play with base game volume turned down',\n\t\ttrue,\n\t),\n\tGCNotification: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGC',\n\t\t['Notification OFF', 'Notification ON'],\n\t\t'Create a notification when Golden Cookie spawns',\n\t\ttrue,\n\t\tfunction () { Config_CheckNotificationPermissions(CMOptions.GCNotification); },\n\t),\n\tGCFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGC',\n\t\t['Flash OFF', 'Flash ON'],\n\t\t'Flash screen on Golden Cookie',\n\t\ttrue,\n\t),\n\tGCSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGC',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound on Golden Cookie',\n\t\ttrue,\n\t),\n\tGCVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationGC',\n\t\t[],\n\t\t'Volume',\n\t),\n\tGCSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationGC',\n\t\t'Sound URL:',\n\t\t'URL of the sound to be played when a Golden Cookie spawns',\n\t),\n\tFortuneNotification: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationFC',\n\t\t['Notification OFF', 'Notification ON'],\n\t\t'Create a notification when Fortune Cookie is on the Ticker',\n\t\ttrue,\n\t\tfunction () { Config_CheckNotificationPermissions(CMOptions.FortuneNotification); },\n\t),\n\tFortuneFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationFC',\n\t\t['Flash OFF', 'Flash ON'],\n\t\t'Flash screen on Fortune Cookie',\n\t\ttrue,\n\t),\n\tFortuneSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationFC',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound on Fortune Cookie',\n\t\ttrue,\n\t),\n\tFortuneVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationFC',\n\t\t[],\n\t\t'Volume',\n\t),\n\n\tFortuneSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationFC',\n\t\t'Sound URL:',\n\t\t'URL of the sound to be played when the Ticker has a Fortune Cookie',\n\t),\n\tSeaNotification: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationSea',\n\t\t['Notification OFF', 'Notification ON'],\n\t\t'Create a notification on Season Popup',\n\t\ttrue,\n\t\tfunction () { Config_CheckNotificationPermissions(CMOptions.SeaNotification); },\n\t),\n\tSeaFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationSea',\n\t\t['Flash OFF', 'Flash ON'],\n\t\t'Flash screen on Season Popup',\n\t\ttrue,\n\t),\n\tSeaSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationSea',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound on Season Popup',\n\t\ttrue,\n\t),\n\tSeaVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationSea',\n\t\t[],\n\t\t'Volume',\n\t),\n\tSeaSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationSea',\n\t\t'Sound URL:',\n\t\t'URL of the sound to be played when a Season Special spawns',\n\t),\n\tGardFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGard',\n\t\t['Garden Tick Flash OFF', 'Flash ON'],\n\t\t'Flash screen on Garden Tick',\n\t\ttrue,\n\t),\n\tGardSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationGard',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound on Garden Tick',\n\t\ttrue,\n\t),\n\tGardVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationGard',\n\t\t[],\n\t\t'Volume',\n\t),\n\tGardSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationGard',\n\t\t'Garden Tick Sound URL:',\n\t\t'URL of the sound to be played when the garden ticks',\n\t),\n\tMagicNotification: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationMagi',\n\t\t['Notification OFF', 'Notification ON'],\n\t\t'Create a notification when magic reaches maximum',\n\t\ttrue,\n\t\tfunction () { Config_CheckNotificationPermissions(CMOptions.MagicNotification); },\n\t),\n\tMagicFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationMagi',\n\t\t['Flash OFF', 'Flash ON'],\n\t\t'Flash screen when magic reaches maximum',\n\t\ttrue,\n\t),\n\tMagicSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationMagi',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound when magic reaches maximum',\n\t\ttrue,\n\t),\n\tMagicVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationMagi',\n\t\t[],\n\t\t'Volume',\n\t),\n\tMagicSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationMagi',\n\t\t'Sound URL:',\n\t\t'URL of the sound to be played when magic reaches maxium',\n\t),\n\tWrinklerNotification: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationWrink',\n\t\t['Notification OFF', 'Notification ON'],\n\t\t'Create a notification when a Wrinkler appears',\n\t\ttrue,\n\t\tfunction () { Config_CheckNotificationPermissions(CMOptions.WrinklerNotification); },\n\t),\n\tWrinklerFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationWrink',\n\t\t['Flash OFF', 'Flash ON'],\n\t\t'Flash screen when a Wrinkler appears',\n\t\ttrue,\n\t),\n\tWrinklerSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationWrink',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound when a Wrinkler appears',\n\t\ttrue,\n\t),\n\tWrinklerVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationWrink',\n\t\t[],\n\t\t'Volume',\n\t),\n\tWrinklerSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationWrink',\n\t\t'Sound URL:',\n\t\t'URL of the sound to be played when a Wrinkler appears',\n\t),\n\tWrinklerMaxNotification: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationWrinkMax',\n\t\t['Notification OFF', 'Notification ON'],\n\t\t'Create a notification when the maximum amount of Wrinklers has appeared',\n\t\ttrue,\n\t\tfunction () { Config_CheckNotificationPermissions(CMOptions.WrinklerMaxNotification); },\n\t),\n\tWrinklerMaxFlash: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationWrinkMax',\n\t\t['Flash OFF', 'Flash ON'],\n\t\t'Flash screen when the maximum amount of Wrinklers has appeared',\n\t\ttrue,\n\t),\n\tWrinklerMaxSound: new SettingStandard(\n\t\t'bool',\n\t\t'NotificationWrinkMax',\n\t\t['Sound OFF', 'Sound ON'],\n\t\t'Play a sound when the maximum amount of Wrinklers has appeared',\n\t\ttrue,\n\t),\n\tWrinklerMaxVolume: new SettingVolume(\n\t\t'vol',\n\t\t'NotificationWrinkMax',\n\t\t[],\n\t\t'Volume',\n\t),\n\tWrinklerMaxSoundURL: new SettingStandard(\n\t\t'url',\n\t\t'NotificationWrinkMax',\n\t\t'Sound URL:',\n\t\t'URL of the sound to be played when the maximum amount of Wrinklers has appeared',\n\t),\n\n\t// Tooltip\n\tTooltipBuildUpgrade: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Building/Upgrade Tooltip Information OFF', 'Building/Upgrade  Tooltip Information ON'],\n\t\t'Extra information in Building/Upgrade tooltips',\n\t\ttrue,\n\t),\n\tTooltipAmor: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Buildings Tooltip Amortization Information OFF', 'Buildings Tooltip Amortization Information ON'],\n\t\t'Add amortization information to buildings tooltip',\n\t\ttrue,\n\t),\n\tToolWarnLucky: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Tooltip Lucky Warning OFF', 'Tooltip Lucky Warning ON'],\n\t\t'A warning when buying if it will put the bank under the amount needed for max \"Lucky!\" rewards',\n\t\ttrue,\n\t),\n\tToolWarnLuckyFrenzy: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Tooltip Lucky Frenzy Warning OFF', 'Tooltip Lucky Frenzy Warning ON'],\n\t\t'A warning when buying if it will put the bank under the amount needed for max \"Lucky!\" (Frenzy) rewards',\n\t\ttrue,\n\t),\n\tToolWarnConjure: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Tooltip Conjure Warning OFF', 'Tooltip Conjure Warning ON'],\n\t\t'A warning when buying if it will put the bank under the amount needed for max \"Conjure Baked Goods\" rewards',\n\t\ttrue,\n\t),\n\tToolWarnConjureFrenzy: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Tooltip Conjure Frenzy Warning OFF', 'Tooltip Conjure Frenzy Warning ON'],\n\t\t'A warning when buying if it will put the bank under the amount needed for max \"Conjure Baked Goods\" rewards with Frenzy active',\n\t\ttrue,\n\t),\n\tToolWarnEdifice: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Tooltip Edifice Warning OFF', 'Tooltip Edifice Warning ON'],\n\t\t'A warning when buying if it will put the bank under the amount needed for \"Spontaneous Edifice\" to possibly give you your most expensive building',\n\t\ttrue,\n\t),\n\tToolWarnUser: new SettingInputNumber(\n\t\t'numscale',\n\t\t'Tooltip',\n\t\t'Tooltip Warning At x times CPS: ',\n\t\t'Use this to show a customized warning if buying it will put the bank under the amount equal to value times cps; setting to 0 disables the function altogether',\n\t\t0,\n\t\tInfinity,\n\t),\n\tToolWarnPos: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Tooltip Warning Position (Left)', 'Tooltip Warning Position (Bottom)'],\n\t\t'Placement of the warning boxes',\n\t\tfalse,\n\t\tfunction () { ToggleToolWarnPos(); },\n\t),\n\tTooltipGrim: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Grimoire Tooltip Information OFF', 'Grimoire Tooltip Information ON'],\n\t\t'Extra information in tooltip for grimoire',\n\t\ttrue,\n\t),\n\tTooltipWrink: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Wrinkler Tooltip OFF', 'Wrinkler Tooltip ON'],\n\t\t'Shows the amount of cookies a wrinkler will give when popping it',\n\t\ttrue,\n\t),\n\tTooltipLump: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Sugar Lump Tooltip OFF', 'Sugar Lump Tooltip ON'],\n\t\t'Shows the current Sugar Lump type in Sugar lump tooltip.',\n\t\ttrue,\n\t),\n\tTooltipPlots: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Garden Plots Tooltip OFF', 'Garden Plots Tooltip ON'],\n\t\t'Shows a tooltip for plants that have a cookie reward.',\n\t\ttrue,\n\t),\n\tDragonAuraInfo: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Extra Dragon Aura Info OFF', 'Extra Dragon Aura Info ON'],\n\t\t'Shows information about changes in CPS and costs in the dragon aura interface.',\n\t\ttrue,\n\t),\n\tTooltipAscendButton: new SettingStandard(\n\t\t'bool',\n\t\t'Tooltip',\n\t\t['Show Extra Info Ascend Tooltip OFF', 'Show Extra Info Ascend Tooltip ON'],\n\t\t'Shows additional info in the ascend tooltip',\n\t\ttrue,\n\t),\n\n\t// Statistics\n\tStats: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Statistics OFF', 'Statistics ON'],\n\t\t'Extra Cookie Monster statistics!',\n\t\ttrue,\n\t),\n\tMissingUpgrades: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Missing Upgrades OFF', 'Missing Upgrades ON'],\n\t\t'Shows Missing upgrades in Stats Menu. This feature can be laggy for users with a low amount of unlocked achievements.',\n\t\ttrue,\n\t),\n\tUpStats: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Statistics Update Rate (Default)', 'Statistics Update Rate (1s)'],\n\t\t'Default Game rate is once every 5 seconds',\n\t\tfalse,\n\t),\n\tTimeFormat: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Time XXd, XXh, XXm, XXs', 'Time XX:XX:XX:XX:XX'],\n\t\t'Change the time format',\n\t\tfalse,\n\t),\n\tDetailedTime: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Detailed Time OFF', 'Detailed Time ON'],\n\t\t'Change how time is displayed in certain statistics and tooltips',\n\t\ttrue,\n\t\tfunction () { ToggleDetailedTime(); },\n\t),\n\tGrimoireBar: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Grimoire Magic Meter Timer OFF', 'Grimoire Magic Meter Timer ON'],\n\t\t'A timer on how long before the Grimoire magic meter is full',\n\t\ttrue,\n\t),\n\tHeavenlyChipsTarget: new SettingInputNumber(\n\t\t'numscale',\n\t\t'Statistics',\n\t\t'Heavenly Chips Target: ',\n\t\t'Use this to set a Heavenly Chips target that will be counted towards in the \"prestige\" statsistics sections',\n\t\t1,\n\t\tInfinity,\n\t),\n\tShowMissedGC: new SettingStandard(\n\t\t'bool',\n\t\t'Statistics',\n\t\t['Missed GC OFF', 'Missed GC ON'],\n\t\t'Show a stat in the statistics screen that counts how many Golden Cookies you have missed',\n\t\ttrue,\n\t),\n\n\t// Notation\n\tScale: new SettingStandard(\n\t\t'bool',\n\t\t'Notation',\n\t\t['Game\\'s Setting Scale', 'Metric', 'Short Scale', 'Short Scale (Abbreviated)', 'Scientific Notation', 'Engineering Notation'],\n\t\t'Change how long numbers are handled',\n\t\tfalse,\n\t\tfunction () { RefreshScale(); },\n\t),\n\tScaleDecimals: new SettingStandard(\n\t\t'bool',\n\t\t'Notation',\n\t\t['1 decimals', '2 decimals', '3 decimals'],\n\t\t'Set the number of decimals used when applicable',\n\t\tfalse,\n\t\tfunction () { RefreshScale(); },\n\t),\n\tScaleSeparator: new SettingStandard(\n\t\t'bool',\n\t\t'Notation',\n\t\t['. for decimals (Standard)', '. for thousands'],\n\t\t'Set the separator used for decimals and thousands',\n\t\tfalse,\n\t\tfunction () { RefreshScale(); },\n\t),\n\tScaleCutoff: new SettingInputNumber(\n\t\t'numscale',\n\t\t'Notation',\n\t\t'Notation Cut-off Point: ',\n\t\t'The number from which CookieMonster will start formatting numbers based on chosen scale. Standard is 999,999. Setting this above 999,999,999 might break certain notations',\n\t\t1,\n\t\t999999999,\n\t),\n\n\t// Miscellaneous\n\tGCTimer: new SettingStandard(\n\t\t'bool',\n\t\t'Miscellaneous',\n\t\t['Golden Cookie Timer OFF', 'Golden Cookie Timer ON'],\n\t\t'A timer on the Golden Cookie when it has been spawned',\n\t\ttrue,\n\t\tfunction () { ToggleGCTimer(); },\n\t),\n\tFavicon: new SettingStandard(\n\t\t'bool',\n\t\t'Miscellaneous',\n\t\t['Favicon OFF', 'Favicon ON'],\n\t\t'Update favicon with Golden/Wrath Cookie',\n\t\ttrue,\n\t\tfunction () { UpdateFavicon(); },\n\t),\n\tWrinklerButtons: new SettingStandard(\n\t\t'bool',\n\t\t'Miscellaneous',\n\t\t['Extra Buttons OFF', 'Extra Buttons ON'],\n\t\t'Show buttons for popping wrinklers at bottom of cookie section',\n\t\ttrue,\n\t\tfunction () { ToggleWrinklerButtons(); },\n\t),\n\tBulkBuyBlock: new SettingStandard(\n\t\t'bool',\n\t\t'Miscellaneous',\n\t\t['Block Bulk Buying OFF', 'Block Bulk Buying ON'],\n\t\t\"Block clicking bulk buying when you can't buy all. This prevents buying 7 of a building when you are in buy-10 or buy-100 mode.\",\n\t\ttrue,\n\t),\n};\n\n/* harmony default export */ const SettingsData = (Config);\n\n;// CONCATENATED MODULE: ./src/InitSaveLoad/save.js\n\n\n\n/**\n * This creates a save function to the CM object. Per Game code/comments:\n * \"use this to store persistent data associated with your mod\n * return 'a string to be saved';\"\n */\nfunction save() {\n\treturn JSON.stringify({\n\t\tsettings: CMOptions,\n\t\tversion: `${VersionMajor}.${VersionMinor}`,\n\t});\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CPS/CurrWrinklerCPS.js\n/* eslint-disable no-unused-vars */\n\n\n\n/**\n * This functions caches the current Wrinkler CPS multiplier\n * @global\t{number}\tCM.Cache.CurrWrinklerCount\t\tCurrent number of wrinklers\n * @global\t{number}\tCM.Cache.CurrWrinklerCPSMult\tCurrent multiplier of CPS because of wrinklers (excluding their negative sucking effect)\n */\nfunction CacheCurrWrinklerCPS() {\n\tCacheCurrWrinklerCPSMult = 0;\n\tlet count = 0;\n\tfor (const i in Game.wrinklers) {\n\t\tif (Game.wrinklers[i].phase === 2) count++;\n\t}\n\tlet godMult = 1;\n\tif (SimObjects.Temple.minigameLoaded) {\n\t\tconst godLvl = Game.hasGod('scorn');\n\t\tif (godLvl === 1) godMult *= 1.15;\n\t\telse if (godLvl === 2) godMult *= 1.1;\n\t\telse if (godLvl === 3) godMult *= 1.05;\n\t}\n\tCacheCurrWrinklerCount = count;\n\tCacheCurrWrinklerCPSMult = count * (count * 0.05 * 1.1) * (Game.Has('Sacrilegious corruption') * 0.05 + 1) * (Game.Has('Wrinklerspawn') * 0.05 + 1) * godMult;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CacheLoop.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n/**\n * This functions caches variables that are needed every loop\n * @global\t{string}\tCM.Cache.TimeTillNextPrestige\tTime requried till next prestige level\n */\nfunction LoopCache() {\n\t// Update Wrinkler Bank\n\tCacheWrinklers();\n\n\tCachePP();\n\tCacheCurrWrinklerCPS();\n\tCacheAvgCPS();\n\tCacheHeavenlyChipsPS();\n\n\tconst cookiesToNext = Game.HowManyCookiesReset(Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned)) + 1) - (Game.cookiesEarned + Game.cookiesReset);\n\tCacheTimeTillNextPrestige = FormatTime(cookiesToNext / GetCPS());\n}\n\n;// CONCATENATED MODULE: ./src/Sim/Calculations/NoGoldenSwitchCalc.js\n\n\n\n\n/**\n * This function calculates CPS without the Golden Switch\n * It is called by CM.Cache.NoGoldSwitchCPS()\n */\nfunction CalcNoGoldSwitchCPS() {\n\tCopyData();\n\tSimUpgrades[\"Golden switch [off]\"].bought = 0;\n\tCalculateGains();\n\treturn SimCookiesPs;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CPS/NoGoldSwitchCPS.js\n/* eslint-disable no-unused-vars */\n\n\n\n/**\n * This function calculates CPS without the Golden Switch as it might be needed in other functions\n * If so it CM.Sim.Win()'s them and the caller function will know to recall CM.Sim.CalculateGains()\n * It is called at the end of any functions that simulates certain behaviour\n */\nfunction CacheNoGoldSwitchCPS() {\n\tif (Game.Has('Golden switch [off]')) {\n\t\tCacheNoGoldSwitchCookiesPS = CalcNoGoldSwitchCPS();\n\t} else CacheNoGoldSwitchCookiesPS = Game.cookiesPs;\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/SellBuildingForChoEgg.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n/**\n * This function calculates the maximum cookies obtained from selling buildings just before purchasing the chocolate egg\n * It is called by CM.Cache.CacheSellForChoEgg()\n * @returns\t{number}\tsellTotal\tThe maximum cookies to be earned\n */\nfunction SellBuildingsForChoEgg() {\n\tlet sellTotal = 0;\n\n\tCopyData();\n\n\t// Change auras to Earth Shatterer + Reality bending to optimize money made by selling\n\tlet buildingsToSacrifice = 2;\n\tif (SimDragonAura === 5 || SimDragonAura === 18) {\n\t\t--buildingsToSacrifice;\n\t}\n\tif (SimDragonAura2 === 5 || SimDragonAura2 === 18) {\n\t\t--buildingsToSacrifice;\n\t}\n\tSimDragonAura = 5;\n\tSimDragonAura2 = 18;\n\n\t// Sacrifice highest buildings for the aura switch\n\tfor (let i = 0; i < buildingsToSacrifice; ++i) {\n\t\tlet highestBuilding = 0;\n\t\tfor (const j in SimObjects) {\n\t\t\tif (SimObjects[j].amount > 0) {\n\t\t\t\thighestBuilding = SimObjects[j];\n\t\t\t}\n\t\t}\n\t\thighestBuilding.amount--;\n\t\tSimBuildingsOwned--;\n\t}\n\n\t// Get money made by selling all remaining buildings\n\tfor (const i of Object.keys(SimObjects)) {\n\t\tconst me = SimObjects[i];\n\t\tsellTotal += BuildingSell(Game.Objects[me.name], Game.Objects[i].basePrice, me.amount, Game.Objects[i].free, me.amount);\n\t}\n\n\treturn sellTotal;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/CPS/SellChoEgg.js\n/* eslint-disable no-unused-vars */\n\n\n\n/**\n * This functions caches the reward for selling the Chocolate egg\n * It is called by CM.Main.Loop()\n * @global\t{number}\tCM.Cache.SellForChoEgg\tTotal cookies to be gained from selling Chocolate egg\n */\nfunction CacheSellAllForChoEgg() {\n\tlet sellTotal = 0;\n\t// Compute cookies earned by selling stock market goods\n\tif (Game.Objects.Bank.minigameLoaded) {\n\t\tconst marketGoods = Game.Objects.Bank.minigame.goods;\n\t\tlet goodsVal = 0;\n\t\tfor (const i of Object.keys(marketGoods)) {\n\t\t\tconst marketGood = marketGoods[i];\n\t\t\tgoodsVal += marketGood.stock * marketGood.val;\n\t\t}\n\t\tsellTotal += goodsVal * Game.cookiesPsRawHighest;\n\t}\n\t// Compute cookies earned by selling all buildings with optimal auras (ES + RB)\n\tsellTotal += SellBuildingsForChoEgg();\n\tCacheSellForChoEgg = sellTotal;\n}\n\n;// CONCATENATED MODULE: ./src/Cache/Dragon/Dragon.js\n/* eslint-disable no-unused-vars */\n/** Functions related to the Dragon */\n\n\n\n\n\n\n/**\n * This functions caches the current cost of upgrading the dragon level so it can be displayed in the tooltip\n */\nfunction CacheDragonCost() {\n\tif (CacheLastDragonLevel !== Game.dragonLevel || SimDoSims) {\n\t\tif (Game.dragonLevel < 25 && Game.dragonLevels[Game.dragonLevel].buy.toString().includes('sacrifice')) {\n\t\t\tlet target = Game.dragonLevels[Game.dragonLevel].buy.toString().match(/Objects\\[(.*)\\]/)[1];\n\t\t\tconst amount = Game.dragonLevels[Game.dragonLevel].buy.toString().match(/sacrifice\\((.*?)\\)/)[1];\n\t\t\tif (target !== 'i') {\n\t\t\t\ttarget = target.replaceAll(\"'\", '');\n\t\t\t\tif (Game.Objects[target].amount < amount) {\n\t\t\t\t\tCacheCostDragonUpgrade = 'Not enough buildings to sell';\n\t\t\t\t} else {\n\t\t\t\t\tlet cost = 0;\n\t\t\t\t\tCopyData();\n\t\t\t\t\tfor (let i = 0; i < amount; i++) {\n\t\t\t\t\t\tlet price = SimObjects[target].basePrice * Game.priceIncrease ** Math.max(0, SimObjects[target].amount - 1 - SimObjects[target].free);\n\t\t\t\t\t\tprice = Game.modifyBuildingPrice(SimObjects[target], price);\n\t\t\t\t\t\tprice = Math.ceil(price);\n\t\t\t\t\t\tcost += price;\n\t\t\t\t\t\tSimObjects[target].amount--;\n\t\t\t\t\t}\n\t\t\t\t\tCacheCostDragonUpgrade = `Cost to rebuy: ${(cost)}`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet cost = 0;\n\t\t\t\tCopyData();\n\t\t\t\tfor (const j of Object.keys(Game.Objects)) {\n\t\t\t\t\ttarget = j;\n\t\t\t\t\tif (Game.Objects[target].amount < amount) {\n\t\t\t\t\t\tCacheCostDragonUpgrade = 'Not enough buildings to sell';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (let i = 0; i < amount; i++) {\n\t\t\t\t\t\t\tlet price = SimObjects[target].basePrice * Game.priceIncrease ** Math.max(0, SimObjects[target].amount - 1 - SimObjects[target].free);\n\t\t\t\t\t\t\tprice = Game.modifyBuildingPrice(SimObjects[target], price);\n\t\t\t\t\t\t\tprice = Math.ceil(price);\n\t\t\t\t\t\t\tcost += price;\n\t\t\t\t\t\t\tSimObjects[target].amount--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tCacheCostDragonUpgrade = `Cost to rebuy: ${BeautifyFormatting_Beautify(cost)}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tCacheLastDragonLevel = Game.dragonLevel;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/UpdateAscendState.js\n\n\n\n\n\n/**\n * This function disables and shows the bars created by CookieMonster when the game is \"ascending\"\n * It is called by CM.Disp.Draw()\n */\nfunction UpdateAscendState() {\n\tif (Game.OnAscend) {\n\t\tl('game').style.bottom = '0px';\n\t\tif (CMOptions.BotBar === 1) l('CMBotBar').style.display = 'none';\n\t\tif (CMOptions.TimerBar === 1) l('CMTimerBar').style.display = 'none';\n\t} else {\n\t\tToggleBotBar();\n\t\tToggleTimerBar();\n\t}\n\tUpdateBackground();\n}\n\n;// CONCATENATED MODULE: ./src/Sim/InitializeData/InitData.js\n/** Functions used to create static objects of Buildings, Upgrades and Achievements */\n\n\n\n\n\n\n\n/**\n * This function creates static objects for Buildings, Upgrades and Achievements\n */\nfunction InitData() {\n\t// Buildings\n\tSimObjects = [];\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tSimObjects[i] = InitialBuildingData(i);\n\t}\n\n\t// Upgrades\n\tSimUpgrades = [];\n\tfor (const i of Object.keys(Game.Upgrades)) {\n\t\tSimUpgrades[i] = InitUpgrade(i);\n\t}\n\n\t// Achievements\n\tSimAchievements = [];\n\tfor (const i of Object.keys(Game.Achievements)) {\n\t\tSimAchievements[i] = InitAchievement(i);\n\t}\n\tCopyData();\n}\n\n;// CONCATENATED MODULE: ./src/InitSaveLoad/Variables.js\n/* eslint-disable prefer-const */\n/** Variable that shows if Cookie Moonster is initzializing */\nlet isInitializing = false;\nlet test;\n\n;// CONCATENATED MODULE: ./src/Disp/Notifications/Flash.js\n\n\n\n/**\n * This function creates a flash depending on configs. It is called by all functions\n * that check game-events and which have settings for Flashes (e.g., Golden Cookies appearing, Magic meter being full)\n * @param\t{number}\tmode\tSets the intensity of the flash, used to recursively dim flash\n * \t\t\t\t\t\t\t\tAll calls of function have use mode === 3\n * @param\t{string}\tconfig\tThe setting in CM.Options that is checked before creating the flash\n */\nfunction Flash(mode, config) {\n\t// The arguments check makes the sound not play upon initialization of the mod\n\tif ((CMOptions[config] === 1 && mode === 3 && isInitializing === false) || mode === 1) {\n\t\tl('CMWhiteScreen').style.opacity = '0.5';\n\t\tif (mode === 3) {\n\t\t\tl('CMWhiteScreen').style.display = 'inline';\n\t\t\tsetTimeout(function () { Flash(2, config); }, 1000 / Game.fps);\n\t\t} else {\n\t\t\tsetTimeout(function () { Flash(0, config); }, 1000 / Game.fps);\n\t\t}\n\t} else if (mode === 2) {\n\t\tl('CMWhiteScreen').style.opacity = '1';\n\t\tsetTimeout(function () { Flash(1, config); }, 1000 / Game.fps);\n\t} else if (mode === 0) l('CMWhiteScreen').style.display = 'none';\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Notifications/Sound.js\n\n\n\n/**\n * This function plays a sound depending on configs. It is called by all functions\n * that check game-events and which have settings for sound (e.g., Golden Cookies appearing, Magic meter being full)\n * @param\t{variable}\turl\t\t\tA variable that gives the url for the sound (e.g., CM.Options.GCSoundURL)\n * @param\t{string}\tsndConfig\tThe setting in CM.Options that is checked before creating the sound\n * @param\t{string}\tvolConfig\tThe setting in CM.Options that is checked to determine volume\n */\nfunction PlaySound(url, sndConfig, volConfig) {\n\t// The arguments check makes the sound not play upon initialization of the mod\n\tif (CMOptions[sndConfig] === 1 && isInitializing === false) {\n\t\tconst sound = new realAudio(url);\n\t\tif (CMOptions.GeneralSound) sound.volume = (CMOptions[volConfig] / 100) * (Game.volume / 100);\n\t\telse sound.volume = (CMOptions[volConfig] / 100);\n\t\tsound.play();\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/CheckStates/Garden.js\n\n\n\n\n\n/**\n * This function checks if a garden tick has happened\n */\nfunction CheckGardenTick() {\n\tif (Game.Objects.Farm.minigameLoaded && LastGardenNextStep !== Game.Objects.Farm.minigame.nextStep) {\n\t\tif (LastGardenNextStep !== 0 && LastGardenNextStep < Date.now()) {\n\t\t\tFlash(3, 'GardFlash');\n\t\t\tPlaySound(CMOptions.GardSoundURL, 'GardSound', 'GardVolume');\n\t\t}\n\t\tLastGardenNextStep = Game.Objects.Farm.minigame.nextStep;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/GoldenCookieTimers/GoldenCookieTimers.js\n/** Section: Functions related to the Golden Cookie Timers */\n\n\n\n/**\n * This function creates a new Golden Cookie Timer and appends it CM.Disp.GCTimers based on the id of the cookie\n * @param\t{object}\tcookie\tA Golden Cookie object\n */\nfunction CreateGCTimer(cookie) {\n\tconst GCTimer = document.createElement('div');\n\tGCTimer.id = `GCTimer${cookie.id}`;\n\tGCTimer.style.width = '96px';\n\tGCTimer.style.height = '96px';\n\tGCTimer.style.position = 'absolute';\n\tGCTimer.style.zIndex = '10000000001';\n\tGCTimer.style.textAlign = 'center';\n\tGCTimer.style.lineHeight = '96px';\n\tGCTimer.style.fontFamily = '\"Kavoon\", Georgia, serif';\n\tGCTimer.style.fontSize = '35px';\n\tGCTimer.style.cursor = 'pointer';\n\tGCTimer.style.display = 'block';\n\tif (CM.Options.GCTimer === 0) GCTimer.style.display = 'none';\n\tGCTimer.style.left = cookie.l.style.left;\n\tGCTimer.style.top = cookie.l.style.top;\n\tGCTimer.onclick = function () { cookie.pop(); };\n\tGCTimer.onmouseover = function () { cookie.l.style.filter = 'brightness(125%) drop-shadow(0px 0px 3px rgba(255,255,255,1))'; cookie.l.style.webkitFilter = 'brightness(125%) drop-shadow(0px 0px 3px rgba(255,255,255,1))'; };\n\tGCTimer.onmouseout = function () { cookie.l.style.filter = ''; cookie.l.style.webkitFilter = ''; };\n\n\tGCTimers[cookie.id] = GCTimer;\n\tl('shimmers').appendChild(GCTimer);\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Notifications/Notification.js\n/** Functions related to the flashes/sound/notifications */\n\n\n\n\n/**\n * This function creates a notifcation depending on configs. It is called by all functions\n * that check game-events and which have settings for notifications (e.g., Golden Cookies appearing, Magic meter being full)\n * @param\t{string}\tnotifyConfig\tThe setting in CM.Options that is checked before creating the notification\n * @param\t{string}\ttitle\t\t\tThe title of the to-be created notifications\n * @param\t{string}\tmessage\t\t\tThe text of the to-be created notifications\n */\nfunction Notification_Notification(notifyConfig, title, message) {\n\t// The arguments check makes the sound not play upon initialization of the mod\n\tif (CMOptions[notifyConfig] === 1 && document.visibilityState === 'hidden' && isInitializing === false) {\n\t\tconst CookieIcon = 'https://orteil.dashnet.org/cookieclicker/favicon.ico';\n\t\tnew Notification_Notification(title, { body: message, badge: CookieIcon });\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/CheckStates/GoldenCookie.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n\n/**\n * This function checks for changes in the amount of Golden Cookies\n * It is called by CM.Main.Loop\n */\nfunction CheckGoldenCookie() {\n\tFindShimmer();\n\tfor (const i of Object.keys(GCTimers)) {\n\t\tif (typeof CacheGoldenShimmersByID[i] === 'undefined') {\n\t\t\tGCTimers[i].parentNode.removeChild(GCTimers[i]);\n\t\t\tdelete GCTimers[i];\n\t\t}\n\t}\n\tif (LastGoldenCookieState !== Game.shimmerTypes.golden.n) {\n\t\tLastGoldenCookieState = Game.shimmerTypes.golden.n;\n\t\tif (LastGoldenCookieState) {\n\t\t\tif (LastSpawnedGoldenCookieState < CurrSpawnedGoldenCookieState) {\n\t\t\t\tFlash(3, 'GCFlash');\n\t\t\t\tPlaySound(CMOptions.GCSoundURL, 'GCSound', 'GCVolume');\n\t\t\t\tNotification_Notification('GCNotification', 'Golden Cookie Spawned', 'A Golden Cookie has spawned. Click it now!');\n\t\t\t}\n\n\t\t\tfor (const i of Object.keys(Game.shimmers)) {\n\t\t\t\tif (typeof GCTimers[Game.shimmers[i].id] === 'undefined') {\n\t\t\t\t\tCreateGCTimer(Game.shimmers[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tUpdateFavicon();\n\t\tLastSpawnedGoldenCookieState = CurrSpawnedGoldenCookieState;\n\t\tif (CurrSpawnedGoldenCookieState === 0) CacheSpawnedGoldenShimmer = 0;\n\t} else if (CMOptions.GCTimer === 1 && LastGoldenCookieState) {\n\t\tfor (const i of Object.keys(GCTimers)) {\n\t\t\tGCTimers[i].style.opacity = CacheGoldenShimmersByID[i].l.style.opacity;\n\t\t\tGCTimers[i].style.transform = CacheGoldenShimmersByID[i].l.style.transform;\n\t\t\tGCTimers[i].textContent = Math.ceil(CacheGoldenShimmersByID[i].life / Game.fps);\n\t\t}\n\t}\n}\n\n/**\n * Auxilirary function that finds all currently spawned shimmers.\n * CM.Cache.spawnedGoldenShimmer stores the non-user spawned cookie to later determine data for the favicon and tab-title\n * It is called by CM.CM.Main.CheckGoldenCookie\n */\nfunction FindShimmer() {\n\tCurrSpawnedGoldenCookieState = 0;\n\tCacheGoldenShimmersByID = {};\n\tfor (const i of Object.keys(Game.shimmers)) {\n\t\tCacheGoldenShimmersByID[Game.shimmers[i].id] = Game.shimmers[i];\n\t\tif (Game.shimmers[i].spawnLead && Game.shimmers[i].type === 'golden') {\n\t\t\tCacheSpawnedGoldenShimmer = Game.shimmers[i];\n\t\t\tCurrSpawnedGoldenCookieState += 1;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/CheckStates/Grimoire.js\n\n\n\n\n\n\n/**\n * This function checks if the magic meter is full\n * It is called by CM.Main.Loop\n */\nfunction CheckMagicMeter() {\n\tif (Game.Objects['Wizard tower'].minigameLoaded && CMOptions.GrimoireBar === 1) {\n\t\tconst minigame = Game.Objects['Wizard tower'].minigame;\n\t\tif (minigame.magic < minigame.magicM) LastMagicBarFull = false;\n\t\telse if (!LastMagicBarFull) {\n\t\t\tLastMagicBarFull = true;\n\t\t\tFlash(3, 'MagicFlash');\n\t\t\tPlaySound(CMOptions.MagicSoundURL, 'MagicSound', 'MagicVolume');\n\t\t\tNotification_Notification('MagicNotification', 'Magic Meter full', 'Your Magic Meter is full. Cast a spell!');\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/CheckStates/Season.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n/**\n * This function checks if there is reindeer that has spawned\n * It is called by CM.Main.Loop\n */\nfunction CheckSeasonPopup() {\n\tif (LastSeasonPopupState !== Game.shimmerTypes.reindeer.spawned) {\n\t\tLastSeasonPopupState = Game.shimmerTypes.reindeer.spawned;\n\t\tfor (const i of Object.keys(Game.shimmers)) {\n\t\t\tif (Game.shimmers[i].spawnLead && Game.shimmers[i].type === 'reindeer') {\n\t\t\t\tCacheSeasonPopShimmer = Game.shimmers[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tFlash(3, 'SeaFlash');\n\t\tPlaySound(CMOptions.SeaSoundURL, 'SeaSound', 'SeaVolume');\n\t\tNotification_Notification('SeaNotification', 'Reindeer sighted!', 'A Reindeer has spawned. Click it now!');\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/CheckStates/Ticker.js\n\n\n\n\n\n/**\n * This function checks if there is a fortune cookie on the ticker\n * It is called by CM.Main.Loop\n */\nfunction CheckTickerFortune() {\n\tif (LastTickerFortuneState !== (Game.TickerEffect && Game.TickerEffect.type === 'fortune')) {\n\t\tLastTickerFortuneState = (Game.TickerEffect && Game.TickerEffect.type === 'fortune');\n\t\tif (LastTickerFortuneState) {\n\t\t\tFlash(3, 'FortuneFlash');\n\t\t\tPlaySound(CM.Options.FortuneSoundURL, 'FortuneSound', 'FortuneVolume');\n\t\t\tNotification_Notification('FortuneNotification', 'Fortune Cookie found', 'A Fortune Cookie has appeared on the Ticker.');\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/CheckStates/Wrinkler.js\n\n\n\n\n\n\n/**\n * This function checks if any new Wrinklers have popped up\n * It is called by CM.Main.Loop\n */\nfunction CheckWrinklerCount() {\n\tif (Game.elderWrath > 0) {\n\t\tlet CurrentWrinklers = 0;\n\t\tfor (const i in Game.wrinklers) {\n\t\t\tif (Game.wrinklers[i].phase === 2) CurrentWrinklers++;\n\t\t}\n\t\tif (CurrentWrinklers > LastWrinklerCount) {\n\t\t\tLastWrinklerCount = CurrentWrinklers;\n\t\t\tif (CurrentWrinklers === Game.getWrinklersMax() && CMOptions.WrinklerMaxFlash) {\n\t\t\t\tFlash(3, 'WrinklerMaxFlash');\n\t\t\t} else {\n\t\t\t\tFlash(3, 'WrinklerFlash');\n\t\t\t}\n\t\t\tif (CurrentWrinklers === Game.getWrinklersMax() && CMOptions.WrinklerMaxSound) {\n\t\t\t\tPlaySound(CMOptions.WrinklerMaxSoundURL, 'WrinklerMaxSound', 'WrinklerMaxVolume');\n\t\t\t} else {\n\t\t\t\tPlaySound(CMOptions.WrinklerSoundURL, 'WrinklerSound', 'WrinklerVolume');\n\t\t\t}\n\t\t\tif (CurrentWrinklers === Game.getWrinklersMax() && CMOptions.WrinklerMaxNotification) {\n\t\t\t\tNotification_Notification('WrinklerMaxNotification', 'Maximum Wrinklers Reached', 'You have reached your maximum ammount of wrinklers');\n\t\t\t} else {\n\t\t\t\tNotification_Notification('WrinklerNotification', 'A Wrinkler appeared', 'A new wrinkler has appeared');\n\t\t\t}\n\t\t} else {\n\t\t\tLastWrinklerCount = CurrentWrinklers;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/Loop.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Main loop of Cookie Monster\n * CM.init registers it to the \"logic\" hook provided by the modding api\n */\nfunction CMLoop() {\n\tif (LastAscendState !== Game.OnAscend) {\n\t\tLastAscendState = Game.OnAscend;\n\t\tUpdateAscendState();\n\t}\n\tif (!Game.OnAscend && Game.AscendTimer === 0) {\n\t\t// Check if any other mods have been loaded\n\t\tif (LastModCount !== Object.keys(Game.mods).length) {\n\t\t\tInitData();\n\t\t\tInitCache();\n\t\t\tLastModCount = Object.keys(Game.mods).length;\n\t\t}\n\n\t\t// CM.Sim.DoSims is set whenever CPS has changed\n\t\tif (SimDoSims) {\n\t\t\tCacheIncome();\n\n\t\t\tCacheNoGoldSwitchCPS(); // Needed first\n\t\t\tCacheGoldenAndWrathCookiesMults();\n\t\t\tCacheStatsCookies();\n\t\t\tCacheAllMissingUpgrades();\n\t\t\tCacheChain();\n\t\t\tCacheDragonCost();\n\n\t\t\tCacheSeasonSpec();\n\t\t\tCacheSellAllForChoEgg();\n\n\t\t\tSimDoSims = 0;\n\t\t}\n\n\t\t// Check for aura change to recalculate buildings prices\n\t\tconst hasBuildAura = Game.auraMult('Fierce Hoarder') > 0;\n\t\tif (!CacheHadBuildAura && hasBuildAura) {\n\t\t\tCacheHadBuildAura = true;\n\t\t\tCacheDoRemakeBuildPrices = 1;\n\t\t} else if (CacheHadBuildAura && !hasBuildAura) {\n\t\t\tCacheHadBuildAura = false;\n\t\t\tCacheDoRemakeBuildPrices = 1;\n\t\t}\n\n\t\tif (CacheDoRemakeBuildPrices) {\n\t\t\tCacheBuildingsPrices();\n\t\t\tCacheDoRemakeBuildPrices = 0;\n\t\t}\n\n\t\tLoopCache();\n\n\t\t// Check all changing minigames and game-states\n\t\tCheckGoldenCookie();\n\t\tCheckTickerFortune();\n\t\tCheckSeasonPopup();\n\t\tCheckGardenTick();\n\t\tCheckMagicMeter();\n\t\tCheckWrinklerCount();\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Config/SaveLoadReload/SaveLoadReloadSettings.js\n\n\n\n\n\n\n/** Functions related to saving, loading and restoring all settings */\n\n/**\n * This function saves the config of CookieMonster without saving any of the other save-data\n * This allows saving in between the autosave intervals\n * It is called by CM.Config.LoadConfig(), CM.Config.RestoreDefault(), CM.Config.ToggleConfig(),\n * CM.ToggleConfigVolume() and changes in options with type \"url\", \"color\" or \"numscale\"\n */\nfunction SaveConfig() {\n\tconst saveString = b64_to_utf8(unescape(localStorage.getItem('CookieClickerGame')).split('!END!')[0]);\n\tconst CookieMonsterSave = saveString.match(/CookieMonster.*(;|$)/);\n\tif (CookieMonsterSave !== null) {\n\t\tconst newSaveString = saveString.replace(CookieMonsterSave[0], `CookieMonster:${save()}`);\n\t\tlocalStorage.setItem('CookieClickerGame', escape(`${utf8_to_b64(newSaveString)}!END!`));\n\t}\n}\n\n/**\n * This function loads the config of CookieMonster saved in localStorage and loads it into CMOptions\n * It is called by CM.Main.DelayInit() and CM.Config.RestoreDefault()\n */\nfunction LoadConfig(settings) {\n\t// This removes cookies left from earlier versions of CookieMonster\n\tif (typeof localStorage.CMConfig !== 'undefined') {\n\t\tdelete localStorage.CMConfig;\n\t}\n\tif (settings !== undefined) {\n\t\tCMOptions = settings;\n\n\t\t// Check values\n\t\tlet mod = false;\n\t\tfor (const i in SettingsDefault) {\n\t\t\tif (typeof CMOptions[i] === 'undefined') {\n\t\t\t\tmod = true;\n\t\t\t\tCMOptions[i] = SettingsDefault[i];\n\t\t\t} else if (i !== 'Header' && i !== 'Colors') {\n\t\t\t\tif (i.indexOf('SoundURL') === -1) {\n\t\t\t\t\tif (!(CMOptions[i] > -1 && CMOptions[i] < SettingsData[i].label.length)) {\n\t\t\t\t\t\tmod = true;\n\t\t\t\t\t\tCMOptions[i] = SettingsDefault[i];\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof CMOptions[i] !== 'string') { // Sound URLs\n\t\t\t\t\tmod = true;\n\t\t\t\t\tCMOptions[i] = SettingsDefault[i];\n\t\t\t\t}\n\t\t\t} else if (i === 'Header') {\n\t\t\t\tfor (const j in SettingsDefault.Header) {\n\t\t\t\t\tif (typeof CMOptions[i][j] === 'undefined' || !(CMOptions[i][j] > -1 && CMOptions[i][j] < 2)) {\n\t\t\t\t\t\tmod = true;\n\t\t\t\t\t\tCMOptions[i][j] = SettingsDefault[i][j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else { // Colors\n\t\t\t\tfor (const j in SettingsDefault.Colors) {\n\t\t\t\t\tif (typeof CMOptions[i][j] === 'undefined' || typeof CMOptions[i][j] !== 'string') {\n\t\t\t\t\t\tmod = true;\n\t\t\t\t\t\tCMOptions[i][j] = SettingsDefault[i][j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (mod) SaveConfig();\n\t\tCMLoop(); // Do loop once\n\t\tfor (const i in SettingsDefault) {\n\t\t\tif (i !== 'Header' && typeof SettingsData[i].func !== 'undefined') {\n\t\t\t\tSettingsData[i].func();\n\t\t\t}\n\t\t}\n\t} else { // Default values\n\t\tLoadConfig(SettingsDefault);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/BuildingsUpgrades/UpgradeBar.js\n\n\n/**\n * This function creates the legend for the upgrade bar\n * @returns\t{object}\tlegend\tThe legend-object to be added\n */\nfunction CreateUpgradeBarLegend() {\n\tconst legend = document.createElement('div');\n\tlegend.style.minWidth = '330px';\n\tlegend.style.marginBottom = '4px';\n\tconst title = document.createElement('div');\n\ttitle.className = 'name';\n\ttitle.style.marginBottom = '4px';\n\ttitle.textContent = 'Legend';\n\tlegend.appendChild(title);\n\n\tconst legendLine = function (color, text) {\n\t\tconst div = document.createElement('div');\n\t\tdiv.style.verticalAlign = 'middle';\n\t\tconst span = document.createElement('span');\n\t\tspan.className = ColorBackPre + color;\n\t\tspan.style.display = 'inline-block';\n\t\tspan.style.height = '10px';\n\t\tspan.style.width = '10px';\n\t\tspan.style.marginRight = '4px';\n\t\tdiv.appendChild(span);\n\t\tdiv.appendChild(document.createTextNode(text));\n\t\treturn div;\n\t};\n\n\tlegend.appendChild(legendLine(ColorBlue, 'Better than best PP building'));\n\tlegend.appendChild(legendLine(ColorGreen, 'Same as best PP building'));\n\tlegend.appendChild(legendLine(ColorYellow, 'Between best and worst PP buildings closer to best'));\n\tlegend.appendChild(legendLine(ColorOrange, 'Between best and worst PP buildings closer to worst'));\n\tlegend.appendChild(legendLine(ColorRed, 'Same as worst PP building'));\n\tlegend.appendChild(legendLine(ColorPurple, 'Worse than worst PP building'));\n\tlegend.appendChild(legendLine(ColorGray, 'Negative or infinity PP'));\n\treturn legend;\n}\n\n/**\n * This function creates the upgrade bar above the upgrade-section in the right section of the screen\n */\nfunction CreateUpgradeBar() {\n\tconst UpgradeBar = document.createElement('div');\n\tUpgradeBar.id = 'CMUpgradeBar';\n\tUpgradeBar.style.width = '100%';\n\tUpgradeBar.style.backgroundColor = 'black';\n\tUpgradeBar.style.textAlign = 'center';\n\tUpgradeBar.style.fontWeight = 'bold';\n\tUpgradeBar.style.display = 'none';\n\tUpgradeBar.style.zIndex = '21';\n\tUpgradeBar.onmouseout = function () { Game.tooltip.hide(); };\n\n\tconst placeholder = document.createElement('div');\n\tplaceholder.appendChild(CreateUpgradeBarLegend());\n\tUpgradeBar.onmouseover = function () { Game.tooltip.draw(this, escape(placeholder.innerHTML), 'store'); };\n\n\tconst upgradeNumber = function (id, color) {\n\t\tconst span = document.createElement('span');\n\t\tspan.id = id;\n\t\tspan.className = ColorTextPre + color;\n\t\tspan.style.width = '14.28571428571429%';\n\t\tspan.style.display = 'inline-block';\n\t\tspan.textContent = '0';\n\t\treturn span;\n\t};\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarBlue', ColorBlue));\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarGreen', ColorGreen));\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarYellow', ColorYellow));\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarOrange', ColorOrange));\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarRed', ColorRed));\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarPurple', ColorPurple));\n\tUpgradeBar.appendChild(upgradeNumber('CMUpgradeBarGray', ColorGray));\n\n\tl('upgrades').parentNode.insertBefore(UpgradeBar, l('upgrades').parentNode.childNodes[3]);\n}\n\n;// CONCATENATED MODULE: ./src/Disp/HelperFunctions/PopWrinklers.js\n/**\n * This function pops all normal wrinklers\n * It is called by a click of the 'pop all' button created by CM.Disp.AddMenuStats()\n */\nfunction PopAllNormalWrinklers() {\n\tfor (const i of Object.keys(Game.wrinklers)) {\n\t\tif (Game.wrinklers[i].sucked > 0 && Game.wrinklers[i].type === 0) {\n\t\t\tGame.wrinklers[i].hp = 0;\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Initialization/CreateWrinklerButton.js\n\n\n\n/**\n * This function creates two objects at the bottom of the left column that allowing popping of wrinklers\n */\nfunction CreateWrinklerButtons() {\n\tconst popAllA = document.createElement('a');\n\tpopAllA.id = 'PopAllNormalWrinklerButton';\n\tpopAllA.textContent = 'Pop All Normal';\n\tpopAllA.className = 'option';\n\tpopAllA.onclick = function () { PopAllNormalWrinklers(); };\n\tl('sectionLeftExtra').children[0].append(popAllA);\n\tconst popFattestA = document.createElement('a');\n\tpopFattestA.id = 'PopFattestWrinklerButton';\n\tpopFattestA.textContent = 'Pop Single Fattest';\n\tpopFattestA.className = 'option';\n\tpopFattestA.onclick = function () { if (WrinklersFattest[1] !== null) Game.wrinklers[WrinklersFattest[1]].hp = 0; };\n\tl('sectionLeftExtra').children[0].append(popFattestA);\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Initialization/CssArea.js\n\n\n/**\n * This function creates a CSS style that stores certain standard CSS classes used by CookieMonster\n\n */\nfunction CreateCssArea() {\n\tDispCSS = document.createElement('style');\n\tDispCSS.type = 'text/css';\n\tDispCSS.id = 'CMCSS';\n\n\tdocument.head.appendChild(DispCSS);\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Initialization/UpdateBuildingUpgradeStyle.js\n/**\n * This function updates the style of the building and upgrade sections to make these sortable\n */\nfunction UpdateBuildingUpgradeStyle() {\n\tl('products').style.display = 'grid';\n\tl('storeBulk').style.gridRow = '1/1';\n\n\tl('upgrades').style.display = 'flex';\n\tl('upgrades').style['flex-wrap'] = 'wrap';\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Initialization/WhiteScreen.js\n/**\n * This function creates a white square over the full screen and appends it to l('wrapper')\n */\nfunction CreateWhiteScreen() {\n\tconst WhiteScreen = document.createElement('div');\n\tWhiteScreen.id = 'CMWhiteScreen';\n\tWhiteScreen.style.width = '100%';\n\tWhiteScreen.style.height = '100%';\n\tWhiteScreen.style.backgroundColor = 'white';\n\tWhiteScreen.style.display = 'none';\n\tWhiteScreen.style.zIndex = '9999999999';\n\tWhiteScreen.style.position = 'absolute';\n\tl('wrapper').appendChild(WhiteScreen);\n}\n\n;// CONCATENATED MODULE: ./src/Main/ReplaceGameElements/TooltipGrimoire.js\n\n\n\n/**\n * This function replaces the original .onmouseover functions of the Grimoire minigame\n */\nfunction ReplaceTooltipGrimoire() {\n\tif (Game.Objects['Wizard tower'].minigameLoaded) {\n\t\tfor (const i in Game.Objects['Wizard tower'].minigame.spellsById) {\n\t\t\tif (l(`grimoireSpell${i}`).onmouseover !== null) {\n\t\t\t\tTooltipGrimoireBackup[i] = l(`grimoireSpell${i}`).onmouseover;\n\t\t\t\tl(`grimoireSpell${i}`).onmouseover = function () {\n\t\t\t\t\tGame.tooltip.dynamic = 1;\n\t\t\t\t\tGame.tooltip.draw(this, function () { return CreateTooltip('g', `${i}`); }, 'this');\n\t\t\t\t\tGame.tooltip.wobble();\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/ReplaceGameElements/NativeGrimoire.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n/**\n * This function fixes replaces the .launch function of the Grimoire\n */\nfunction ReplaceNativeGrimoireLaunch() {\n\tif (!HasReplaceNativeGrimoireLaunch && Game.Objects['Wizard tower'].minigameLoaded) {\n\t\tconst minigame = Game.Objects['Wizard tower'].minigame;\n\t\tBackupGrimoireLaunch = minigame.launch;\n\t\tBackupGrimoireLaunchMod = minigame.launch.toString().split('=this').join('= Game.Objects[\\'Wizard tower\\'].minigame');\n\t}\n\tGame.Objects['Wizard tower'].minigame.launch = function () {\n\t\tBackupGrimoireLaunchMod();\n\t\tReplaceTooltipGrimoire();\n\t\tHasReplaceNativeGrimoireDraw = false;\n\t\tReplaceNativeGrimoireDraw();\n\t};\n\tHasReplaceNativeGrimoireLaunch = true;\n}\n\n/**\n * This function fixes replaces the .draw function of the Grimoire\n */\nfunction ReplaceNativeGrimoireDraw() {\n\tif (!HasReplaceNativeGrimoireDraw && Game.Objects['Wizard tower'].minigameLoaded) {\n\t\tconst minigame = Game.Objects['Wizard tower'].minigame;\n\t\tBackupGrimoireDraw = minigame.draw;\n\t\tGame.Objects['Wizard tower'].minigame.draw = function () {\n\t\t\tBackupGrimoireDraw();\n\t\t\tif (CMOptions.GrimoireBar === 1 && minigame.magic < minigame.magicM) {\n\t\t\t\tminigame.magicBarTextL.innerHTML += ` (${FormatTime(CalculateGrimoireRefillTime(minigame.magic, minigame.magicM, minigame.magicM))})`;\n\t\t\t}\n\t\t};\n\t\tHasReplaceNativeGrimoireDraw = true;\n\t}\n}\n\n/**\n * This function fixes replaces the Launch and Draw functions of the Grimoire\n */\nfunction ReplaceNativeGrimoire() {\n\tReplaceNativeGrimoireLaunch();\n\tReplaceNativeGrimoireDraw();\n}\n\n;// CONCATENATED MODULE: ./src/Main/ReplaceGameElements/Tooltips.js\n/* eslint-disable no-unused-vars */\n/** Functions related to replacing tooltips */\n\n\n\n\n\n\n/**\n * This function replaces the original .onmouseover functions of buildings\n */\nfunction ReplaceTooltipBuild() {\n\tfor (const i of Object.keys(Game.Objects)) {\n\t\tconst me = Game.Objects[i];\n\t\tif (l(`product${me.id}`).onmouseover !== null) {\n\t\t\tTooltipBuildBackup[i] = l(`product${me.id}`).onmouseover;\n\t\t\tl(`product${me.id}`).onmouseover = function () {\n\t\t\t\tGame.tooltip.dynamic = 1;\n\t\t\t\tGame.tooltip.draw(this, function () { return CreateTooltip('b', `${i}`); }, 'store');\n\t\t\t\tGame.tooltip.wobble();\n\t\t\t};\n\t\t}\n\t}\n}\n\n/**\n * This function replaces the original .onmouseover functions of sugar lumps\n */\nfunction ReplaceTooltipLump() {\n\tif (Game.canLumps()) {\n\t\tTooltipLumpBackup = l('lumps').onmouseover;\n\t\tl('lumps').onmouseover = function () {\n\t\t\tGame.tooltip.dynamic = 1;\n\t\t\tGame.tooltip.draw(this, function () { return CreateTooltip('s', 'Lump'); }, 'this');\n\t\t\tGame.tooltip.wobble();\n\t\t};\n\t}\n}\n\n/**\n * This function replaces the original .onmouseover functions of all garden plants\n */\nfunction ReplaceTooltipGarden() {\n\tif (Game.Objects.Farm.minigameLoaded) {\n\t\tl('gardenTool-1').onmouseover = function () { Game.tooltip.dynamic = 1; Game.tooltip.draw(this, function () { return CreateTooltip('ha', 'HarvestAllButton'); }, 'this'); Game.tooltip.wobble(); };\n\t\tArray.from(l('gardenPlot').children).forEach((child) => {\n\t\t\tconst coords = child.id.slice(-3);\n\t\t\tchild.onmouseover = function () {\n\t\t\t\tGame.tooltip.dynamic = 1;\n\t\t\t\tGame.tooltip.draw(this, function () { return CreateTooltip('p', [`${coords[0]}`, `${coords[2]}`]); }, 'this');\n\t\t\t\tGame.tooltip.wobble();\n\t\t\t};\n\t\t});\n\t}\n}\n\n/**\n * This function call all functions that replace Game-tooltips with Cookie Monster enhanced tooltips\n */\nfunction ReplaceTooltips() {\n\tReplaceTooltipBuild();\n\tReplaceTooltipLump();\n\n\t// Replace Tooltips of Minigames. Nesting it in LoadMinigames makes sure to replace them even if\n\t// they were not loaded initially\n\tLoadMinigames = Game.LoadMinigames;\n\tGame.LoadMinigames = function () {\n\t\tLoadMinigames();\n\t\tReplaceTooltipGarden();\n\t\tReplaceTooltipGrimoire();\n\t\tReplaceNativeGrimoire();\n\t};\n\tLoadMinigames();\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/AuraChange.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n/**\n * This functions calculates the cps and cost of changing a Dragon Aura\n * It is called by CM.Disp.AddAuraInfo()\n * @param\t{number}\t\t\taura\t\t\t\t\t\t\t\t\t\tThe number of the aura currently selected by the mouse/user\n * @returns {[number, number]} \t[CM.Sim.cookiesPs - Game.cookiesPs, price]\tThe bonus cps and the price of the change\n */\nfunction CalculateChangeAura(aura) {\n\tCopyData();\n\n\t// Check if aura being changed is first or second aura\n\tconst auraToBeChanged = l('promptContent').children[0].innerHTML.includes('secondary');\n\tif (auraToBeChanged) SimDragonAura2 = aura;\n\telse SimDragonAura = aura;\n\n\t// Sell highest building but only if aura is different\n\tlet price = 0;\n\tif (SimDragonAura !== CacheDragonAura || SimDragonAura2 !== CacheDragonAura2) {\n\t\tfor (let i = Game.ObjectsById.length - 1; i > -1; --i) {\n\t\t\tif (Game.ObjectsById[i - 1].amount > 0) {\n\t\t\t\tconst highestBuilding = SimObjects[Game.ObjectsById[i].name].name;\n\t\t\t\tSimObjects[highestBuilding].amount -= 1;\n\t\t\t\tSimBuildingsOwned -= 1;\n\t\t\t\tprice = SimObjects[highestBuilding].basePrice * Game.priceIncrease ** Math.max(0, SimObjects[highestBuilding].amount - 1 - SimObjects[highestBuilding].free);\n\t\t\t\tprice = Game.modifyBuildingPrice(SimObjects[highestBuilding], price);\n\t\t\t\tprice = Math.ceil(price);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst lastAchievementsOwned = SimAchievementsOwned;\n\tCalculateGains();\n\n\tCheckOtherAchiev();\n\tif (lastAchievementsOwned !== SimAchievementsOwned) {\n\t\tCalculateGains();\n\t}\n\treturn [SimCookiesPs - Game.cookiesPs, price];\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Dragon/Dragon.js\n/** Functions related to the Dragon */\n\n\n\n\n\n\n\n/**\n * This functions adds the two extra lines about CPS and time to recover to the aura picker infoscreen\n * @param\t{number}\taura\tThe number of the aura currently selected by the mouse/user\n */\nfunction AddAuraInfo(aura) {\n\tif (CMOptions.DragonAuraInfo === 1) {\n\t\tconst [bonusCPS, priceOfChange] = CalculateChangeAura(aura);\n\t\tconst timeToRecover = FormatTime(priceOfChange / (bonusCPS + Game.cookiesPs));\n\t\tconst bonusCPSPercentage = BeautifyFormatting_Beautify(bonusCPS / Game.cookiesPs);\n\n\t\tl('dragonAuraInfo').style.minHeight = '60px';\n\t\tl('dragonAuraInfo').style.margin = '8px';\n\t\tl('dragonAuraInfo').appendChild(document.createElement('div')).className = 'line';\n\t\tconst div = document.createElement('div');\n\t\tdiv.style.minWidth = '200px';\n\t\tdiv.style.textAlign = 'center';\n\t\tdiv.textContent = `Picking this aura will change CPS by ${BeautifyFormatting_Beautify(bonusCPS)} (${bonusCPSPercentage}% of current CPS).`;\n\t\tl('dragonAuraInfo').appendChild(div);\n\t\tconst div2 = document.createElement('div');\n\t\tdiv2.style.minWidth = '200px';\n\t\tdiv2.style.textAlign = 'center';\n\t\tdiv2.textContent = `It will take ${timeToRecover} to recover the cost.`;\n\t\tl('dragonAuraInfo').appendChild(div2);\n\t}\n}\n\n/**\n * This functions adds a tooltip to the level up button displaying the cost of rebuying all\n * It is called by Game.ToggleSpecialMenu() after CM.Main.ReplaceNative()\n */\nfunction AddDragonLevelUpTooltip() {\n\t// Check if it is the dragon popup that is on screen\n\tif ((l('specialPopup').className.match(/onScreen/) && l('specialPopup').children[0].style.background.match(/dragon/)) !== null) {\n\t\tfor (let i = 0; i < l('specialPopup').childNodes.length; i++) {\n\t\t\tif (l('specialPopup').childNodes[i].className === 'optionBox') {\n\t\t\t\tl('specialPopup').children[i].onmouseover = function () {\n\t\t\t\t\tCacheDragonCost();\n\t\t\t\t\tGame.tooltip.dynamic = 1;\n\t\t\t\t\tGame.tooltip.draw(l('specialPopup'), `<div style=\"min-width:200px;text-align:center;\">${CacheCostDragonUpgrade}</div>`, 'this');\n\t\t\t\t\tGame.tooltip.wobble();\n\t\t\t\t};\n\t\t\t\tl('specialPopup').children[i].onmouseout = function () { Game.tooltip.shouldHide = 1; };\n\t\t\t}\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Sim/SimulationEvents/ResetAscension.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n/**\n * This function calculates the cookies per click difference betwene current and after a ascension\n * It is called by CM.Disp.CreateStatsPrestigeSection()\n * @param\t{number}\tnewHeavenlyChips\tThe total heavenly chips after ascension\n * @returns\t{number}\tResetCPS\t\t\tThe CPS difference after reset\n */\nfunction ResetBonus(newHeavenlyChips) {\n\t// Calculate CPS with all Heavenly upgrades\n\tlet curCPS = Game.cookiesPs;\n\n\tCopyData();\n\n\tif (SimUpgrades[\"Heavenly key\"].bought === 0) {\n\t\tSimUpgrades[\"Heavenly chip secret\"].bought = 1;\n\t\tSimUpgrades[\"Heavenly cookie stand\"].bought = 1;\n\t\tSimUpgrades[\"Heavenly bakery\"].bought = 1;\n\t\tSimUpgrades[\"Heavenly confectionery\"].bought = 1;\n\t\tSimUpgrades[\"Heavenly key\"].bought = 1;\n\n\t\tCalculateGains();\n\n\t\tcurCPS = SimCookiesPs;\n\n\t\tCopyData();\n\t}\n\n\tif (CacheRealCookiesEarned >= 1000000) SimWin('Sacrifice');\n\tif (CacheRealCookiesEarned >= 1000000000) SimWin('Oblivion');\n\tif (CacheRealCookiesEarned >= 1000000000000) SimWin('From scratch');\n\tif (CacheRealCookiesEarned >= 1000000000000000) SimWin('Nihilism');\n\tif (CacheRealCookiesEarned >= 1000000000000000000) SimWin('Dematerialize');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000) SimWin('Nil zero zilch');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000) SimWin('Transcendence');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000) SimWin('Obliterate');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000) SimWin('Negative void');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000) SimWin('To crumbs, you say?');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000) SimWin('You get nothing');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000) SimWin('Humble rebeginnings');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000) SimWin('The end of the world');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000) SimWin('Oh, you\\'re back');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000000) SimWin('Lazarus');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000000000) SimWin('Smurf account');\n\tif (CacheRealCookiesEarned >= 1000000000000000000000000000000000000000000000000000000) SimWin('If at first you don\\'t succeed');\n\n\tSimUpgrades[\"Heavenly chip secret\"].bought = 1;\n\tSimUpgrades[\"Heavenly cookie stand\"].bought = 1;\n\tSimUpgrades[\"Heavenly bakery\"].bought = 1;\n\tSimUpgrades[\"Heavenly confectionery\"].bought = 1;\n\tSimUpgrades[\"Heavenly key\"].bought = 1;\n\n\tSimPrestige = newHeavenlyChips;\n\n\tconst lastAchievementsOwned = SimAchievementsOwned;\n\n\tCalculateGains();\n\n\tCheckOtherAchiev();\n\n\tif (lastAchievementsOwned !== CM.Sim.AchievementsOwned) {\n\t\tCalculateGains();\n\t}\n\n\tconst ResetCPS = SimCookiesPs - curCPS;\n\n\t// Reset Pretige level after calculation as it is used in CM.Sim.CalculateGains() so can't be local\n\tSimPrestige = Game.prestige;\n\n\treturn ResetCPS;\n}\n\n;// CONCATENATED MODULE: ./src/Config/ToggleSetting.js\n\n\n\n\n/** Functions related to toggling or changing an individual setting */\n\n/** Used to name certain DOM or outside facing elements and refer to them */\nconst ToggleSetting_ConfigPrefix = 'CMConfig';\n\n/**\n * This function toggles options by incrementing them with 1 and handling changes\n * It is called by the onclick event of options of the \"bool\" type\n * @param \t{string}\tconfig\tThe name of the option\n */\nfunction ToggleConfig(config) {\n\tCMOptions[config]++;\n\n\tif (CMOptions[config] === SettingsData[config].label.length) {\n\t\tCMOptions[config] = 0;\n\t\tif (SettingsData[config].toggle) l(ToggleSetting_ConfigPrefix + config).className = 'option off';\n\t} else l(ToggleSetting_ConfigPrefix + config).className = 'option';\n\n\tif (typeof SettingsData[config].func !== 'undefined') {\n\t\tSettingsData[config].func();\n\t}\n\n\tl(ToggleSetting_ConfigPrefix + config).innerHTML = SettingsData[config].label[CMOptions[config]];\n\tSaveConfig();\n}\n\n/**\n * This function sets the value of the specified volume-option and updates the display in the options menu\n * It is called by the oninput and onchange event of \"vol\" type options\n * @param \t{string}\tconfig\tThe name of the option\n */\nfunction ToggleConfigVolume(config) {\n\tif (l(`slider${config}`) !== null) {\n\t\tl(`slider${config}right`).innerHTML = `${l(`slider${config}`).value}%`;\n\t\tCMOptions[config] = Math.round(l(`slider${config}`).value);\n\t}\n\tSaveConfig();\n}\n\n/**\n * This function toggles header options by incrementing them with 1 and handling changes\n * It is called by the onclick event of the +/- next to headers\n * @param \t{string}\tconfig\tThe name of the header\n */\nfunction ToggleHeader(config) {\n\tCMOptions.Header[config]++;\n\tif (CMOptions.Header[config] > 1) CMOptions.Header[config] = 0;\n\tSaveConfig();\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/CreateDOMElements.js\n/** Section: Functions related to the creation of basic DOM elements page */\n\n\n\n\n\n/**\n * This function creates a header-object for the stats page\n * It is called by CM.Disp.AddMenuStats()\n * @param \t{string}\t\tconfig\tThe name of the Config-group\n * @param \t{string}\t\ttext\tThe to-be displayed name of the header\n * @returns\t{object}\t\tdiv\t\tThe header object\n */\nfunction StatsHeader(text, config) {\n\tconst div = document.createElement('div');\n\tdiv.className = 'title';\n\tdiv.style.padding = '0px 16px';\n\tdiv.style.opacity = '0.7';\n\tdiv.style.fontSize = '17px';\n\tdiv.style.fontFamily = '\"Kavoon\", Georgia, serif';\n\tdiv.appendChild(document.createTextNode(`${text} `));\n\tconst span = document.createElement('span');\n\tspan.style.cursor = 'pointer';\n\tspan.style.display = 'inline-block';\n\tspan.style.height = '14px';\n\tspan.style.width = '14px';\n\tspan.style.borderRadius = '7px';\n\tspan.style.textAlign = 'center';\n\tspan.style.backgroundColor = '#C0C0C0';\n\tspan.style.color = 'black';\n\tspan.style.fontSize = '13px';\n\tspan.style.verticalAlign = 'middle';\n\tspan.textContent = CMOptions.Header[config] ? '-' : '+';\n\tspan.onclick = function () { ToggleHeader(config); Game.UpdateMenu(); };\n\tdiv.appendChild(span);\n\treturn div;\n}\n\n/**\n * This function creates an stats-listing-object for the stats page\n * It is called by CM.Disp.AddMenuStats()\n * @param \t{string}\t\ttype\t\tThe type fo the listing\n * @param \t{string}\t\tname\t\tThe name of the option\n * @param \t{object}\t\ttext\t\tThe text-object of the option\n * @param \t{string}\t\tplaceholder\tThe id of the to-be displayed tooltip if applicable\n * @returns\t{object}\t\tdiv\t\t\tThe option object\n */\nfunction StatsListing(type, name, text, placeholder) {\n\tconst div = document.createElement('div');\n\tdiv.className = 'listing';\n\n\tconst listingName = document.createElement('b');\n\tlistingName.textContent = name;\n\tdiv.appendChild(listingName);\n\tif (type === 'withTooltip') {\n\t\tdiv.className = 'listing';\n\t\tdiv.appendChild(document.createTextNode(' '));\n\n\t\tconst tooltip = document.createElement('span');\n\t\ttooltip.onmouseout = function () { Game.tooltip.hide(); };\n\t\ttooltip.onmouseover = function () { Game.tooltip.draw(this, escape(TooltipText[placeholder].innerHTML)); };\n\t\ttooltip.style.cursor = 'default';\n\t\ttooltip.style.display = 'inline-block';\n\t\ttooltip.style.height = '10px';\n\t\ttooltip.style.width = '10px';\n\t\ttooltip.style.borderRadius = '5px';\n\t\ttooltip.style.textAlign = 'center';\n\t\ttooltip.style.backgroundColor = '#C0C0C0';\n\t\ttooltip.style.color = 'black';\n\t\ttooltip.style.fontSize = '9px';\n\t\ttooltip.style.verticalAlign = 'bottom';\n\t\ttooltip.textContent = '?';\n\t\tdiv.appendChild(tooltip);\n\t}\n\tdiv.appendChild(document.createTextNode(': '));\n\tdiv.appendChild(text);\n\treturn div;\n}\n\n/**\n * This function creates a tooltip containing all missing holiday items contained in the list theMissDisp\n * @param \t{list}\t\t\ttheMissDisp\t\tA list of the missing holiday items\n * @returns\t{object}\t\tfrag\t\t\tThe tooltip object\n */\nfunction StatsMissDisp(theMissDisp) {\n\tconst frag = document.createDocumentFragment();\n\tfrag.appendChild(document.createTextNode(`${theMissDisp.length} `));\n\tconst span = document.createElement('span');\n\tspan.onmouseout = function () { Game.tooltip.hide(); };\n\tconst placeholder = document.createElement('div');\n\tconst missing = document.createElement('div');\n\tmissing.style.minWidth = '140px';\n\tmissing.style.marginBottom = '4px';\n\tconst title = document.createElement('div');\n\ttitle.className = 'name';\n\ttitle.style.marginBottom = '4px';\n\ttitle.style.textAlign = 'center';\n\ttitle.textContent = 'Missing';\n\tmissing.appendChild(title);\n\tfor (const i of Object.keys(theMissDisp)) {\n\t\tconst div = document.createElement('div');\n\t\tdiv.style.textAlign = 'center';\n\t\tdiv.appendChild(document.createTextNode(theMissDisp[i]));\n\t\tmissing.appendChild(div);\n\t}\n\tplaceholder.appendChild(missing);\n\tspan.onmouseover = function () { Game.tooltip.draw(this, escape(placeholder.innerHTML)); };\n\tspan.style.cursor = 'default';\n\tspan.style.display = 'inline-block';\n\tspan.style.height = '10px';\n\tspan.style.width = '10px';\n\tspan.style.borderRadius = '5px';\n\tspan.style.textAlign = 'center';\n\tspan.style.backgroundColor = '#C0C0C0';\n\tspan.style.color = 'black';\n\tspan.style.fontSize = '9px';\n\tspan.style.verticalAlign = 'bottom';\n\tspan.textContent = '?';\n\tfrag.appendChild(span);\n\treturn frag;\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/CreateStatsSections.js\n/** Functions to create the individual sections of the Statistics page */\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This function creates the \"Lucky\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Lucky section\n */\nfunction LuckySection() {\n\t// This sets which tooltip to display for certain stats\n\tconst goldCookTooltip = Game.auraMult('Dragon\\'s Fortune') ? 'GoldCookDragonsFortuneTooltipPlaceholder' : 'GoldCookTooltipPlaceholder';\n\n\tconst section = document.createElement('div');\n\tsection.className = 'CMStatsLuckySection';\n\n\tconst luckyColor = ((Game.cookies + GetWrinkConfigBank()) < CacheLucky) ? ColorRed : ColorGreen;\n\tconst luckyTime = ((Game.cookies + GetWrinkConfigBank()) < CacheLucky) ? FormatTime((CacheLucky - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\tconst luckyReqFrag = document.createDocumentFragment();\n\tconst luckyReqSpan = document.createElement('span');\n\tluckyReqSpan.style.fontWeight = 'bold';\n\tluckyReqSpan.className = ColorTextPre + luckyColor;\n\tluckyReqSpan.textContent = BeautifyFormatting_Beautify(CacheLucky);\n\tluckyReqFrag.appendChild(luckyReqSpan);\n\tif (luckyTime !== '') {\n\t\tconst luckyReqSmall = document.createElement('small');\n\t\tluckyReqSmall.textContent = ` (${luckyTime})`;\n\t\tluckyReqFrag.appendChild(luckyReqSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Lucky!\" Cookies Required', luckyReqFrag, goldCookTooltip));\n\n\tconst luckyColorFrenzy = ((Game.cookies + GetWrinkConfigBank()) < CacheLuckyFrenzy) ? ColorRed : ColorGreen;\n\tconst luckyTimeFrenzy = ((Game.cookies + GetWrinkConfigBank()) < CacheLuckyFrenzy) ? FormatTime((CacheLuckyFrenzy - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\tconst luckyReqFrenFrag = document.createDocumentFragment();\n\tconst luckyReqFrenSpan = document.createElement('span');\n\tluckyReqFrenSpan.style.fontWeight = 'bold';\n\tluckyReqFrenSpan.className = ColorTextPre + luckyColorFrenzy;\n\tluckyReqFrenSpan.textContent = BeautifyFormatting_Beautify(CacheLuckyFrenzy);\n\tluckyReqFrenFrag.appendChild(luckyReqFrenSpan);\n\tif (luckyTimeFrenzy !== '') {\n\t\tconst luckyReqFrenSmall = document.createElement('small');\n\t\tluckyReqFrenSmall.textContent = ` (${luckyTimeFrenzy})`;\n\t\tluckyReqFrenFrag.appendChild(luckyReqFrenSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Lucky!\" Cookies Required (Frenzy)', luckyReqFrenFrag, goldCookTooltip));\n\n\tconst luckySplit = CacheLuckyReward !== CacheLuckyWrathReward;\n\n\tconst luckyRewardMaxSpan = document.createElement('span');\n\tluckyRewardMaxSpan.style.fontWeight = 'bold';\n\tluckyRewardMaxSpan.className = ColorTextPre + CacheLuckyReward;\n\tluckyRewardMaxSpan.textContent = BeautifyFormatting_Beautify(CacheLuckyReward) + (luckySplit ? (` / ${BeautifyFormatting_Beautify(CacheLuckyWrathReward)}`) : '');\n\tsection.appendChild(StatsListing('withTooltip', `\"Lucky!\" Reward (MAX)${luckySplit ? ' (Golden / Wrath)' : ''}`, luckyRewardMaxSpan, goldCookTooltip));\n\n\tconst luckyRewardFrenzyMaxSpan = document.createElement('span');\n\tluckyRewardFrenzyMaxSpan.style.fontWeight = 'bold';\n\tluckyRewardFrenzyMaxSpan.className = ColorTextPre + luckyRewardFrenzyMaxSpan;\n\tluckyRewardFrenzyMaxSpan.textContent = BeautifyFormatting_Beautify(CacheLuckyRewardFrenzy) + (luckySplit ? (` / ${BeautifyFormatting_Beautify(CacheLuckyWrathRewardFrenzy)}`) : '');\n\tsection.appendChild(StatsListing('withTooltip', `\"Lucky!\" Reward (MAX) (Frenzy)${luckySplit ? ' (Golden / Wrath)' : ''}`, luckyRewardFrenzyMaxSpan, goldCookTooltip));\n\n\tconst luckyCurBase = Math.min((Game.cookies + GetWrinkConfigBank()) * 0.15, CacheNoGoldSwitchCookiesPS * CacheDragonsFortuneMultAdjustment * 60 * 15) + 13;\n\tconst luckyCurSpan = document.createElement('span');\n\tluckyCurSpan.style.fontWeight = 'bold';\n\tluckyCurSpan.className = ColorTextPre + luckyCurSpan;\n\tluckyCurSpan.textContent = BeautifyFormatting_Beautify(CacheGoldenCookiesMult * luckyCurBase) + (luckySplit ? (` / ${BeautifyFormatting_Beautify(CacheWrathCookiesMult * luckyCurBase)}`) : '');\n\tsection.appendChild(StatsListing('withTooltip', `\"Lucky!\" Reward (CUR)${luckySplit ? ' (Golden / Wrath)' : ''}`, luckyCurSpan, goldCookTooltip));\n\treturn section;\n}\n\n/**\n * This function creates the \"Chain\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Chain section\n */\nfunction ChainSection() {\n\t// This sets which tooltip to display for certain stats\n\tconst goldCookTooltip = Game.auraMult('Dragon\\'s Fortune') ? 'GoldCookDragonsFortuneTooltipPlaceholder' : 'GoldCookTooltipPlaceholder';\n\n\tconst section = document.createElement('div');\n\tsection.className = 'CMStatsChainSection';\n\n\tconst chainColor = ((Game.cookies + GetWrinkConfigBank()) < CacheChainRequired) ? ColorRed : ColorGreen;\n\tconst chainTime = ((Game.cookies + GetWrinkConfigBank()) < CacheChainRequired) ? FormatTime((CacheChainRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\tconst chainReqFrag = document.createDocumentFragment();\n\tconst chainReqSpan = document.createElement('span');\n\tchainReqSpan.style.fontWeight = 'bold';\n\tchainReqSpan.className = ColorTextPre + chainColor;\n\tchainReqSpan.textContent = BeautifyFormatting_Beautify(CacheChainRequired);\n\tchainReqFrag.appendChild(chainReqSpan);\n\tif (chainTime !== '') {\n\t\tconst chainReqSmall = document.createElement('small');\n\t\tchainReqSmall.textContent = ` (${chainTime})`;\n\t\tchainReqFrag.appendChild(chainReqSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Cookies Required', chainReqFrag, goldCookTooltip));\n\n\tconst chainWrathColor = ((Game.cookies + GetWrinkConfigBank()) < CacheChainWrathRequired) ? ColorRed : ColorGreen;\n\tconst chainWrathTime = ((Game.cookies + GetWrinkConfigBank()) < CacheChainWrathRequired) ? FormatTime((CacheChainWrathRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\tconst chainWrathReqFrag = document.createDocumentFragment();\n\tconst chainWrathReqSpan = document.createElement('span');\n\tchainWrathReqSpan.style.fontWeight = 'bold';\n\tchainWrathReqSpan.className = ColorTextPre + chainWrathColor;\n\tchainWrathReqSpan.textContent = BeautifyFormatting_Beautify(CacheChainWrathRequired);\n\tchainWrathReqFrag.appendChild(chainWrathReqSpan);\n\tif (chainWrathTime !== '') {\n\t\tconst chainWrathReqSmall = document.createElement('small');\n\t\tchainWrathReqSmall.textContent = ` (${chainWrathTime})`;\n\t\tchainWrathReqFrag.appendChild(chainWrathReqSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Cookies Required (Wrath)', chainWrathReqFrag, goldCookTooltip));\n\n\tconst chainColorFrenzy = ((Game.cookies + GetWrinkConfigBank()) < CacheChainFrenzyRequired) ? ColorRed : ColorGreen;\n\tconst chainTimeFrenzy = ((Game.cookies + GetWrinkConfigBank()) < CacheChainFrenzyRequired) ? FormatTime((CacheChainFrenzyRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\tconst chainReqFrenFrag = document.createDocumentFragment();\n\tconst chainReqFrenSpan = document.createElement('span');\n\tchainReqFrenSpan.style.fontWeight = 'bold';\n\tchainReqFrenSpan.className = ColorTextPre + chainColorFrenzy;\n\tchainReqFrenSpan.textContent = BeautifyFormatting_Beautify(CacheChainFrenzyRequired);\n\tchainReqFrenFrag.appendChild(chainReqFrenSpan);\n\tif (chainTimeFrenzy !== '') {\n\t\tconst chainReqFrenSmall = document.createElement('small');\n\t\tchainReqFrenSmall.textContent = ` (${chainTimeFrenzy})`;\n\t\tchainReqFrenFrag.appendChild(chainReqFrenSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Cookies Required (Frenzy)', chainReqFrenFrag, goldCookTooltip));\n\n\tconst chainWrathColorFrenzy = ((Game.cookies + GetWrinkConfigBank()) < CacheChainFrenzyWrathRequired) ? ColorRed : ColorGreen;\n\tconst chainWrathTimeFrenzy = ((Game.cookies + GetWrinkConfigBank()) < CacheChainFrenzyWrathRequired) ? FormatTime((CacheChainFrenzyWrathRequired - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\tconst chainWrathReqFrenFrag = document.createDocumentFragment();\n\tconst chainWrathReqFrenSpan = document.createElement('span');\n\tchainWrathReqFrenSpan.style.fontWeight = 'bold';\n\tchainWrathReqFrenSpan.className = ColorTextPre + chainWrathColorFrenzy;\n\tchainWrathReqFrenSpan.textContent = BeautifyFormatting_Beautify(CacheChainFrenzyWrathRequired);\n\tchainWrathReqFrenFrag.appendChild(chainWrathReqFrenSpan);\n\tif (chainWrathTimeFrenzy !== '') {\n\t\tconst chainWrathReqFrenSmall = document.createElement('small');\n\t\tchainWrathReqFrenSmall.textContent = ` (${chainWrathTimeFrenzy})`;\n\t\tchainWrathReqFrenFrag.appendChild(chainWrathReqFrenSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Cookies Required (Frenzy) (Wrath)', chainWrathReqFrenFrag, goldCookTooltip));\n\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Reward (MAX) (Golden / Wrath)', document.createTextNode(`${BeautifyFormatting_Beautify(CacheChainMaxReward[0])} / ${BeautifyFormatting_Beautify(CacheChainWrathMaxReward[0])}`), goldCookTooltip));\n\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Reward (MAX) (Frenzy) (Golden / Wrath)', document.createTextNode((`${BeautifyFormatting_Beautify(CacheChainFrenzyMaxReward[0])} / ${BeautifyFormatting_Beautify(CacheChainFrenzyMaxReward[0])}`)), goldCookTooltip));\n\n\tconst chainCurMax = Math.min(Game.cookiesPs * 60 * 60 * 6 * CacheDragonsFortuneMultAdjustment, Game.cookies * 0.5);\n\tconst chainCur = MaxChainCookieReward(7, chainCurMax, CacheGoldenCookiesMult)[0];\n\tconst chainCurWrath = MaxChainCookieReward(6, chainCurMax, CacheWrathCookiesMult)[0];\n\tsection.appendChild(StatsListing('withTooltip', '\"Chain\" Reward (CUR) (Golden / Wrath)', document.createTextNode((`${BeautifyFormatting_Beautify(chainCur)} / ${BeautifyFormatting_Beautify(chainCurWrath)}`)), goldCookTooltip));\n\n\tsection.appendChild(StatsListing('withTooltip', 'CPS Needed For Next Level (G / W)', document.createTextNode((`${BeautifyFormatting_Beautify(CacheChainRequiredNext)} / ${BeautifyFormatting_Beautify(CacheChainWrathRequiredNext)}`)), 'ChainNextLevelPlaceholder'));\n\tsection.appendChild(StatsListing('withTooltip', 'CPS Needed For Next Level (Frenzy) (G / W)', document.createTextNode((`${BeautifyFormatting_Beautify(CacheChainFrenzyRequiredNext)} / ${BeautifyFormatting_Beautify(CacheChainFrenzyWrathRequiredNext)}`)), 'ChainNextLevelPlaceholder'));\n\treturn section;\n}\n\n/**\n * This function creates the \"Spells\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Spells section\n */\nfunction SpellsSection() {\n\tconst section = document.createElement('div');\n\tsection.className = 'CMStatsSpellsSection';\n\n\tconst conjureColor = ((Game.cookies + GetWrinkConfigBank()) < CacheConjure) ? ColorRed : ColorGreen;\n\tconst conjureTime = ((Game.cookies + GetWrinkConfigBank()) < CacheConjure) ? FormatTime((CacheConjure - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\n\tconst conjureReqFrag = document.createDocumentFragment();\n\tconst conjureReqSpan = document.createElement('span');\n\tconjureReqSpan.style.fontWeight = 'bold';\n\tconjureReqSpan.className = ColorTextPre + conjureColor;\n\tconjureReqSpan.textContent = BeautifyFormatting_Beautify(CacheConjure);\n\tconjureReqFrag.appendChild(conjureReqSpan);\n\tif (conjureTime !== '') {\n\t\tconst conjureReqSmall = document.createElement('small');\n\t\tconjureReqSmall.textContent = ` (${conjureTime})`;\n\t\tconjureReqFrag.appendChild(conjureReqSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Conjure Baked Goods\" Cookies Required', conjureReqFrag, 'GoldCookTooltipPlaceholder'));\n\tsection.appendChild(StatsListing('withTooltip', '\"Conjure Baked Goods\" Reward (MAX)', document.createTextNode(BeautifyFormatting_Beautify(CacheConjureReward)), 'GoldCookTooltipPlaceholder'));\n\n\tconst conjureFrenzyColor = ((Game.cookies + GetWrinkConfigBank()) < CacheConjure * 7) ? ColorRed : ColorGreen;\n\tconst conjureFrenzyCur = Math.min((Game.cookies + GetWrinkConfigBank()) * 0.15, CacheNoGoldSwitchCookiesPS * 60 * 30);\n\tconst conjureFrenzyTime = ((Game.cookies + GetWrinkConfigBank()) < CacheConjure * 7) ? FormatTime((CacheConjure * 7 - (Game.cookies + GetWrinkConfigBank())) / GetCPS()) : '';\n\n\tconst conjureFrenzyReqFrag = document.createDocumentFragment();\n\tconst conjureFrenzyReqSpan = document.createElement('span');\n\tconjureFrenzyReqSpan.style.fontWeight = 'bold';\n\tconjureFrenzyReqSpan.className = ColorTextPre + conjureFrenzyColor;\n\tconjureFrenzyReqSpan.textContent = BeautifyFormatting_Beautify(CacheConjure * 7);\n\tconjureFrenzyReqFrag.appendChild(conjureFrenzyReqSpan);\n\tif (conjureFrenzyTime !== '') {\n\t\tconst conjureFrenzyReqSmall = document.createElement('small');\n\t\tconjureFrenzyReqSmall.textContent = ` (${conjureFrenzyTime})`;\n\t\tconjureFrenzyReqFrag.appendChild(conjureFrenzyReqSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', '\"Conjure Baked Goods\" Cookies Required (Frenzy)', conjureFrenzyReqFrag, 'GoldCookTooltipPlaceholder'));\n\tsection.appendChild(StatsListing('withTooltip', '\"Conjure Baked Goods\" Reward (MAX) (Frenzy)', document.createTextNode(BeautifyFormatting_Beautify(CacheConjureReward * 7)), 'GoldCookTooltipPlaceholder'));\n\tsection.appendChild(StatsListing('withTooltip', '\"Conjure Baked Goods\" Reward (CUR)', document.createTextNode(BeautifyFormatting_Beautify(conjureFrenzyCur)), 'GoldCookTooltipPlaceholder'));\n\tif (CacheEdifice) {\n\t\tsection.appendChild(StatsListing('withTooltip', '\"Spontaneous Edifice\" Cookies Required (most expensive building)', document.createTextNode(`${BeautifyFormatting_Beautify(CacheEdifice)} (${CacheEdificeBuilding})`), 'GoldCookTooltipPlaceholder'));\n\t}\n\treturn section;\n}\n\n/**\n * This function creates the \"Garden\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Spells section\n */\nfunction GardenSection() {\n\tconst section = document.createElement('div');\n\tsection.className = 'CMStatsGardenSection';\n\n\tconst bakeberryColor = (Game.cookies < Game.cookiesPs * 60 * 30) ? ColorRed : ColorGreen;\n\tconst bakeberryFrag = document.createElement('span');\n\tbakeberryFrag.style.fontWeight = 'bold';\n\tbakeberryFrag.className = ColorTextPre + bakeberryColor;\n\tbakeberryFrag.textContent = BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 30);\n\tsection.appendChild(StatsListing('basic', 'Cookies required for max reward of Bakeberry: ', bakeberryFrag));\n\n\tconst chocorootColor = (Game.cookies < Game.cookiesPs * 60 * 3) ? ColorRed : ColorGreen;\n\tconst chocorootFrag = document.createElement('span');\n\tchocorootFrag.style.fontWeight = 'bold';\n\tchocorootFrag.className = ColorTextPre + chocorootColor;\n\tchocorootFrag.textContent = BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 3);\n\tsection.appendChild(StatsListing('basic', 'Cookies required for max reward of Chocoroot: ', chocorootFrag));\n\n\tconst queenbeetColor = (Game.cookies < Game.cookiesPs * 60 * 60) ? ColorRed : ColorGreen;\n\tconst queenbeetFrag = document.createElement('span');\n\tqueenbeetFrag.style.fontWeight = 'bold';\n\tqueenbeetFrag.className = ColorTextPre + queenbeetColor;\n\tqueenbeetFrag.textContent = BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 60);\n\tsection.appendChild(StatsListing('basic', 'Cookies required for max reward of Queenbeet: ', queenbeetFrag));\n\n\tconst duketaterColor = (Game.cookies < Game.cookiesPs * 60 * 120) ? ColorRed : ColorGreen;\n\tconst duketaterFrag = document.createElement('span');\n\tduketaterFrag.style.fontWeight = 'bold';\n\tduketaterFrag.className = ColorTextPre + duketaterColor;\n\tduketaterFrag.textContent = BeautifyFormatting_Beautify(Game.cookiesPs * 60 * 120);\n\tsection.appendChild(StatsListing('basic', 'Cookies required for max reward of Duketater: ', duketaterFrag));\n\treturn section;\n}\n\n/**\n * This function creates the \"Prestige\" section of the stats page\n * @returns\t{object}\tsection\t\tThe object contating the Prestige section\n */\nfunction PrestigeSection() {\n\tconst section = document.createElement('div');\n\tsection.className = 'CMStatsPrestigeSection';\n\n\tconst possiblePresMax = Math.floor(Game.HowMuchPrestige(CacheRealCookiesEarned\n\t\t+ Game.cookiesReset + CacheWrinklersTotal\n\t\t+ (Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg') ? CacheLastChoEgg : 0)));\n\tsection.appendChild(StatsListing('withTooltip', 'Prestige Level (CUR / MAX)', document.createTextNode(`${BeautifyFormatting_Beautify(Game.prestige)} / ${BeautifyFormatting_Beautify(possiblePresMax)}`), 'PrestMaxTooltipPlaceholder'));\n\n\tconst neededCook = Game.HowManyCookiesReset(possiblePresMax + 1) - (CacheRealCookiesEarned + Game.cookiesReset + CacheWrinklersTotal + ((Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg') ? CacheLastChoEgg : 0) ? CacheLastChoEgg : 0));\n\tconst cookiesNextFrag = document.createDocumentFragment();\n\tcookiesNextFrag.appendChild(document.createTextNode(BeautifyFormatting_Beautify(neededCook)));\n\tconst cookiesNextSmall = document.createElement('small');\n\tcookiesNextSmall.textContent = ` (${FormatTime(neededCook / CacheAvgCPSWithChoEgg, 1)})`;\n\tcookiesNextFrag.appendChild(cookiesNextSmall);\n\tsection.appendChild(StatsListing('withTooltip', 'Cookies To Next Level', cookiesNextFrag, 'NextPrestTooltipPlaceholder'));\n\n\tsection.appendChild(StatsListing('withTooltip', 'Heavenly Chips (CUR / MAX)', document.createTextNode(`${BeautifyFormatting_Beautify(Game.heavenlyChips)} / ${BeautifyFormatting_Beautify((possiblePresMax - Game.prestige) + Game.heavenlyChips)}`), 'HeavenChipMaxTooltipPlaceholder'));\n\n\tsection.appendChild(StatsListing('basic', 'Heavenly Chips Per Second (last 5 seconds)', document.createTextNode(BeautifyFormatting_Beautify(CacheHCPerSecond, 2))));\n\n\tconst HCTarget = Number(CMOptions.HeavenlyChipsTarget);\n\tif (!isNaN(HCTarget)) {\n\t\tconst CookiesTillTarget = HCTarget - Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned));\n\t\tif (CookiesTillTarget > 0) {\n\t\t\tsection.appendChild(StatsListing('basic', 'Heavenly Chips To Target Set In Settings (CUR)', document.createTextNode(BeautifyFormatting_Beautify(CookiesTillTarget))));\n\t\t\tsection.appendChild(StatsListing('basic', 'Time To Target (CUR, Current 5 Second Average)', document.createTextNode(FormatTime(CookiesTillTarget / CacheHCPerSecond))));\n\t\t}\n\t}\n\n\tconst resetBonus = ResetBonus(possiblePresMax);\n\tconst resetFrag = document.createDocumentFragment();\n\tresetFrag.appendChild(document.createTextNode(BeautifyFormatting_Beautify(resetBonus)));\n\tconst increase = Math.round(resetBonus / Game.cookiesPs * 10000);\n\tif (isFinite(increase) && increase !== 0) {\n\t\tconst resetSmall = document.createElement('small');\n\t\tresetSmall.textContent = ` (${increase / 100}% of income)`;\n\t\tresetFrag.appendChild(resetSmall);\n\t}\n\tsection.appendChild(StatsListing('withTooltip', 'Reset Bonus Income', resetFrag, 'ResetTooltipPlaceholder'));\n\n\tconst currentPrestige = Math.floor(Game.HowMuchPrestige(Game.cookiesReset));\n\tconst willHave = Math.floor(Game.HowMuchPrestige(Game.cookiesReset + Game.cookiesEarned));\n\tconst willGet = willHave - currentPrestige;\n\tif (!Game.Has('Lucky digit')) {\n\t\tlet delta7 = 7 - (willHave % 10);\n\t\tif (delta7 < 0) delta7 += 10;\n\t\tconst next7Reset = willGet + delta7;\n\t\tconst next7Total = willHave + delta7;\n\t\tconst frag7 = document.createDocumentFragment();\n\t\tfrag7.appendChild(document.createTextNode(`${next7Total.toLocaleString()} / ${next7Reset.toLocaleString()} (+${delta7})`));\n\t\tsection.appendChild(StatsListing('basic', 'Next \"Lucky Digit\" (total / reset)', frag7));\n\t}\n\n\tif (!Game.Has('Lucky number')) {\n\t\tlet delta777 = 777 - (willHave % 1000);\n\t\tif (delta777 < 0) delta777 += 1000;\n\t\tconst next777Reset = willGet + delta777;\n\t\tconst next777Total = willHave + delta777;\n\t\tconst frag777 = document.createDocumentFragment();\n\t\tfrag777.appendChild(document.createTextNode(`${next777Total.toLocaleString()} / ${next777Reset.toLocaleString()} (+${delta777})`));\n\t\tsection.appendChild(StatsListing('basic', 'Next \"Lucky Number\" (total / reset)', frag777));\n\t}\n\n\tif (!Game.Has('Lucky payout')) {\n\t\tlet delta777777 = 777777 - (willHave % 1000000);\n\t\tif (delta777777 < 0) delta777777 += 1000000;\n\t\tconst next777777Reset = willGet + delta777777;\n\t\tconst next777777Total = willHave + delta777777;\n\t\tconst frag777777 = document.createDocumentFragment();\n\t\tfrag777777.appendChild(document.createTextNode(`${next777777Total.toLocaleString()} / ${next777777Reset.toLocaleString()} (+${delta777777})`));\n\t\tsection.appendChild(StatsListing('basic', 'Next \"Lucky Payout\" (total / reset)', frag777777));\n\t}\n\n\treturn section;\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/AddStatsPage.js\n/** Main function to create the sections of Cookie Monster on the Statistics page */\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This function adds stats created by CookieMonster to the stats page\n * It is called by CM.Disp.AddMenu\n * @param {object} title\tOn object that includes the title of the menu\n */\nfunction AddMenuStats(title) {\n\tconst stats = document.createElement('div');\n\tstats.className = 'subsection';\n\tstats.appendChild(title);\n\n\tstats.appendChild(StatsHeader('Lucky Cookies', 'Lucky'));\n\tif (CMOptions.Header.Lucky) {\n\t\tstats.appendChild(LuckySection());\n\t}\n\n\tstats.appendChild(StatsHeader('Chain Cookies', 'Chain'));\n\tif (CMOptions.Header.Chain) {\n\t\tstats.appendChild(ChainSection());\n\t}\n\n\tif (Game.Objects['Wizard tower'].minigameLoaded) {\n\t\tstats.appendChild(StatsHeader('Spells', 'Spells'));\n\t\tif (CMOptions.Header.Spells) {\n\t\t\tstats.appendChild(SpellsSection());\n\t\t}\n\t}\n\n\tif (Game.Objects.Farm.minigameLoaded) {\n\t\tstats.appendChild(StatsHeader('Garden', 'Garden'));\n\t\tif (CMOptions.Header.Garden) {\n\t\t\tstats.appendChild(GardenSection());\n\t\t}\n\t}\n\n\tstats.appendChild(StatsHeader('Prestige', 'Prestige'));\n\tif (CMOptions.Header.Prestige) {\n\t\tstats.appendChild(PrestigeSection());\n\t}\n\n\tif (Game.cpsSucked > 0) {\n\t\tstats.appendChild(StatsHeader('Wrinklers', 'Wrink'));\n\t\tif (CMOptions.Header.Wrink) {\n\t\t\tconst popAllFrag = document.createDocumentFragment();\n\t\t\tpopAllFrag.appendChild(document.createTextNode(`${BeautifyFormatting_Beautify(CacheWrinklersTotal)} / ${BeautifyFormatting_Beautify(CacheWrinklersNormal)} `));\n\t\t\tconst popAllA = document.createElement('a');\n\t\t\tpopAllA.textContent = 'Pop All Normal';\n\t\t\tpopAllA.className = 'option';\n\t\t\tpopAllA.onclick = function () { PopAllNormalWrinklers(); };\n\t\t\tpopAllFrag.appendChild(popAllA);\n\t\t\tstats.appendChild(StatsListing('basic', 'Rewards of Popping (All/Normal)', popAllFrag));\n\t\t\tconst popFattestFrag = document.createDocumentFragment();\n\t\t\tpopFattestFrag.appendChild(document.createTextNode(`${BeautifyFormatting_Beautify(CacheWrinklersFattest[0])} `));\n\t\t\tconst popFattestA = document.createElement('a');\n\t\t\tpopFattestA.textContent = 'Pop Single Fattest';\n\t\t\tpopFattestA.className = 'option';\n\t\t\tpopFattestA.onclick = function () { if (CacheWrinklersFattest[1] !== null) Game.wrinklers[CacheWrinklersFattest[1]].hp = 0; };\n\t\t\tpopFattestFrag.appendChild(popFattestA);\n\t\t\tstats.appendChild(StatsListing('basic', `Rewards of Popping Single Fattest Non-Shiny Wrinkler (id: ${CacheWrinklersFattest[1] !== null ? CacheWrinklersFattest[1] : 'None'})`, popFattestFrag));\n\t\t}\n\t}\n\n\tlet specDisp = false;\n\tconst missingHalloweenCookies = [];\n\tfor (const i of Object.keys(HalloCookies)) {\n\t\tif (!Game.Has(HalloCookies[i])) {\n\t\t\tmissingHalloweenCookies.push(HalloCookies[i]);\n\t\t\tspecDisp = true;\n\t\t}\n\t}\n\tconst missingChristmasCookies = [];\n\tfor (const i of Object.keys(ChristCookies)) {\n\t\tif (!Game.Has(ChristCookies[i])) {\n\t\t\tmissingChristmasCookies.push(ChristCookies[i]);\n\t\t\tspecDisp = true;\n\t\t}\n\t}\n\tconst missingValentineCookies = [];\n\tfor (const i of Object.keys(ValCookies)) {\n\t\tif (!Game.Has(ValCookies[i])) {\n\t\t\tmissingValentineCookies.push(ValCookies[i]);\n\t\t\tspecDisp = true;\n\t\t}\n\t}\n\tconst missingNormalEggs = [];\n\tfor (const i of Object.keys(Game.eggDrops)) {\n\t\tif (!Game.HasUnlocked(Game.eggDrops[i])) {\n\t\t\tmissingNormalEggs.push(Game.eggDrops[i]);\n\t\t\tspecDisp = true;\n\t\t}\n\t}\n\tconst missingRareEggs = [];\n\tfor (const i of Object.keys(Game.rareEggDrops)) {\n\t\tif (!Game.HasUnlocked(Game.rareEggDrops[i])) {\n\t\t\tmissingRareEggs.push(Game.rareEggDrops[i]);\n\t\t\tspecDisp = true;\n\t\t}\n\t}\n\tconst missingPlantDrops = [];\n\tfor (const i of Object.keys(PlantDrops)) {\n\t\tif (!Game.HasUnlocked(PlantDrops[i])) {\n\t\t\tmissingPlantDrops.push(PlantDrops[i]);\n\t\t\tspecDisp = true;\n\t\t}\n\t}\n\tconst choEgg = (Game.HasUnlocked('Chocolate egg') && !Game.Has('Chocolate egg'));\n\tconst centEgg = Game.Has('Century egg');\n\n\tif (Game.season === 'christmas' || specDisp || choEgg || centEgg) {\n\t\tstats.appendChild(StatsHeader('Season Specials', 'Sea'));\n\t\tif (CMOptions.Header.Sea) {\n\t\t\tif (missingHalloweenCookies.length !== 0) stats.appendChild(StatsListing('basic', 'Halloween Cookies Left to Buy', StatsMissDisp(missingHalloweenCookies)));\n\t\t\tif (missingChristmasCookies.length !== 0) stats.appendChild(StatsListing('basic', 'Christmas Cookies Left to Buy', StatsMissDisp(missingChristmasCookies)));\n\t\t\tif (missingValentineCookies.length !== 0) stats.appendChild(StatsListing('basic', 'Valentine Cookies Left to Buy', StatsMissDisp(missingValentineCookies)));\n\t\t\tif (missingNormalEggs.length !== 0) stats.appendChild(StatsListing('basic', 'Normal Easter Eggs Left to Unlock', StatsMissDisp(missingNormalEggs)));\n\t\t\tif (missingRareEggs.length !== 0) stats.appendChild(StatsListing('basic', 'Rare Easter Eggs Left to Unlock', StatsMissDisp(missingRareEggs)));\n\t\t\tif (missingPlantDrops.length !== 0) stats.appendChild(StatsListing('basic', 'Rare Plant Drops Left to Unlock', StatsMissDisp(missingPlantDrops)));\n\n\t\t\tif (Game.season === 'christmas') stats.appendChild(StatsListing('basic', 'Reindeer Reward', document.createTextNode(BeautifyFormatting_Beautify(CacheSeaSpec))));\n\t\t\tif (choEgg) {\n\t\t\t\tstats.appendChild(StatsListing('withTooltip', 'Chocolate Egg Cookies', document.createTextNode(BeautifyFormatting_Beautify(CacheLastChoEgg)), 'ChoEggTooltipPlaceholder'));\n\t\t\t}\n\t\t\tif (centEgg) {\n\t\t\t\tstats.appendChild(StatsListing('basic', 'Century Egg Multiplier', document.createTextNode(`${Math.round((CacheCentEgg - 1) * 10000) / 100}%`)));\n\t\t\t}\n\t\t}\n\t}\n\n\tstats.appendChild(StatsHeader('Miscellaneous', 'Misc'));\n\tif (CMOptions.Header.Misc) {\n\t\tstats.appendChild(StatsListing('basic',\n\t\t\t`Average Cookies Per Second (Past ${CookieTimes[CMOptions.AvgCPSHist] < 60 ? (`${CookieTimes[CMOptions.AvgCPSHist]} seconds`) : ((CookieTimes[CMOptions.AvgCPSHist] / 60) + (CMOptions.AvgCPSHist === 3 ? ' minute' : ' minutes'))})`,\n\t\t\tdocument.createTextNode(BeautifyFormatting_Beautify(GetCPS(), 3))));\n\t\tstats.appendChild(StatsListing('basic', `Average Cookie Clicks Per Second (Past ${ClickTimes[CMOptions.AvgClicksHist]}${CMOptions.AvgClicksHist === 0 ? ' second' : ' seconds'})`, document.createTextNode(BeautifyFormatting_Beautify(CacheAverageClicks, 1))));\n\t\tif (Game.Has('Fortune cookies')) {\n\t\t\tconst fortunes = [];\n\t\t\tfor (const i of Object.keys(Fortunes)) {\n\t\t\t\tif (!Game.Has(Fortunes[i])) {\n\t\t\t\t\tfortunes.push(Fortunes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fortunes.length !== 0) stats.appendChild(StatsListing('basic', 'Fortune Upgrades Left to Buy', StatsMissDisp(fortunes)));\n\t\t}\n\t\tif (CMOptions.ShowMissedGC) {\n\t\t\tstats.appendChild(StatsListing('basic', 'Missed Golden Cookies', document.createTextNode(BeautifyFormatting_Beautify(Game.missedGoldenClicks))));\n\t\t}\n\t\tif (Game.prefs.autosave) {\n\t\t\tconst timer = document.createElement('span');\n\t\t\ttimer.id = 'CMStatsAutosaveTimer';\n\t\t\ttimer.innerText = Game.sayTime(Game.fps * 60 - (Game.OnAscend ? 0 : (Game.T % (Game.fps * 60))), 4);\n\t\t\tstats.appendChild(StatsListing('basic', 'Time till autosave', timer));\n\t\t}\n\t}\n\n\tl('menu').insertBefore(stats, l('menu').childNodes[2]);\n\n\tif (CMOptions.MissingUpgrades) {\n\t\tAddMissingUpgrades();\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/InfoPage.js\n/** Functions related to the Stats page */\n\n\n\n\n\n/**\n * This function adds stats created by CookieMonster to the stats page\n * @param {object} title\tOn object that includes the title of the menu\n */\nfunction AddMenuInfo(title) {\n\tconst info = document.createElement('div');\n\tinfo.className = 'subsection';\n\n\tconst span = document.createElement('span');\n\tspan.style.cursor = 'pointer';\n\tspan.style.display = 'inline-block';\n\tspan.style.height = '14px';\n\tspan.style.width = '14px';\n\tspan.style.borderRadius = '7px';\n\tspan.style.textAlign = 'center';\n\tspan.style.backgroundColor = '#C0C0C0';\n\tspan.style.color = 'black';\n\tspan.style.fontSize = '13px';\n\tspan.style.verticalAlign = 'middle';\n\tspan.textContent = CMOptions.Header.InfoTab ? '-' : '+';\n\tspan.onclick = function () { ToggleHeader('InfoTab'); Game.UpdateMenu(); };\n\ttitle.appendChild(span);\n\tinfo.appendChild(title);\n\n\tif (CMOptions.Header.InfoTab) {\n\t\tconst description = document.createElement('div');\n\t\tdescription.innerHTML = ModDescription;\n\t\tinfo.appendChild(description);\n\t\tconst notes = document.createElement('div');\n\t\tnotes.innerHTML = LatestReleaseNotes;\n\t\tinfo.appendChild(notes);\n\t}\n\n\tconst menu = l('menu').children[1];\n\tmenu.insertBefore(info, menu.children[1]);\n}\n\n;// CONCATENATED MODULE: ./src/Data/Sectionheaders.js\n/** Data related to the display titles of certain sections in menu screens */\n\n/** Display titles of the headers of the Cookie Monster settings section */\nconst ConfigGroups = {\n\tBarsColors: 'Bars/Colors',\n\tCalculation: 'Calculation',\n\tNotification: 'Notification',\n\tTooltip: 'Tooltips and additional insights',\n\tStatistics: 'Statistics',\n\tNotation: 'Notation',\n\tMiscellaneous: 'Miscellaneous',\n};\n\n/** Display titles of the headers of the notification section of the Cookie Monster settings */\nconst ConfigGroupsNotification = {\n\tNotificationGeneral: 'General Notifications',\n\tNotificationGC: 'Golden Cookie',\n\tNotificationFC: 'Fortune Cookie',\n\tNotificationSea: 'Season Special',\n\tNotificationGard: 'Garden Tick',\n\tNotificationMagi: 'Full Magic Bar',\n\tNotificationWrink: 'Wrinkler',\n\tNotificationWrinkMax: 'Maximum Wrinklers',\n};\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/SettingsPage.js\n/** Functions related to the Options/Preferences page */\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This function adds the options/settings of CookieMonster to the options page\n * It is called by CM.Disp.AddMenu\n * @param {object} title\tOn object that includes the title of the menu\n */\nfunction AddMenuPref(title) {\n\tconst frag = document.createDocumentFragment();\n\tfrag.appendChild(title);\n\n\tfor (const group of Object.keys(ConfigGroups)) {\n\t\tconst groupObject = CreatePrefHeader(group, ConfigGroups[group]); // (group, display-name of group)\n\t\tfrag.appendChild(groupObject);\n\t\tif (CMOptions.Header[group]) { // 0 is show, 1 is collapsed\n\t\t\t// Make sub-sections of Notification section\n\t\t\tif (group === 'Notification') {\n\t\t\t\tfor (const subGroup of Object.keys(ConfigGroupsNotification)) {\n\t\t\t\t\tconst subGroupObject = CreatePrefHeader(subGroup, ConfigGroupsNotification[subGroup]); // (group, display-name of group)\n\t\t\t\t\tsubGroupObject.style.fontSize = '15px';\n\t\t\t\t\tsubGroupObject.style.opacity = '0.5';\n\t\t\t\t\tfrag.appendChild(subGroupObject);\n\t\t\t\t\tif (CMOptions.Header[subGroup]) {\n\t\t\t\t\t\tfor (const option in SettingsData) {\n\t\t\t\t\t\t\tif (SettingsData[option].group === subGroup) frag.appendChild(CreatePrefOption(option));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const option of Object.keys(SettingsData)) {\n\t\t\t\t\tif (SettingsData[option].group === group) frag.appendChild(CreatePrefOption(option));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconst resDef = document.createElement('div');\n\tresDef.className = 'listing';\n\tconst resDefBut = document.createElement('a');\n\tresDefBut.className = 'option';\n\tresDefBut.onclick = function () { LoadConfig(SettingsDefault); };\n\tresDefBut.textContent = 'Restore Default';\n\tresDef.appendChild(resDefBut);\n\tfrag.appendChild(resDef);\n\n\tl('menu').childNodes[2].insertBefore(frag, l('menu').childNodes[2].childNodes[l('menu').childNodes[2].childNodes.length - 1]);\n}\n\n/**\n * This function creates a header-object for the options page\n * @param \t{string}\t\tconfig\tThe name of the Config-group\n * @param \t{string}\t\ttext\tThe to-be displayed name of the header\n * @returns\t{object}\t\tdiv\t\tThe header object\n */\nfunction CreatePrefHeader(config, text) {\n\tconst div = document.createElement('div');\n\tdiv.className = 'title';\n\n\tdiv.style.opacity = '0.7';\n\tdiv.style.fontSize = '17px';\n\tdiv.appendChild(document.createTextNode(`${text} `));\n\tconst span = document.createElement('span'); // Creates the +/- button\n\tspan.style.cursor = 'pointer';\n\tspan.style.display = 'inline-block';\n\tspan.style.height = '14px';\n\tspan.style.width = '14px';\n\tspan.style.borderRadius = '7px';\n\tspan.style.textAlign = 'center';\n\tspan.style.backgroundColor = '#C0C0C0';\n\tspan.style.color = 'black';\n\tspan.style.fontSize = '13px';\n\tspan.style.verticalAlign = 'middle';\n\tspan.textContent = CMOptions.Header[config] ? '-' : '+';\n\tspan.onclick = function () { ToggleHeader(config); Game.UpdateMenu(); };\n\tdiv.appendChild(span);\n\treturn div;\n}\n\n/**\n * This function creates an option-object for the options page\n * @param \t{string}\t\tconfig\tThe name of the option\n * @returns\t{object}\t\tdiv\t\tThe option object\n */\nfunction CreatePrefOption(config) {\n\tconst div = document.createElement('div');\n\tdiv.className = 'listing';\n\tif (SettingsData[config].type === 'bool') {\n\t\tconst a = document.createElement('a');\n\t\tif (SettingsData[config].toggle && CMOptions[config] === 0) {\n\t\t\ta.className = 'option off';\n\t\t} else {\n\t\t\ta.className = 'option';\n\t\t}\n\t\ta.id = ToggleSetting_ConfigPrefix + config;\n\t\ta.onclick = function () { ToggleConfig(config); };\n\t\ta.textContent = SettingsData[config].label[CMOptions[config]];\n\t\tdiv.appendChild(a);\n\t\tconst label = document.createElement('label');\n\t\tlabel.textContent = SettingsData[config].desc;\n\t\tdiv.appendChild(label);\n\t\treturn div;\n\t} else if (SettingsData[config].type === 'vol') {\n\t\tconst volume = document.createElement('div');\n\t\tvolume.className = 'sliderBox';\n\t\tconst title = document.createElement('div');\n\t\ttitle.style.float = 'left';\n\t\ttitle.innerHTML = SettingsData[config].desc;\n\t\tvolume.appendChild(title);\n\t\tconst percent = document.createElement('div');\n\t\tpercent.id = `slider${config}right`;\n\t\tpercent.style.float = 'right';\n\t\tpercent.innerHTML = `${CMOptions[config]}%`;\n\t\tvolume.appendChild(percent);\n\t\tconst slider = document.createElement('input');\n\t\tslider.className = 'slider';\n\t\tslider.id = `slider${config}`;\n\t\tslider.style.clear = 'both';\n\t\tslider.type = 'range';\n\t\tslider.min = '0';\n\t\tslider.max = '100';\n\t\tslider.step = '1';\n\t\tslider.value = CMOptions[config];\n\t\tslider.oninput = function () { ToggleConfigVolume(config); };\n\t\tslider.onchange = function () { ToggleConfigVolume(config); };\n\t\tvolume.appendChild(slider);\n\t\tdiv.appendChild(volume);\n\t\treturn div;\n\t} else if (SettingsData[config].type === 'url') {\n\t\tconst span = document.createElement('span');\n\t\tspan.className = 'option';\n\t\tspan.textContent = `${SettingsData[config].label} `;\n\t\tdiv.appendChild(span);\n\t\tconst input = document.createElement('input');\n\t\tinput.id = ToggleSetting_ConfigPrefix + config;\n\t\tinput.className = 'option';\n\t\tinput.type = 'text';\n\t\tinput.readOnly = true;\n\t\tinput.setAttribute('value', CMOptions[config]);\n\t\tinput.style.width = '300px';\n\t\tdiv.appendChild(input);\n\t\tdiv.appendChild(document.createTextNode(' '));\n\t\tconst inputPrompt = document.createElement('input');\n\t\tinputPrompt.id = `${ToggleSetting_ConfigPrefix + config}Prompt`;\n\t\tinputPrompt.className = 'option';\n\t\tinputPrompt.type = 'text';\n\t\tinputPrompt.setAttribute('value', CMOptions[config]);\n\t\tconst a = document.createElement('a');\n\t\ta.className = 'option';\n\t\ta.onclick = function () {\n\t\t\tGame.Prompt(inputPrompt.outerHTML, [['Save', function () { CMOptions[`${config}`] = l(`${ToggleSetting_ConfigPrefix}${config}Prompt`).value; SaveConfig(); Game.ClosePrompt(); Game.UpdateMenu(); }], 'Cancel']);\n\t\t};\n\t\ta.textContent = 'Edit';\n\t\tdiv.appendChild(a);\n\t\tconst label = document.createElement('label');\n\t\tlabel.textContent = SettingsData[config].desc;\n\t\tdiv.appendChild(label);\n\t\treturn div;\n\t} else if (SettingsData[config].type === 'color') {\n\t\tdiv.className = '';\n\t\tfor (let i = 0; i < Colors; i++) {\n\t\t\tconst innerDiv = document.createElement('div');\n\t\t\tinnerDiv.className = 'listing';\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.id = Colors[i];\n\t\t\tinput.style.width = '65px';\n\t\t\tinput.setAttribute('value', CMOptions.Colors[Colors[i]]);\n\t\t\tinnerDiv.appendChild(input);\n\t\t\tconst change = function () {\n\t\t\t\tCMOptions.Colors[this.targetElement.id] = this.toHEXString();\n\t\t\t\tUpdateColors();\n\t\t\t\tSaveConfig();\n\t\t\t\tGame.UpdateMenu();\n\t\t\t};\n\t\t\tnew JSColor(input, { hash: true, position: 'right', onInput: change });\n\t\t\tconst label = document.createElement('label');\n\t\t\tlabel.textContent = SettingsData.Colors.desc[Colors[i]];\n\t\t\tinnerDiv.appendChild(label);\n\t\t\tdiv.appendChild(innerDiv);\n\t\t}\n\t\treturn div;\n\t} else if (SettingsData[config].type === 'numscale') {\n\t\tconst span = document.createElement('span');\n\t\tspan.className = 'option';\n\t\tspan.textContent = `${SettingsData[config].label} `;\n\t\tdiv.appendChild(span);\n\t\tconst input = document.createElement('input');\n\t\tinput.id = ToggleSetting_ConfigPrefix + config;\n\t\tinput.className = 'option';\n\t\tinput.type = 'number';\n\t\tinput.value = (CMOptions[config]);\n\t\tinput.min = SettingsData[config].min;\n\t\tinput.max = SettingsData[config].max;\n\t\tinput.oninput = function () {\n\t\t\tif (this.value > this.max) console.log('TEST');\n\t\t\tCMOptions[config] = this.value;\n\t\t\tSaveConfig();\n\t\t\tRefreshScale();\n\t\t};\n\t\tdiv.appendChild(input);\n\t\tdiv.appendChild(document.createTextNode(' '));\n\t\tconst label = document.createElement('label');\n\t\tlabel.textContent = SettingsData[config].desc;\n\t\tdiv.appendChild(label);\n\t\treturn div;\n\t}\n\treturn div;\n}\n\n;// CONCATENATED MODULE: ./src/Disp/MenuSections/AddMenus.js\n\n\n\n\n\n/**\n * This function adds the calll the functions to add extra info to the stats and options pages\n */\nfunction AddMenu() {\n\tconst title = document.createElement('div');\n\ttitle.className = 'title';\n\n\tif (Game.onMenu === 'prefs') {\n\t\ttitle.textContent = 'Cookie Monster Settings';\n\t\tAddMenuPref(title);\n\t} else if (Game.onMenu === 'stats') {\n\t\tif (CMOptions.Stats) {\n\t\t\ttitle.textContent = 'Cookie Monster Statistics';\n\t\t\tAddMenuStats(title);\n\t\t}\n\t} else if (Game.onMenu === 'log') {\n\t\ttitle.textContent = 'Cookie Monster '; // To create space between name and button\n\t\tAddMenuInfo(title);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/TabTitle/TabTitle.js\n/** Functions related to updating the tab in the browser's tab-bar */\n\n\n\n\n\n\n/**\n * This function updates the tab title\n * It is called on every loop by Game.Logic() which also sets CM.Disp.Title to Game.cookies\n */\nfunction UpdateTitle() {\n\tif (Game.OnAscend || CMOptions.Title === 0) {\n\t\tdocument.title = Title;\n\t} else if (CMOptions.Title === 1) {\n\t\tlet addFC = false;\n\t\tlet addSP = false;\n\t\tlet titleGC;\n\t\tlet titleFC;\n\t\tlet titleSP;\n\n\t\tif (CacheSpawnedGoldenShimmer) {\n\t\t\tif (CacheSpawnedGoldenShimmer.wrath) titleGC = `[W${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n\t\t\telse titleGC = `[G${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n\t\t} else if (!Game.Has('Golden switch [off]')) {\n\t\t\ttitleGC = `[${Number(l('CMTimerBarGCMinBar').textContent) < 0 ? '!' : ''}${Math.ceil((Game.shimmerTypes.golden.maxTime - Game.shimmerTypes.golden.time) / Game.fps)}]`;\n\t\t} else titleGC = '[GS]';\n\n\t\tif (LastTickerFortuneState) {\n\t\t\taddFC = true;\n\t\t\ttitleFC = '[F]';\n\t\t}\n\n\t\tif (Game.season === 'christmas') {\n\t\t\taddSP = true;\n\t\t\tif (LastSeasonPopupState) titleSP = `[R${Math.ceil(CacheSeasonPopShimmer.life / Game.fps)}]`;\n\t\t\telse {\n\t\t\t\ttitleSP = `[${Number(l('CMTimerBarRenMinBar').textContent) < 0 ? '!' : ''}${Math.ceil((Game.shimmerTypes.reindeer.maxTime - Game.shimmerTypes.reindeer.time) / Game.fps)}]`;\n\t\t\t}\n\t\t}\n\n\t\t// Remove previous timers and add current cookies\n\t\tlet str = Title;\n\t\tif (str.charAt(0) === '[') {\n\t\t\tstr = str.substring(str.lastIndexOf(']') + 1);\n\t\t}\n\t\tdocument.title = `${titleGC + (addFC ? titleFC : '') + (addSP ? titleSP : '')} ${str}`;\n\t} else if (CMOptions.Title === 2) {\n\t\tlet str = '';\n\t\tlet spawn = false;\n\t\tif (CacheSpawnedGoldenShimmer) {\n\t\t\tspawn = true;\n\t\t\tif (CacheSpawnedGoldenShimmer.wrath) str += `[W${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n\t\t\telse str += `[G${Math.ceil(CacheSpawnedGoldenShimmer.life / Game.fps)}]`;\n\t\t}\n\t\tif (LastTickerFortuneState) {\n\t\t\tspawn = true;\n\t\t\tstr += '[F]';\n\t\t}\n\t\tif (Game.season === 'christmas' && LastSeasonPopupState) {\n\t\t\tstr += `[R${Math.ceil(CacheSeasonPopShimmer.life / Game.fps)}]`;\n\t\t\tspawn = true;\n\t\t}\n\t\tif (spawn) str += ' - ';\n\t\tlet title = 'Cookie Clicker';\n\t\tif (Game.season === 'fools') title = 'Cookie Baker';\n\t\tstr += title;\n\t\tdocument.title = str;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Disp/Tooltips/PositionLocation.js\n\n\n/**\n * This function updates the location of the tooltip\n * It is called by Game.tooltip.update() because of CM.Main.ReplaceNative()\n */\nfunction UpdateTooltipLocation() {\n\tif (Game.tooltip.origin === 'store') {\n\t\tlet warnOffset = 0;\n\t\tif (CMOptions.ToolWarnLucky === 1 && CMOptions.ToolWarnPos === 1 && l('CMDispTooltipWarningParent') !== null) {\n\t\t\twarnOffset = l('CMDispTooltipWarningParent').clientHeight - 4;\n\t\t}\n\t\tGame.tooltip.tta.style.top = `${Math.min(parseInt(Game.tooltip.tta.style.top), (l('game').clientHeight + l('topBar').clientHeight) - Game.tooltip.tt.clientHeight - warnOffset - 46)}px`;\n\t}\n\t// Kept for future possible use if the code changes again\n\t/* else if (!Game.onCrate && !Game.OnAscend && CM.Options.TimerBar === 1 && CM.Options.TimerBarPos === 0) {\n\t\tGame.tooltip.tta.style.top = (parseInt(Game.tooltip.tta.style.top) + parseInt(CM.Disp.TimerBar.style.height)) + 'px';\n\t} */\n}\n\n;// CONCATENATED MODULE: ./src/Main/ReplaceGameElements/TooltipUpgrades.js\n\n\n\n/**\n * This function replaces the original .onmouseover functions of upgrades so that it calls CM.Disp.Tooltip()\n * CM.Disp.Tooltip() sets the tooltip type to 'u'\n * It is called by Game.RebuildUpgrades() through CM.Main.ReplaceNative() and is therefore not permanent like the other ReplaceTooltip functions\n */\nfunction ReplaceTooltipUpgrade() {\n\tTooltipUpgradeBackup = [];\n\tfor (const i of Object.keys(Game.UpgradesInStore)) {\n\t\tif (l(`upgrade${i}`).onmouseover !== null) {\n\t\t\tTooltipUpgradeBackup[i] = l(`upgrade${i}`).onmouseover;\n\t\t\tl(`upgrade${i}`).onmouseover = function () {\n\t\t\t\tif (!Game.mouseDown) {\n\t\t\t\t\tGame.setOnCrate(this);\n\t\t\t\t\tGame.tooltip.dynamic = 1;\n\t\t\t\t\tGame.tooltip.draw(this, function () {\n\t\t\t\t\t\treturn CreateTooltip('u', `${i}`);\n\t\t\t\t\t}, 'store');\n\t\t\t\t\tGame.tooltip.wobble();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/ReplaceGameFunctions/FixMouse.js\n\n\n/**\n * This function fixes Game.mouseY as a result of bars that are added by CookieMonster\n * It is called by Game.UpdateWrinklers(), Game.UpdateSpecial() and the .onmousover of the BigCookie\n * before execution of their actual function\n */\nfunction FixMouseY(target) {\n\tif (CMOptions.TimerBar === 1 && CMOptions.TimerBarPos === 0) {\n\t\tconst timerBarHeight = parseInt(l('CMTimerBar').style.height);\n\t\tGame.mouseY -= timerBarHeight;\n\t\ttarget();\n\t\tGame.mouseY += timerBarHeight;\n\t} else {\n\t\ttarget();\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/Main/ReplaceGameFunctions/ReplaceNative.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This function replaces certain native (from the base-game) functions\n */\nfunction ReplaceNative() {\n\t// eslint-disable-next-line no-undef\n\tBackupFunctions.Beautify = Beautify;\n\t// eslint-disable-next-line no-undef\n\tBeautify = BeautifyFormatting_Beautify;\n\n\tBackupFunctions.CalculateGains = Game.CalculateGains;\n\tGame.CalculateGains = function () {\n\t\tBackupFunctions.CalculateGains();\n\t\tSimDoSims = 1;\n\t\tSimDateAges = Date.now();\n\t\tSimDateCentury = Date.now();\n\t};\n\n\tBackupFunctions.tooltip = {};\n\tBackupFunctions.tooltip.draw = Game.tooltip.draw;\n\tBackupFunctions.tooltip.drawMod = new Function(`return ${Game.tooltip.draw.toString().split('this').join('Game.tooltip')}`)();\n\tGame.tooltip.draw = function (from, text, origin) {\n\t\tBackupFunctions.tooltip.drawMod(from, text, origin);\n\t};\n\n\tBackupFunctions.tooltip.update = Game.tooltip.update;\n\tBackupFunctions.tooltip.updateMod = new Function(`return ${Game.tooltip.update.toString().split('this.').join('Game.tooltip.')}`)();\n\tGame.tooltip.update = function () {\n\t\tBackupFunctions.tooltip.updateMod();\n\t\tUpdateTooltipLocation();\n\t};\n\n\tBackupFunctions.UpdateWrinklers = Game.UpdateWrinklers;\n\tGame.UpdateWrinklers = function () {\n\t\tFixMouseY(BackupFunctions.UpdateWrinklers);\n\t};\n\n\tBackupFunctions.UpdateSpecial = Game.UpdateSpecial;\n\tGame.UpdateSpecial = function () {\n\t\tFixMouseY(BackupFunctions.UpdateSpecial);\n\t};\n\n\t// Assumes newer browsers\n\tl('bigCookie').removeEventListener('click', Game.ClickCookie, false);\n\tl('bigCookie').addEventListener('click', function () { FixMouseY(Game.ClickCookie); }, false);\n\n\tBackupFunctions.RebuildUpgrades = Game.RebuildUpgrades;\n\tGame.RebuildUpgrades = function () {\n\t\tBackupFunctions.RebuildUpgrades();\n\t\tReplaceTooltipUpgrade();\n\t\tGame.CalculateGains();\n\t};\n\n\tBackupFunctions.ClickProduct = Game.ClickProduct;\n\t/**\n\t * This function adds a check to the purchase of a building to allow BulkBuyBlock to work.\n\t * If the options is 1 (on) bulkPrice is under cookies you can't buy the building.\n\t */\n\tGame.ClickProduct = function (what) {\n\t\tif (!CMOptions.BulkBuyBlock || (Game.ObjectsById[what].bulkPrice < Game.cookies || Game.buyMode === -1)) {\n\t\t\tBackupFunctions.ClickProduct(what);\n\t\t}\n\t};\n\n\tBackupFunctions.DescribeDragonAura = Game.DescribeDragonAura;\n\t/**\n\t * This function adds the function CM.Disp.AddAuraInfo() to Game.DescribeDragonAura()\n\t * This adds information about CPS differences and costs to the aura choosing interface\n\t * @param\t{number}\taura\tThe number of the aura currently selected by the mouse/user\n\t */\n\tGame.DescribeDragonAura = function (aura) {\n\t\tBackupFunctions.DescribeDragonAura(aura);\n\t\tAddAuraInfo(aura);\n\t};\n\n\tBackupFunctions.ToggleSpecialMenu = Game.ToggleSpecialMenu;\n\t/**\n\t * This function adds the code to display the tooltips for the levelUp button of the dragon\n\t */\n\tGame.ToggleSpecialMenu = function (on) {\n\t\tBackupFunctions.ToggleSpecialMenu(on);\n\t\tAddDragonLevelUpTooltip();\n\t};\n\n\tBackupFunctions.UpdateMenu = Game.UpdateMenu;\n\tGame.UpdateMenu = function () {\n\t\tif (typeof jscolor.picker === 'undefined' || typeof jscolor.picker.owner === 'undefined') {\n\t\t\tBackupFunctions.UpdateMenu();\n\t\t\tAddMenu();\n\t\t}\n\t};\n\n\tBackupFunctions.sayTime = Game.sayTime;\n\tCMSayTime = function (time, detail) {\n\t\tif (Number.isNaN(time) || time <= 0) return BackupFunctions.sayTime(time, detail);\n\t\telse return FormatTime(time / Game.fps, 1);\n\t};\n\n\tBackupFunctions.Logic = Game.Logic;\n\tGame.Logic = function () {\n\t\tBackupFunctions.Logic();\n\n\t\t// Update tab title\n\t\tlet title = 'Cookie Clicker';\n\t\tif (Game.season === 'fools') title = 'Cookie Baker';\n\t\tTitle = `${(Game.OnAscend ? 'Ascending! ' : '')}${BeautifyFormatting_Beautify(Game.cookies)} ${(Game.cookies === 1 ? 'cookie' : 'cookies')} - ${title}`;\n\t\tUpdateTitle();\n\n\t\t// Since the Ascend Tooltip is not actually a tooltip we need to add our additional info here...\n\t\tl('ascendTooltip').innerHTML += `${CMOptions.TooltipAscendButton ? `<div class='line'></div>It takes ${CacheTimeTillNextPrestige} to reach the next level and you are making ${BeautifyFormatting_Beautify(CacheHCPerSecond, 2)} chips on average in the last 5 seconds.<br>` : ''}`;\n\t};\n}\n\n;// CONCATENATED MODULE: ./src/Main/WrinklerArea/AddDetectArea.js\n/* eslint-disable no-unused-vars */\n\n\n/**\n * This function creates .onmouseover/out events that determine if the mouse is hovering-over a Wrinkler\n * As wrinklers are not appended to the DOM we us a different system than for other tooltips\n */\nfunction AddWrinklerAreaDetect() {\n\tl('backgroundLeftCanvas').onmouseover = function () { TooltipWrinklerArea = 1; };\n\tl('backgroundLeftCanvas').onmouseout = function () {\n\t\tTooltipWrinklerArea = 0;\n\t\tGame.tooltip.hide();\n\t\tfor (const i of Object.keys(Game.wrinklers)) {\n\t\t\tTooltipWrinklerBeingShown[i] = 0;\n\t\t}\n\t};\n}\n\n;// CONCATENATED MODULE: ./src/Main/Initialization.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Initialization loop of Cookie Monster\n */\nfunction InitializeCookieMonster() {\n\tInitData();\n\tCacheStatsCookies();\n\tInitCache();\n\n\t// Stored to check if we need to re-initiliaze data\n\tLastModCount = Object.keys(Game.mods).length;\n\n\t// Creating visual elements\n\tCreateCssArea();\n\tCreateBotBar();\n\tCreateTimerBar();\n\tCreateUpgradeBar();\n\tCreateWhiteScreen();\n\tCreateFavicon();\n\tfor (const i of Object.keys(TooltipText)) {\n\t\tCreateSimpleTooltip(TooltipText[i][0], TooltipText[i][1], TooltipText[i][2]);\n\t}\n\tCreateWrinklerButtons();\n\tUpdateBuildingUpgradeStyle();\n\n\tReplaceTooltips();\n\tAddWrinklerAreaDetect();\n\n\t// Replace native functions\n\tReplaceNative();\n\tReplaceNativeGrimoire();\n\tGame.CalculateGains();\n\n\tLoadConfig(); // Must be after all things are created!\n\tCMLastAscendState = Game.OnAscend;\n\n\tif (Game.prefs.popups) Game.Popup(`Cookie Monster version ${VersionMajor}.${VersionMinor} loaded!`);\n\telse Game.Notify(`Cookie Monster version ${VersionMajor}.${VersionMinor} loaded!`, '', '', 1, 1);\n\n\tGame.Win('Third-party');\n}\n\n;// CONCATENATED MODULE: ./src/InitSaveLoad/init.js\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n/**\n  * This creates a init function for the CM object. Per Game code/comments:\n  * \"this function is called as soon as the mod is registered\n  * declare hooks here\"\n  * It starts the further initialization of CookieMonster and registers hooks\n  */\nfunction init() {\n\tisInitializing = true;\n\tlet proceed = true;\n\tif (Game.version !== Number(VersionMajor)) {\n\t\tproceed = confirm(`Cookie Monster version ${VersionMajor}.${VersionMinor} is meant for Game version ${VersionMajor}.  Loading a different version may cause errors.  Do you still want to load Cookie Monster?`);\n\t}\n\tif (proceed) {\n\t\tInitializeCookieMonster();\n\t\tGame.registerHook('draw', Draw);\n\t\tGame.registerHook('logic', CMLoop);\n\t\tisInitializing = false;\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/InitSaveLoad/load.js\n\n\n\n\n/**\n * This creates a load function to the CM object. Per Game code/comments:\n * \"do stuff with the string data you saved previously\"\n */\nfunction load(str) {\n\tconst save = JSON.parse(str);\n\tInitData();\n\tLoadConfig(save.settings);\n\tif (save.version !== `${VersionMajor}.${VersionMinor}`) {\n\t\tif (Game.prefs.popups) Game.Popup('A new version of Cookie Monster has been loaded, check out the release notes in the info tab!');\n\t\telse Game.Notify('A new version of Cookie Monster has been loaded, check out the release notes in the info tab!', '', '', 0, 1);\n\t}\n}\n\n;// CONCATENATED MODULE: ./src/CookieMonster.js\n/* eslint-disable no-unused-vars */\n\n\n\n\nconst CookieMonster_CM = {\n\tinit: init,\n\tload: load,\n\tsave: save,\n};\n\n/**\n * Section: Functions related to the initialization of CookieMonster */\n\n/**\n * This functions loads an external script (on the same repository) that creates the\n * functionality needed to dynamiccaly change colours\n * It is called by the last function in the footer\n */\nfunction AddJscolor() {\n\tconst Jscolor = document.createElement('script');\n\tJscolor.type = 'text/javascript';\n\tJscolor.setAttribute('src', 'https://aktanusa.github.io/CookieMonster/jscolor/jscolor.js');\n\tdocument.head.appendChild(Jscolor);\n}\n\n/**\n * This functions starts the initizialization and register CookieMonster\n * It is called as the last function in this script's execution\n */\nAddJscolor();\nconst delay = setInterval(function () {\n\tif (typeof jscolor !== 'undefined') {\n\t\tjscolor.init();\n\t\tGame.registerMod('CookieMonster', CookieMonster_CM);\n\t\tclearInterval(delay);\n\t}\n}, 500);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EYXRhL01vZGRhdGEuanM/MWZjMyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Db25maWcvVmFyaWFibGVzQW5kRGF0YS5qcz84MzhmIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEuanM/MzFlMCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vVmFyaWFibGVzQW5kRGF0YS5qcz9lNTQ2Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL1NpbS9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltQXVyYU11bHQuanM/NTQ0NSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUdldFNlbGxNdWx0aXBsaWVyLmpzP2FiMTEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1FZmYuanM/MTdmMSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUhhcy5qcz9iMGZhIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL1NpbS9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltSGFzR29kLmpzP2E1ZTEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1Nb2RpZnlCdWlkbGluZ1ByaWNlLmpzPzI1MDkiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25FdmVudHMvU2VsbEJ1aWxkaW5nLmpzPzdkODAiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGF0YS9TY2FsZXMuanM/OWNhMiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL1ZhcmlhYmxlc0FuZERhdGEuanM/MDE3ZSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL1ZhcmlhYmxlc0FuZERhdGEuanM/NzUzNCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0JlYXV0aWZ5QW5kRm9ybWF0dGluZy9CZWF1dGlmeUZvcm1hdHRpbmcuanM/NTE1OSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0J1aWxkaW5nc1VwZ3JhZGVzL0J1aWxkaW5ncy5qcz8xOWQwIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvQnVpbGRpbmdzVXBncmFkZXMvVXBncmFkZXMuanM/MzQ0NSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0hlbHBlckZ1bmN0aW9ucy9HZXRDUFMuanM/ZDNhOSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0hlbHBlckZ1bmN0aW9ucy9HZXRXcmlua0NvbmZpZ0JhbmsuanM/YzhkNyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0luZm9CYXJzL0NyZWF0ZURPTUVsZW1lbnRzLmpzP2ZhMjQiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9JbmZvQmFycy9Cb3R0b21CYXIuanM/NmVkNCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0hlbHBlckZ1bmN0aW9ucy9VcGRhdGVCYWNrZ3JvdW5kLmpzP2FjZTgiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ29uZmlnL1NwZWNpZmljVG9nZ2xlcy5qcz83OWY5Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvSW5mb0JhcnMvVGltZXJCYXIuanM/M2NiMiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL01lbnVTZWN0aW9ucy9SZWZyZXNobWVudS5qcz83NzZhIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL0NQUy9HZXRDUFNCdWZmTXVsdC5qcz9kYWZjIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NvbmZpZy9Ub2dnbGVzL1RvZ2dsZVRvb2xXYXJuUG9zLmpzPzc0YzgiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9IZWxwZXJGdW5jdGlvbnMvQ2FsY3VsYXRlR3JpbW9pcmVSZWZpbGxUaW1lLmpzPzZmYjgiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9IZWxwZXJGdW5jdGlvbnMvR2V0THVtcENvbG9yLmpzP2RkODEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9Ub29sdGlwcy9DcmVhdGVUb29sdGlwLmpzPzI5Y2MiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9Ub29sdGlwcy9VcGRhdGVUb29sdGlwcy5qcz9hMmIzIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL0RyYWdvbi9DYWNoZURyYWdvbkF1cmFzLmpzPzM1ODgiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL0luaXRpYWxpemVEYXRhL0luaXRBY2hpZXZlbWVudC5qcz8yZTQ1Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL1NpbS9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltR2V0VGllcmVkQ3BzTXVsdC5qcz9lODRhIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL1NpbS9Jbml0aWFsaXplRGF0YS9Jbml0aWFsQnVpbGRpbmdEYXRhLmpzPzI1NTciLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL0luaXRpYWxpemVEYXRhL0luaXRVcGdyYWRlLmpzPzE5MmYiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25EYXRhL0NvcHlEYXRhLmpzPzRlNjQiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25FdmVudHMvQnV5QnVpbGRpbmcuanM/OTA1NiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL1Rvb2x0aXBzL1Rvb2x0aXAuanM/NjVmNSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL1Rvb2x0aXBzL1dyaW5rbGVyVG9vbHRpcHMuanM/Mzc1MSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0RyYXcuanM/ODY2MCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9DUFMvQXZlcmFnZVF1ZXVlLmpzPzgwNTYiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ2FjaGUvQ1BTL0NQUy5qcz9kYmRlIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL1BQL0NvbG91ck9mUFAuanM/ZDE2MSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9QUC9CdWlsZGluZy5qcz9lOWRhIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL1BQL1VwZ3JhZGUuanM/ZWY2ZSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9QUC9QUC5qcz9mOGE4Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL1NpbS9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltR2V0SGVhdmVubHlNdWx0aXBsaWVyLmpzPzk2ZTAiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25EYXRhL1NpbVdpbi5qcz85ZDE1Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL1NpbS9DYWxjdWxhdGlvbnMvQ2FsY3VsYXRlR2FpbnMuanM/YTgxZSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EYXRhL0dhbWVkYXRhLmpzPzAyNjMiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1IYXNBY2hpZXYuanM/Njk5NSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vQ2FsY3VsYXRpb25zL0NoZWNrT3RoZXJBY2hpZXYuanM/YjFjMCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vU2ltdWxhdGlvbkV2ZW50cy9CdXlCdWlsZGluZ0JvbnVzSW5jb21lLmpzPzU5ZDUiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25FdmVudHMvQnV5VXBncmFkZXMuanM/NzZkMCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9QcmljZUFuZEluY29tZS9QcmljZUFuZEluY29tZS5qcz83NjRlIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL1N0YXRzL0NoYWluQ29va2llcy5qcz80NjU5Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL1N0YXRzL0hlYXZlbmx5Q2hpcHMuanM/YmZkYiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL01lbnVTZWN0aW9ucy9DcmVhdGVNaXNzaW5nVXBncmFkZXMuanM/NDA0NyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9TdGF0cy9NaXNzaW5nVXBncmFkZXMuanM/YTRmMyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9TdGF0cy9SZWluZGVlci5qcz85MTRlIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL1N0YXRzL1N0YXRzLmpzP2ZkNGMiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ2FjaGUvV3JpbmtsZXJzL1dyaW5rbGVycy5qcz82YmVjIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0NhY2hlL0NhY2hlSW5pdC5qcz85NmY3Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0RhdGEvU2V0dGluZ3NEZWZhdWx0LmpzP2Q4MTMiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ29uZmlnL0NoZWNrTm90aWZpY2F0aW9uUGVybWlzc2lvbnMuanM/MTU0MSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Db25maWcvVG9nZ2xlcy9Ub2dnbGVCb3RCYXIuanM/NWU0NiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Db25maWcvVG9nZ2xlcy9Ub2dnbGVEZXRhaWxlZFRpbWUuanM/YzQ2OSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Db25maWcvVG9nZ2xlcy9Ub2dnbGVHQ1RpbWVyLmpzP2YzMjEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlVXBncmFkZUJhckFuZENvbG9yLmpzPzFiZDEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlVXBncmFkZUJhckZpeGVkUG9zLmpzP2Q3YzUiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlV3JpbmtsZXJCdXR0b25zLmpzPzlhMTkiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9IZWxwZXJGdW5jdGlvbnMvUmVmcmVzaFNjYWxlLmpzPzA4MmQiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9IZWxwZXJGdW5jdGlvbnMvVXBkYXRlQ29sb3JzLmpzPzYwZTciLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9UYWJUaXRsZS9GYXZJY29uLmpzPzE0M2EiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGF0YS9TZXR0aW5nQ2xhc3Nlcy5qcz8xYmE5Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0RhdGEvU2V0dGluZ3NEYXRhLmpzPzNlY2MiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvSW5pdFNhdmVMb2FkL3NhdmUuanM/YWQ1NSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9DUFMvQ3VycldyaW5rbGVyQ1BTLmpzPzVmMzAiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ2FjaGUvQ2FjaGVMb29wLmpzPzlmNzIiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL0NhbGN1bGF0aW9ucy9Ob0dvbGRlblN3aXRjaENhbGMuanM/MGUyYSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9DUFMvTm9Hb2xkU3dpdGNoQ1BTLmpzP2NmYWYiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25FdmVudHMvU2VsbEJ1aWxkaW5nRm9yQ2hvRWdnLmpzPzgwZjQiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ2FjaGUvQ1BTL1NlbGxDaG9FZ2cuanM/NjU1NCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9DYWNoZS9EcmFnb24vRHJhZ29uLmpzPzk2OTIiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9IZWxwZXJGdW5jdGlvbnMvVXBkYXRlQXNjZW5kU3RhdGUuanM/ZDA4NCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vSW5pdGlhbGl6ZURhdGEvSW5pdERhdGEuanM/NGNlYyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Jbml0U2F2ZUxvYWQvVmFyaWFibGVzLmpzP2I0N2UiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9Ob3RpZmljYXRpb25zL0ZsYXNoLmpzPzM0NTMiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9Ob3RpZmljYXRpb25zL1NvdW5kLmpzPzAzM2MiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvTWFpbi9DaGVja1N0YXRlcy9HYXJkZW4uanM/MjE4YyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0dvbGRlbkNvb2tpZVRpbWVycy9Hb2xkZW5Db29raWVUaW1lcnMuanM/MDMyMyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL05vdGlmaWNhdGlvbnMvTm90aWZpY2F0aW9uLmpzPzQ0OGEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvTWFpbi9DaGVja1N0YXRlcy9Hb2xkZW5Db29raWUuanM/YzM5MiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL0NoZWNrU3RhdGVzL0dyaW1vaXJlLmpzP2QxODgiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvTWFpbi9DaGVja1N0YXRlcy9TZWFzb24uanM/NDZhMCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL0NoZWNrU3RhdGVzL1RpY2tlci5qcz9iNjNkIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL01haW4vQ2hlY2tTdGF0ZXMvV3JpbmtsZXIuanM/NzNjMCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL0xvb3AuanM/ZmUxNCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Db25maWcvU2F2ZUxvYWRSZWxvYWQvU2F2ZUxvYWRSZWxvYWRTZXR0aW5ncy5qcz83OTVjIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvQnVpbGRpbmdzVXBncmFkZXMvVXBncmFkZUJhci5qcz81NDZmIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvSGVscGVyRnVuY3Rpb25zL1BvcFdyaW5rbGVycy5qcz9jYzM2Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvSW5pdGlhbGl6YXRpb24vQ3JlYXRlV3JpbmtsZXJCdXR0b24uanM/YTkyYyIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0luaXRpYWxpemF0aW9uL0Nzc0FyZWEuanM/NmI1ZCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9EaXNwL0luaXRpYWxpemF0aW9uL1VwZGF0ZUJ1aWxkaW5nVXBncmFkZVN0eWxlLmpzP2MxYzEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9Jbml0aWFsaXphdGlvbi9XaGl0ZVNjcmVlbi5qcz82NTkyIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL01haW4vUmVwbGFjZUdhbWVFbGVtZW50cy9Ub29sdGlwR3JpbW9pcmUuanM/OGI2ZiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL1JlcGxhY2VHYW1lRWxlbWVudHMvTmF0aXZlR3JpbW9pcmUuanM/OWNjNSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL1JlcGxhY2VHYW1lRWxlbWVudHMvVG9vbHRpcHMuanM/ZmUwNCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9TaW0vU2ltdWxhdGlvbkV2ZW50cy9BdXJhQ2hhbmdlLmpzPzA5ZDUiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9EcmFnb24vRHJhZ29uLmpzPzZhZTUiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvU2ltL1NpbXVsYXRpb25FdmVudHMvUmVzZXRBc2NlbnNpb24uanM/NGU0ZSIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Db25maWcvVG9nZ2xlU2V0dGluZy5qcz80MzcyIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvTWVudVNlY3Rpb25zL0NyZWF0ZURPTUVsZW1lbnRzLmpzPzliNDgiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9NZW51U2VjdGlvbnMvQ3JlYXRlU3RhdHNTZWN0aW9ucy5qcz81ZjcwIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvTWVudVNlY3Rpb25zL0FkZFN0YXRzUGFnZS5qcz9jZmNkIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvTWVudVNlY3Rpb25zL0luZm9QYWdlLmpzPzI3MDkiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGF0YS9TZWN0aW9uaGVhZGVycy5qcz85ZWNlIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvTWVudVNlY3Rpb25zL1NldHRpbmdzUGFnZS5qcz8wYWI0Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvTWVudVNlY3Rpb25zL0FkZE1lbnVzLmpzPzNhMGQiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvRGlzcC9UYWJUaXRsZS9UYWJUaXRsZS5qcz81ODVjIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0Rpc3AvVG9vbHRpcHMvUG9zaXRpb25Mb2NhdGlvbi5qcz9jYzE2Iiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL01haW4vUmVwbGFjZUdhbWVFbGVtZW50cy9Ub29sdGlwVXBncmFkZXMuanM/ODI2OCIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9NYWluL1JlcGxhY2VHYW1lRnVuY3Rpb25zL0ZpeE1vdXNlLmpzP2M2NWIiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvTWFpbi9SZXBsYWNlR2FtZUZ1bmN0aW9ucy9SZXBsYWNlTmF0aXZlLmpzPzY4M2UiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvTWFpbi9Xcmlua2xlckFyZWEvQWRkRGV0ZWN0QXJlYS5qcz9mZjRkIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL01haW4vSW5pdGlhbGl6YXRpb24uanM/ODk4MiIsIndlYnBhY2s6Ly9jb29raWVtb25zdGVyLW1vZC8uL3NyYy9Jbml0U2F2ZUxvYWQvaW5pdC5qcz81NDBhIiwid2VicGFjazovL2Nvb2tpZW1vbnN0ZXItbW9kLy4vc3JjL0luaXRTYXZlTG9hZC9sb2FkLmpzPzljZjEiLCJ3ZWJwYWNrOi8vY29va2llbW9uc3Rlci1tb2QvLi9zcmMvQ29va2llTW9uc3Rlci5qcz84YmIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBRU87QUFDQTs7QUFFUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakRBOztBQUVPO0FBQ0E7OztBQ0hQOztBQUVPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuSkE7O0FBRU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RCUDtBQUNBO0FBQ0E7O0FBRU87O0FBRVA7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBOztBQUVQO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVQO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQixVQUFVLE9BQU87QUFDakIsVUFBVSxPQUFPO0FBQ2pCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTzs7QUFFQTtB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LE1BQU0sZ0JBQUU7QUFDUixPQUFPLElBQUk7QUFDWCxPQUFPLElBQUk7QUFDWCxPQUFPLElBQUk7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnQkFBRTtBQUN0QztBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiI5OTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogRGF0YSByZWxhdGVkIGRpcmVjdGx5IHRvIENvb2tpZSBNb25zdGVyICovXG5cbmV4cG9ydCBjb25zdCBWZXJzaW9uTWFqb3IgPSAnMi4wMzEnO1xuZXhwb3J0IGNvbnN0IFZlcnNpb25NaW5vciA9ICc1JztcblxuLyoqIEluZm9ybWF0aW9uIGFib3V0IENvb2tpZSBNb25zdGVyIHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgaW5mbyBzZWN0aW9uICovXG5leHBvcnQgY29uc3QgTW9kRGVzY3JpcHRpb24gPSBgPGRpdiBjbGFzcz1cImxpc3RpbmdcIj5cbiA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL0FrdGFudXNhL0Nvb2tpZU1vbnN0ZXJcIiB0YXJnZXQ9XCJibGFua1wiPkNvb2tpZSBNb25zdGVyPC9hPlxuIG9mZmVycyBhIHdpZGUgcmFuZ2Ugb2YgdG9vbHMgYW5kIHN0YXRpc3RpY3MgdG8gZW5oYW5jZSB5b3VyIGdhbWUgZXhwZXJpZW5jZS5cbiBJdCBpcyBub3QgYSBjaGVhdCBpbnRlcmZhY2Ug4oCTIGFsdGhvdWdoIGl0IGRvZXMgb2ZmZXIgaGVscGVycyBmb3IgZ29sZGVuIGNvb2tpZXMgYW5kIHN1Y2gsIGV2ZXJ5dGhpbmcgY2FuIGJlIHRvZ2dsZWQgb2ZmIGF0IHdpbGwgdG8gb25seSBsZWF2ZSBob3cgbXVjaCBpbmZvcm1hdGlvbiB5b3Ugd2FudC48L2JyPlxuIFByb2dlc3Mgb24gbmV3IHVwZGF0ZXMgYW5kIGFsbCBwcmV2aW91cyByZWxlYXNlIG5vdGVzIGNhbiBiZSBmb3VuZCBvbiB0aGUgR2l0SHViIHBhZ2UgbGlua2VkIGFib3ZlITwvYnI+XG4gUGxlYXNlIGFsc28gcmVwb3J0IGFueSBidWdzIHlvdSBtYXkgZmluZCBvdmVyIHRoZXJlITwvYnI+XG4gPC9kaXY+XG4gYDtcblxuLyoqIExhdGVzdCByZWxlYXNlbm90ZXMgb2YgQ29va2llIE1vbnN0ZXIgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBpbmZvIHNlY3Rpb24gKi9cbmV4cG9ydCBjb25zdCBMYXRlc3RSZWxlYXNlTm90ZXMgPSBgPGRpdiBjbGFzcz1cImxpc3RpbmdcIj5cbiA8Yj5UaGUgbGF0ZXN0IHVwZGF0ZSAodiAyLjAzMS40KSBoYXMgaW50cm9kdWNlZCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOjwvYj48L2JyPlxuIC0gQWRkZWQgYSBjaGFuZ2Vsb2cgdG8gdGhlIGluZm8gdGFiIGFuZCBub3RpZmljYXRpb24gaW5kaWNhdGluZyBhIG5ldyB2ZXJzaW9uPC9icj5cbiAtIFdhcm5pbmdzIGluIHRvb2x0aXBzIGFyZSBub3cgYmFzZWQgb24gdGhlIGluY29tZSBhZnRlciBidXlpbmcgdGhlIHVwZ3JhZGU8L2JyPlxuIC0gQSBuZXcgd2FybmluZyBhbmQgc3RhdCBmb3IgQ29uanVyZSBCYWtlZCBHb29kcyBpbiBjb21iaW5hdGlvbiB3aXRoIEZyZW56eSBoYXMgYmVlbiBhZGRlZDwvYnI+XG4gLSBVc2VyIGNhbiBub3cgc2V0IGEgY3VzdG9tIHRvb2x0aXAgd2FybmluZyAoXCJ4IHRpbWVzIGNwc1wiKSBpbiB0aGUgc2V0dGluZ3M8L2JyPlxuIC0gR2FyZGVuIHBsb3RzIHdpdGggcGxhbnRzIHRoYXQgZ2l2ZSBjb29raWVzIG9uIGhhcnZlc3Qgbm93IGRpc3BsYXkgYSB0b29sdGlwIHdpdGggY3VycmVudCBhbmQgbWF4aW11bSByZXdhcmQ8L2JyPlxuIC0gVGhlIEhhcnZlc3QgQWxsIGJ1dHRvbiBpbiB0aGUgR2FyZGVuIG5vdyBoYXMgYSB0b29sdGlwIGRpc3BsYXlpbmcgdGhlIGN1cnJlbnQgcmV3YXJkIDwvYnI+XG4gLSBUaGUgQXNjZW5kIGJ1dHRvbiBjYW4gbm93IGRpc3BsYXkgYWRkaXRpb25hbCBpbmZvICh0aGlzIGNhbiBiZSB0dXJuZWQgb2ZmIGluIHRoZSBzZXR0aW5ncykgPC9icj5cbiAtIFRoZSBzdGF0aXN0aWNzIHBhZ2Ugbm93IGRpc3BsYXlzIHRoZSBIZWF2ZW5seSBDaGlwcyBwZXIgc2Vjb25kPC9icj5cbiAtIFRoZSBzdGF0aXN0aWNzIHBhZ2Ugbm93IGRpc3BsYXlzIHRoZSBDUFMgbmVlZGVkIGZvciB0aGUgbmV4dCBsZXZlbCBpbiBDaGFpbiBDb29raWVzPC9icj5cbiAtIFRoZSBzdGF0aXN0aWNzIHBhZ2Ugbm93IGRpc3BsYXlzIHRoZSBjb29raWVzIG5lZWRlZCBmb3Igb3B0aW1hbCByZXdhcmRzIGZvciBnYXJkZW4gcGxhbnRzPC9icj5cbiAtIFlvdSBjYW4gbm93IHNldCBhIEhlYXZlbmx5IENoaXBzIHRhcmdldCBpbiB0aGUgc2V0dGluZ3Mgd2hpY2ggd2lsbCBiZSBjb3VudGVkIGRvd24gdG8gaW4gdGhlIHN0YXRpc3RpY3MgcGFnZTwvYnI+XG4gLSBUaGUgY29sb3IgcGlja2VyIGluIHRoZSBzZXR0aW5ncyBoYXMgYmVlbiB1cGRhdGVkIHRvIGl0cyBsYXRlc3QgdmVyc2lvbjwvYnI+XG4gLSBUaGUgb3ZlcmxheSBvZiBzZWNvbmRzL3BlcmNlbnRhZ2Ugb2YgdGltZXJzIGlzIG5vdyB0b2dnbGUgYWJsZSBhbmQgbW9yZSByZWFkYWJsZTwvYnI+XG4gLSBZb3UgY2FuIG5vdyB0b2dnbGUgdG8gZGlzYWJsZSBidWxrLWJ1eWluZyBmcm9tIGJ1eWluZyBsZXNzIHRoYW4gdGhlIHNlbGVjdGVkIGFtb3VudCAoaS5lLiwgYnV5aW5nIDcgb2YgYSBidWlsZGluZyBieSBwcmVzc2luZyB0aGUgYnV5IDEwIHdoZW4geW91IGRvbid0IGhhdmUgZW5vdWdoIGZvciAxMCk8L2JyPlxuIC0gQ29va2llTW9uc3RlciBub3cgdXNlcyB0aGUgTW9kZGluZyBBUEkgcHJvdmlkZWQgYnkgdGhlIGJhc2UgZ2FtZTwvYnI+XG4gLSBUaGVyZSBpcyBhIG5ldyBvcHRpb24gdGhhdCBhbGxvd3MgdGhlIGRlY291cGxpbmcgb2YgdGhlIGJhc2UgZ2FtZSB2b2x1bWUgc2V0dGluZyBhbmQgdGhlIHZvbHVtZXMgb2Ygc291bmRzIGNyZWF0ZWQgYnkgdGhlIG1vZDwvYnI+XG4gLSBUaGUgdGFiIHRpdGxlIG5vdyBkaXNwbGF5cyBhIFwiIVwiIGlmIGEgR29sZGVuIENvb2tpZSBvciBSZWluZGVlciBjYW4gc3Bhd248L2JyPlxuIC0gUFAgY2FsY3VsYXRpb24gY2FuIG5vdyBiZSBzZXQgdG86IDEpIEV4Y2x1ZGUgdGhlIDFzdCwgMm5kIG9yIDNyZCBtb3N0IG9wdGltYWwgYnVpbGRpbmcgKGlmIHlvdSBuZXZlciB3YW50IHRvIGJ1eSB0aGF0IGl0KSwgMikgQWx3YXlzIGNvbnNpZGVyIG9wdGltYWwgYnVpbGRpbmdzIHRoYXQgY29zdCBiZWxvdyBcInh4IHNlY29uZHMgb2YgQ1BTXCIgKHRvZ2dsZWFibGUgaW4gdGhlIHNldHRpbmdzKSwgMykgSWdub3JlIGFueSBidWlsZGluZyBvciB1cGdyYWRlIHRoYXQgaXMgbm90IHB1cmNoYXNhYmxlIGF0IHRoZSBtb21lbnQ8L2JyPlxuIDwvYnI+XG4gPGI+VGhpcyB1cGRhdGUgZml4ZXMgdGhlIGZvbGxvd2luZyBidWdzOjwvYj48L2JyPlxuIC0gTWluaWdhbWVzIHdpdGggZW5oYW5jZWQgdG9vbHRpcHMgd2lsbCBub3cgYWxzbyBzaG93IHRoZXNlIGlmIHRoZSBtaW5pZ2FtZXMgd2VyZSBub3QgbG9hZGVkIHdoZW4gQ29va2llTW9uc3RlciB3YXMgbG9hZGVkPC9icj5cbiAtIFNvdW5kLCBGbGFzaGVzIGFuZCBOb3RpZmljYXRpb25zIHdpbGwgbm8gbG9uZ2VyIHBsYXkgd2hlbiB0aGUgbW9kIGlzIGluaXRpYWxpemluZzwvYnI+XG4gLSBUaGUgY29sb3IgcGlja2VyIHNob3VsZCBub3cgdXBkYXRlIGl0cyBkaXNwbGF5IGNvbnNpc3RlbnRseTwvYnI+XG4gLSBGaXhlZCBzb21lIHR5cG8nczwvYnI+XG4gLSBGaXhlZCBhIGdhbWUgYnJlYWtpbmcgYnVnIHdoZW4gdGhlIHBsYXllciBoYWQgbm90IHB1cmNoYXNlZCBhbnkgdXBncmFkZXM8L2JyPlxuIC0gRml4ZWQgYSBudW1iZXIgb2YgY29uc29sZSBlcnJvcnMgdGhyb3duIGJ5IENNPC9icj5cbiAtIEZpeGVkIHRoZSBpbnRlZ3JhdGlvbiB3aXRoIG1vZHMgdGhhdCBwcm92aWRlIGFkZGl0aW9uYWwgY29udGVudCwgdGhleSBzaG91bGQgbm93IG5vIGxvbmdlciBicmVhayBDb29raWVNb25zdGVyPC9icj5cbiAtIFRoZSBUaW1lciBiYXIgd2lsbCBub3cgZGlzYXBwZWFyIGNvcnJlY3RseSB3aGVuIHRoZSBHb2xkZW4gU3dpdGNoIGhhcyBiZWVuIGFjdGl2YXRlZDwvYnI+XG4gLSBGaXhlZCBlcnJvcnMgaW4gdGhlIGNhbGN1bGF0aW9uIG9mIHRoZSBDaGFpbiBDb29raWVzIGFuZCBXcmlua2xlciBzdGF0czwvYnI+XG4gLSBGaXhlZCBidXkgd2FybmluZ3Mgc2hvd2luZyBpbmNvcnJlY3RseTwvYnI+XG4gPC9kaXY+XG4gYDtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuXG5leHBvcnQgbGV0IENNT3B0aW9ucyA9IHt9O1xuZXhwb3J0IGNvbnN0IENvbmZpZ1ByZWZpeCA9ICdDTUNvbmZpZyc7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cblxuZXhwb3J0IGxldCBDYWNoZURyYWdvbkF1cmEgPSAwO1xuZXhwb3J0IGxldCBDYWNoZURyYWdvbkF1cmEyID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVMYXN0RHJhZ29uTGV2ZWwgPSAwO1xuZXhwb3J0IGxldCBDYWNoZUNvc3REcmFnb25VcGdyYWRlID0gMDtcbmV4cG9ydCBsZXQgV3JpbmtsZXJzVG90YWwgPSAwO1xuZXhwb3J0IGxldCBXcmlua2xlcnNOb3JtYWwgPSAwO1xuZXhwb3J0IGxldCBXcmlua2xlcnNGYXR0ZXN0ID0gWzAsIG51bGxdO1xuZXhwb3J0IGxldCBDYWNoZUx1Y2t5ID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVMdWNreVJld2FyZCA9IDA7XG5leHBvcnQgbGV0IENhY2hlTHVja3lXcmF0aFJld2FyZCA9IDA7XG5leHBvcnQgbGV0IENhY2hlTHVja3lGcmVuenkgPSAwO1xuZXhwb3J0IGxldCBDYWNoZUx1Y2t5UmV3YXJkRnJlbnp5ID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVMdWNreVdyYXRoUmV3YXJkRnJlbnp5ID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVDb25qdXJlID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVDb25qdXJlUmV3YXJkID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVFZGlmaWNlID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVFZGlmaWNlQnVpbGRpbmcgPSAwO1xuZXhwb3J0IGxldCBDYWNoZU5vR29sZFN3aXRjaENvb2tpZXNQUyA9IDA7XG5leHBvcnQgbGV0IENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudCA9IDE7XG5leHBvcnQgbGV0IENhY2hlR29sZGVuQ29va2llc011bHQgPSAxO1xuZXhwb3J0IGxldCBDYWNoZVdyYXRoQ29va2llc011bHQgPSAxO1xuXG5leHBvcnQgbGV0IENhY2hlSENQZXJTZWNvbmQgPSAwO1xuXG5leHBvcnQgbGV0IENhY2hlQ2VudEVnZyA9IDA7XG5leHBvcnQgbGV0IENhY2hlU2VhU3BlYyA9IDA7XG5leHBvcnQgbGV0IENhY2hlTGFzdENob0VnZyA9IDA7XG5cbmV4cG9ydCBsZXQgQ2FjaGVPYmplY3RzMSA9IHt9O1xuZXhwb3J0IGxldCBDYWNoZU9iamVjdHMxMCA9IHt9O1xuZXhwb3J0IGxldCBDYWNoZU9iamVjdHMxMDAgPSB7fTtcblxuZXhwb3J0IGxldCBDYWNoZVdyaW5rbGVyc1RvdGFsID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVXcmlua2xlcnNOb3JtYWwgPSAwO1xuZXhwb3J0IGxldCBDYWNoZVdyaW5rbGVyc0ZhdHRlc3QgPSBbXTtcblxuZXhwb3J0IGxldCBDYWNoZUF2Z0NwcyA9IDA7XG5leHBvcnQgbGV0IENhY2hlQ3VycldyaW5rbGVyQ1BTTXVsdCA9IDA7XG5leHBvcnQgbGV0IENhY2hlQ3VycldyaW5rbGVyQ291bnQgPSAwO1xuXG5leHBvcnQgbGV0IENhY2hlVXBncmFkZXMgPSB7fTtcblxuZXhwb3J0IGxldCBDYWNoZUF2ZXJhZ2VDbGlja3MgPSB7fTtcblxuZXhwb3J0IGxldCBDYWNoZU1pc3NpbmdVcGdyYWRlcyA9IHt9O1xuZXhwb3J0IGxldCBDYWNoZU1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlID0ge307XG5leHBvcnQgbGV0IENhY2hlTWlzc2luZ1VwZ3JhZGVzQ29va2llcyA9IHt9O1xuXG5leHBvcnQgbGV0IENhY2hlQ2hhaW5SZXF1aXJlZCA9IDA7XG5leHBvcnQgbGV0IENhY2hlQ2hhaW5SZXF1aXJlZE5leHQgPSAwO1xuZXhwb3J0IGxldCBDYWNoZUNoYWluTWF4UmV3YXJkID0gW107XG5leHBvcnQgbGV0IENhY2hlQ2hhaW5XcmF0aFJlcXVpcmVkID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVDaGFpbldyYXRoUmVxdWlyZWROZXh0ID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVDaGFpbldyYXRoTWF4UmV3YXJkID0gW107XG5leHBvcnQgbGV0IENhY2hlQ2hhaW5GcmVuenlSZXF1aXJlZCA9IDA7XG5leHBvcnQgbGV0IENhY2hlQ2hhaW5GcmVuenlSZXF1aXJlZE5leHQgPSAwO1xuZXhwb3J0IGxldCBDYWNoZUNoYWluRnJlbnp5TWF4UmV3YXJkID0gW107XG5leHBvcnQgbGV0IENhY2hlQ2hhaW5GcmVuenlXcmF0aFJlcXVpcmVkID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVDaGFpbkZyZW56eVdyYXRoUmVxdWlyZWROZXh0ID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVDaGFpbkZyZW56eVdyYXRoTWF4UmV3YXJkID0gW107XG5cbmV4cG9ydCBsZXQgQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCA9IDA7XG5leHBvcnQgbGV0IENhY2hlQXZnQ1BTV2l0aENob0VnZyA9IDA7XG5cbmV4cG9ydCBsZXQgQ2FjaGVTcGF3bmVkR29sZGVuU2hpbW1lciA9IHt9O1xuZXhwb3J0IGxldCBDYWNoZVNlYXNvblBvcFNoaW1tZXIgPSB7fTtcblxuZXhwb3J0IGxldCBDYWNoZVRpbWVUaWxsTmV4dFByZXN0aWdlID0gMDtcblxuZXhwb3J0IGxldCBDYWNoZU1pblBQID0gMDtcbmV4cG9ydCBsZXQgQ2FjaGVNaWRQUCA9IDA7XG5leHBvcnQgbGV0IENhY2hlTWF4UFAgPSAwO1xuZXhwb3J0IGxldCBDYWNoZUFycmF5T2ZQUHMgPSBbXTtcblxuZXhwb3J0IGxldCBDYWNoZUdvbGRlblNoaW1tZXJzQnlJRCA9IHt9O1xuXG5leHBvcnQgbGV0IENhY2hlU2VsbEZvckNob0VnZyA9IDA7XG5cbmV4cG9ydCBsZXQgQ29va2llc0RpZmY7XG5leHBvcnQgbGV0IFdyaW5rRGlmZjtcbmV4cG9ydCBsZXQgV3JpbmtGYXR0ZXN0RGlmZjtcbmV4cG9ydCBsZXQgQ2hvRWdnRGlmZjtcbmV4cG9ydCBsZXQgQ2xpY2tzRGlmZjtcbmV4cG9ydCBsZXQgSGVhdmVubHlDaGlwc0RpZmY7XG5cbmV4cG9ydCBsZXQgQ2FjaGVMYXN0Q1BTQ2hlY2s7XG5leHBvcnQgbGV0IENhY2hlTGFzdENvb2tpZXM7XG5leHBvcnQgbGV0IENhY2hlTGFzdFdyaW5rQ29va2llcztcbmV4cG9ydCBsZXQgQ2FjaGVMYXN0V3JpbmtGYXR0ZXN0Q29va2llcztcbmV4cG9ydCBsZXQgQ2FjaGVMYXN0Q2xpY2tzO1xuXG5leHBvcnQgbGV0IENhY2hlQXZlcmFnZUdhaW5CYW5rO1xuZXhwb3J0IGxldCBDYWNoZUF2ZXJhZ2VHYWluV3Jpbms7XG5leHBvcnQgbGV0IENhY2hlQXZlcmFnZUdhaW5Xcmlua0ZhdHRlc3Q7XG5leHBvcnQgbGV0IENhY2hlQXZlcmFnZUdhaW5DaG9FZ2c7XG5leHBvcnQgbGV0IENhY2hlQXZlcmFnZUNQUztcblxuZXhwb3J0IGxldCBDYWNoZUxhc3RIZWF2ZW5seUNoZWNrO1xuZXhwb3J0IGxldCBDYWNoZUxhc3RIZWF2ZW5seUNoaXBzO1xuXG5leHBvcnQgbGV0IENhY2hlRG9SZW1ha2VCdWlsZFByaWNlcztcblxuZXhwb3J0IGxldCBDYWNoZUhhZEJ1aWxkQXVyYTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuLyoqIEFsbCB2YXJpYWJsZXMgdXNlZCBieSBzaW11bGF0aW9uIGZ1bmN0aW9ucyAqL1xuXG5leHBvcnQgbGV0IFNpbU9iamVjdHMgPSBbXTtcbmV4cG9ydCBsZXQgU2ltVXBncmFkZXMgPSBbXTtcbmV4cG9ydCBsZXQgU2ltQWNoaWV2ZW1lbnRzID0gW107XG5leHBvcnQgbGV0IFNpbUJ1aWxkaW5nc093bmVkO1xuZXhwb3J0IGxldCBTaW1VcGdyYWRlc093bmVkO1xuZXhwb3J0IGxldCBTaW1QbGVkZ2VzO1xuZXhwb3J0IGxldCBTaW1BY2hpZXZlbWVudHNPd25lZDtcbmV4cG9ydCBsZXQgU2ltSGVhdmVubHlQb3dlcjtcbmV4cG9ydCBsZXQgU2ltUHJlc3RpZ2U7XG5leHBvcnQgbGV0IFNpbURyYWdvbkF1cmE7XG5leHBvcnQgbGV0IFNpbURyYWdvbkF1cmEyO1xuZXhwb3J0IGxldCBTaW1Eb1NpbXM7XG5leHBvcnQgbGV0IFNpbUVmZnM7XG5leHBvcnQgbGV0IFNpbURhdGVDZW50dXJ5O1xuZXhwb3J0IGxldCBTaW1EYXRlQWdlcztcbmV4cG9ydCBsZXQgU2ltQ29va2llc1BzO1xuZXhwb3J0IGxldCBTaW1Db29raWVzUHNSYXc7XG4iLCJpbXBvcnQgeyBTaW1EcmFnb25BdXJhLCBTaW1EcmFnb25BdXJhMiB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNyZWF0ZXMgZnVuY3Rpb25zIHNpbWlsYXJseSB0byBHYW1lLmF1cmFNdWx0IGJ1dCBjaGVja3MgU2ltIERhdGEgaW5zdGVhZCBvZiBHYW1lIERhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2ltQXVyYU11bHQod2hhdCkge1xuXHRsZXQgbiA9IDA7XG5cdGlmIChHYW1lLmRyYWdvbkF1cmFzW1NpbURyYWdvbkF1cmFdLm5hbWUgPT09IHdoYXQgfHwgR2FtZS5kcmFnb25BdXJhc1tTaW1EcmFnb25BdXJhMl0ubmFtZSA9PT0gd2hhdCkgbiA9IDE7XG5cdGlmIChHYW1lLmRyYWdvbkF1cmFzW1NpbURyYWdvbkF1cmFdLm5hbWUgPT09ICdSZWFsaXR5IEJlbmRpbmcnIHx8IEdhbWUuZHJhZ29uQXVyYXNbU2ltRHJhZ29uQXVyYTJdLm5hbWUgPT09ICdSZWFsaXR5IEJlbmRpbmcnKSBuICs9IDAuMTtcblx0cmV0dXJuIG47XG59XG4iLCJpbXBvcnQgU2ltQXVyYU11bHQgZnJvbSAnLi9TaW1BdXJhTXVsdCc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSBzZWxsIG11bHRpcGxpZXIgYmFzZWQgb24gY3VycmVudCBcInNpbSBkYXRhXCJcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5TaW0uQnVpbGRpbmdTZWxsKClcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHRnaXZlQmFja1x0VGhlIG11bHRpcGxpZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2ltR2V0U2VsbE11bHRpcGxpZXIoKSB7XG5cdGxldCBnaXZlQmFjayA9IDAuMjU7XG5cdGdpdmVCYWNrICo9IDEgKyBTaW1BdXJhTXVsdCgnRWFydGggU2hhdHRlcmVyJyk7XG5cdHJldHVybiBnaXZlQmFjaztcbn1cbiIsImltcG9ydCB7IFNpbUVmZnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjcmVhdGVzIGZ1bmN0aW9ucyBzaW1pbGFybHkgdG8gR2FtZS5FZmYgYnV0IGNoZWNrcyBTaW0gRGF0YSBpbnN0ZWFkIG9mIEdhbWUgRGF0YVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW1FZmYobmFtZSwgZGVmKSB7XG5cdGlmICh0eXBlb2YgU2ltRWZmc1tuYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gKHR5cGVvZiBkZWYgPT09ICd1bmRlZmluZWQnID8gMSA6IGRlZik7XG5cdH0gZWxzZSByZXR1cm4gU2ltRWZmc1tuYW1lXTtcbn1cbiIsImltcG9ydCB7IFNpbVVwZ3JhZGVzIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY3JlYXRlcyBmdW5jdGlvbnMgc2ltaWxhcmx5IHRvIEdhbWUuSGFzIGJ1dCBjaGVja3MgU2ltIERhdGEgaW5zdGVhZCBvZiBHYW1lIERhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2ltSGFzKHdoYXQpIHtcblx0Y29uc3QgaXQgPSBTaW1VcGdyYWRlc1t3aGF0XTtcblx0aWYgKEdhbWUuYXNjZW5zaW9uTW9kZSA9PT0gMSAmJiAoaXQucG9vbCA9PT0gJ3ByZXN0aWdlJyB8fCBpdC50aWVyID09PSAnZm9ydHVuZScpKSByZXR1cm4gMDtcblx0cmV0dXJuIChpdCA/IGl0LmJvdWdodCA6IDApO1xufVxuIiwiaW1wb3J0IHsgU2ltT2JqZWN0cyB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGZvciB0aGUgY3VycmVudCBHb2QgbGV2ZWwgaW4gdGhlIHNpbSBkYXRhXG4gKiBJdCBmdW5jdGlvbnMgc2ltaWxhcmx5IHRvIEdhbWUuaGFzR29kKClcbiAqIEBwYXJhbVx0e3N0cmluZ31cdHdoYXRcdE5hbWUgb2YgdGhlIGFjaGlldmVtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpbUhhc0dvZCh3aGF0KSB7XG5cdGlmIChHYW1lLmhhc0dvZCkge1xuXHRcdGNvbnN0IGdvZCA9IFNpbU9iamVjdHMuVGVtcGxlLm1pbmlnYW1lLmdvZHNbd2hhdF07XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRcdGlmIChTaW1PYmplY3RzLlRlbXBsZS5taW5pZ2FtZS5zbG90W2ldID09PSBnb2QuaWQpIHtcblx0XHRcdFx0cmV0dXJuIGkgKyAxO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBTaW1PYmplY3RzIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgU2ltQXVyYU11bHQgZnJvbSAnLi9TaW1BdXJhTXVsdCc7XG5pbXBvcnQgU2ltRWZmIGZyb20gJy4vU2ltRWZmJztcbmltcG9ydCBTaW1IYXMgZnJvbSAnLi9TaW1IYXMnO1xuaW1wb3J0IFNpbUhhc0dvZCBmcm9tICcuL1NpbUhhc0dvZCc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSBzZWxsIHByaWNlIG9mIGEgYnVpbGRpbmcgYmFzZWQgb24gY3VycmVudCBcInNpbSBkYXRhXCJcbiAqIEBwYXJhbVx0e3N0cmluZ31cdGJ1aWxkaW5nXHROYW1lIG9mIHRoZSBidWlsZGluZ1xuICogQHBhcmFtXHR7bnVtYmVyfVx0cHJpY2VcdFx0Q3VycmVudCBwcmljZSBvZiBidWlsZGluZ1xuICogQHJldHVybnMge251bWJlcn1cdHByaWNlXHRcdFRoZSBtb2RpZmllZCBidWlsZGluZyBwcmljZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW1Nb2RpZnlCdWlsZGluZ1ByaWNlKGJ1aWxkaW5nLCBwcmljZSkge1xuXHRpZiAoU2ltSGFzKCdTZWFzb24gc2F2aW5ncycpKSBwcmljZSAqPSAwLjk5O1xuXHRpZiAoU2ltSGFzKCdTYW50YVxcJ3MgZG9taW5pb24nKSkgcHJpY2UgKj0gMC45OTtcblx0aWYgKFNpbUhhcygnRmFiZXJnZSBlZ2cnKSkgcHJpY2UgKj0gMC45OTtcblx0aWYgKFNpbUhhcygnRGl2aW5lIGRpc2NvdW50JykpIHByaWNlICo9IDAuOTk7XG5cdGlmIChTaW1IYXMoJ0ZvcnR1bmUgIzEwMCcpKSBwcmljZSAqPSAwLjk5O1xuXHQvLyBpZiAoU2ltSGFzQXVyYSgnRmllcmNlIEhvYXJkZXInKSkgcHJpY2UgKj0gMC45ODtcblx0cHJpY2UgKj0gMSAtIFNpbUF1cmFNdWx0KCdGaWVyY2UgSG9hcmRlcicpICogMC4wMjtcblx0aWYgKEdhbWUuaGFzQnVmZignRXZlcnl0aGluZyBtdXN0IGdvJykpIHByaWNlICo9IDAuOTU7XG5cdGlmIChHYW1lLmhhc0J1ZmYoJ0NyYWZ0eSBwaXhpZXMnKSkgcHJpY2UgKj0gMC45ODtcblx0aWYgKEdhbWUuaGFzQnVmZignTmFzdHkgZ29ibGlucycpKSBwcmljZSAqPSAxLjAyO1xuXHRpZiAoYnVpbGRpbmcuZm9ydHVuZSAmJiBTaW1IYXMoYnVpbGRpbmcuZm9ydHVuZS5uYW1lKSkgcHJpY2UgKj0gMC45Mztcblx0cHJpY2UgKj0gU2ltRWZmKCdidWlsZGluZ0Nvc3QnKTtcblx0aWYgKFNpbU9iamVjdHMuVGVtcGxlLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0Y29uc3QgZ29kTHZsID0gU2ltSGFzR29kKCdjcmVhdGlvbicpO1xuXHRcdGlmIChnb2RMdmwgPT09IDEpIHByaWNlICo9IDAuOTM7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAyKSBwcmljZSAqPSAwLjk1O1xuXHRcdGVsc2UgaWYgKGdvZEx2bCA9PT0gMykgcHJpY2UgKj0gMC45ODtcblx0fVxuXHRyZXR1cm4gcHJpY2U7XG59XG4iLCJpbXBvcnQgU2ltR2V0U2VsbE11bHRpcGxpZXIgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUdldFNlbGxNdWx0aXBsaWVyJztcbmltcG9ydCBTaW1Nb2RpZnlCdWlsZGluZ1ByaWNlIGZyb20gJy4uL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1Nb2RpZnlCdWlkbGluZ1ByaWNlJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIGNvb2tpZXMgcmV0dXJuZWQgZm9yIHNlbGxpbmcgYSBidWlsZGluZ1xuICogQmFzZSBHYW1lIGRvZXMgbm90IGRvIHRoaXMgY29ycmVjdGx5XG4gKiBAcGFyYW1cdHtzdHJpbmd9XHRidWlsZFx0XHROYW1lIG9mIHRoZSBidWlsZGluZ1xuICogQHBhcmFtXHR7bnVtYmVyfVx0YmFzZVByaWNlXHRCYXNlIFByaWNlIG9mIGJ1aWxkaW5nXG4gKiBAcGFyYW1cdHtudW1iZXJ9XHRzdGFydFx0XHRTdGFydGluZyBhbW91bnQgb2YgYnVpbGRpbmdcbiAqIEBwYXJhbVx0e251bWJlcn1cdGZyZWVcdFx0RnJlZSBhbW91bnQgb2YgYnVpbGRpbmdcbiAqIEBwYXJhbVx0e251bWJlcn1cdGluY3JlYXNlXHRJbmNyZWFzZSBvZiBidWlsZGluZ1xuICogQHBhcmFtXHR7bnVtYmVyfVx0bm9TaW1cdFx0MSBvZiAwIGRlcGVuZGluZyBvbiBpZiBmdW5jdGlvbiBpcyBjYWxsZWQgZnJvbSBDTS5TaW1cbiAqIEByZXR1cm5zIHtudW1iZXJ9XHRtb25pXHRcdFRvdGFsIHByaWNlIGdhaW5lZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdWlsZGluZ1NlbGwoYnVpbGQsIGJhc2VQcmljZSwgc3RhcnQsIGZyZWUsIGFtb3VudCwgbm9TaW0pIHtcblx0Ly8gQ2FsY3VsYXRlIG1vbmV5IGdhaW5zIGZyb20gc2VsbGluZyBidWlsZGluZ3Ncblx0Ly8gSWYgbm9TaW0gaXMgc2V0LCB1c2UgR2FtZSBtZXRob2RzIHRvIGNvbXB1dGUgcHJpY2UgaW5zdGVhZCBvZiBTaW0gb25lcy5cblx0bm9TaW0gPSB0eXBlb2Ygbm9TaW0gPT09ICd1bmRlZmluZWQnID8gMCA6IG5vU2ltO1xuXHRsZXQgbW9uaSA9IDA7XG5cdGlmIChhbW91bnQgPT09IC0xKSBhbW91bnQgPSBzdGFydDtcblx0aWYgKCFhbW91bnQpIGFtb3VudCA9IEdhbWUuYnV5QnVsaztcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuXHRcdGxldCBwcmljZSA9IGJhc2VQcmljZSAqIEdhbWUucHJpY2VJbmNyZWFzZSAqKiBNYXRoLm1heCgwLCBzdGFydCAtIGZyZWUpO1xuXHRcdHByaWNlID0gbm9TaW0gPyBHYW1lLm1vZGlmeUJ1aWxkaW5nUHJpY2UoYnVpbGQsIHByaWNlKSA6IFNpbU1vZGlmeUJ1aWxkaW5nUHJpY2UoYnVpbGQsIHByaWNlKTtcblx0XHRwcmljZSA9IE1hdGguY2VpbChwcmljZSk7XG5cdFx0Y29uc3QgZ2l2ZUJhY2sgPSBub1NpbSA/IGJ1aWxkLmdldFNlbGxNdWx0aXBsaWVyKCkgOiBTaW1HZXRTZWxsTXVsdGlwbGllcigpO1xuXHRcdHByaWNlID0gTWF0aC5mbG9vcihwcmljZSAqIGdpdmVCYWNrKTtcblx0XHRpZiAoc3RhcnQgPiAwKSB7XG5cdFx0XHRtb25pICs9IHByaWNlO1xuXHRcdFx0c3RhcnQtLTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1vbmk7XG59XG4iLCIvKiogRGF0YSByZWxhdGVkIGRpcmVjdGx5IHRvIHRoZSBzY2FsZXMgdXNlZCBieSBDb29raWUgTW9uc3RlciAqL1xuXG4vKiogQXJyYXkgb2YgYWJicmV2aWF0aW9ucyB1c2VkIGluIHRoZSBcIk1ldHJpY1wiIHNjYWxlICovXG5leHBvcnQgY29uc3QgbWV0cmljID0gWycnLFxuXHQnJyxcblx0J00nLFxuXHQnRycsXG5cdCdUJyxcblx0J1AnLFxuXHQnRScsXG5cdCdaJyxcblx0J1knLFxuXTtcblxuLyoqIEFycmF5IG9mIGFiYnJldmlhdGlvbnMgdXNlZCBpbiB0aGUgXCJTaG9ydFwiIHNjYWxlICovXG5leHBvcnQgY29uc3Qgc2hvcnRTY2FsZSA9IFsnJyxcblx0JycsXG5cdCdNJyxcblx0J0InLFxuXHQnVHInLFxuXHQnUXVhZHInLFxuXHQnUXVpbnQnLFxuXHQnU2V4dCcsXG5cdCdTZXB0Jyxcblx0J09jdCcsXG5cdCdOb24nLFxuXHQnRGVjJyxcblx0J1VuZGVjJyxcblx0J0R1b2RlYycsXG5cdCdUcmVkZWMnLFxuXHQnUXVhdHR1b3JkZWMnLFxuXHQnUXVpbmRlYycsXG5cdCdTZXhkZWMnLFxuXHQnU2VwdGVuZGVjJyxcblx0J09jdG9kZWMnLFxuXHQnTm92ZW1kZWMnLFxuXHQnVmlnaW50Jyxcblx0J1VudmlnaW50Jyxcblx0J0R1b3ZpZ2ludCcsXG5cdCdUcmV2aWdpbnQnLFxuXHQnUXVhdHR1b3J2aWdpbnQnLFxuXTtcblxuLyoqIEFycmF5IG9mIGFiYnJldmlhdGlvbnMgdXNlZCBpbiB0aGUgXCJBYmJyZXZpYXRlZCBTaG9ydFwiIHNjYWxlICovXG5leHBvcnQgY29uc3Qgc2hvcnRTY2FsZUFiYnJldmlhdGVkID0gWycnLFxuXHQnSycsXG5cdCdNJyxcblx0J0InLFxuXHQnVCcsXG5cdCdRYScsXG5cdCdRaScsXG5cdCdTeCcsXG5cdCdTcCcsXG5cdCdPYycsXG5cdCdObycsXG5cdCdEZScsXG5cdCdVRGUnLFxuXHQnRERlJyxcblx0J1REZScsXG5cdCdRYURlJyxcblx0J1FpRGUnLFxuXHQnU3hEZScsXG5cdCdTcERlJyxcblx0J09EZScsXG5cdCdORGUnLFxuXHQnVmknLFxuXHQnVVZpJyxcblx0J0RWaScsXG5cdCdUVmknLFxuXHQnUWFWaScsXG5cdCdRaVZpJyxcblx0J1N4VmknLFxuXHQnU3BWaScsXG5cdCdPVmknLFxuXHQnTlZpJyxcblx0J1RyJyxcblx0J1VUcicsXG5cdCdEVHInLFxuXHQnVFRyJyxcblx0J1FhVHInLFxuXHQnUWlUcicsXG5cdCdTeFRyJyxcblx0J1NwVHInLFxuXHQnT1RyJyxcblx0J05UcicsXG5cdCdRYWEnLFxuXHQnVVFhJyxcblx0J0RRYScsXG5cdCdUUWEnLFxuXHQnUWFRYScsXG5cdCdRaVFhJyxcblx0J1N4UWEnLFxuXHQnU3BRYScsXG5cdCdPUWEnLFxuXHQnTlFhJyxcblx0J1FpYScsXG5cdCdVUWknLFxuXHQnRFFpJyxcblx0J1RRaScsXG5cdCdRYVFpJyxcblx0J1FpUWknLFxuXHQnU3hRaScsXG5cdCdTcFFpJyxcblx0J09RaScsXG5cdCdOUWknLFxuXHQnU3hhJyxcblx0J1VTeCcsXG5cdCdEU3gnLFxuXHQnVFN4Jyxcblx0J1FhU3gnLFxuXHQnUWlTeCcsXG5cdCdTeFN4Jyxcblx0J1NwU3gnLFxuXHQnT1N4Jyxcblx0J05TeCcsXG5cdCdTcGEnLFxuXHQnVVNwJyxcblx0J0RTcCcsXG5cdCdUU3AnLFxuXHQnUWFTcCcsXG5cdCdRaVNwJyxcblx0J1N4U3AnLFxuXHQnU3BTcCcsXG5cdCdPU3AnLFxuXHQnTlNwJyxcblx0J09jbycsXG5cdCdVT2MnLFxuXHQnRE9jJyxcblx0J1RPYycsXG5cdCdRYU9jJyxcblx0J1FpT2MnLFxuXHQnU3hPYycsXG5cdCdTcE9jJyxcblx0J09PYycsXG5cdCdOT2MnLFxuXHQnTm9hJyxcblx0J1VObycsXG5cdCdETm8nLFxuXHQnVE5vJyxcblx0J1FhTm8nLFxuXHQnUWlObycsXG5cdCdTeE5vJyxcblx0J1NwTm8nLFxuXHQnT05vJyxcblx0J05ObycsXG5cdCdDdCcsXG5cdCdVQ3QnLFxuXTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuXG5leHBvcnQgbGV0IExhc3RNb2RDb3VudDtcbmV4cG9ydCBsZXQgVG9vbHRpcEJ1aWxkQmFja3VwID0gW107XG5leHBvcnQgbGV0IFRvb2x0aXBMdW1wQmFja3VwO1xuZXhwb3J0IGxldCBUb29sdGlwR3JpbW9pcmVCYWNrdXAgPSBbXTtcbmV4cG9ydCBsZXQgVG9vbHRpcFVwZ3JhZGVCYWNrdXAgPSBbXTtcbmV4cG9ydCBsZXQgQmFja3VwR3JpbW9pcmVMYXVuY2g7XG5leHBvcnQgbGV0IEJhY2t1cEdyaW1vaXJlTGF1bmNoTW9kO1xuZXhwb3J0IGxldCBCYWNrdXBHcmltb2lyZURyYXc7XG5leHBvcnQgbGV0IEhhc1JlcGxhY2VOYXRpdmVHcmltb2lyZUxhdW5jaDtcbmV4cG9ydCBsZXQgSGFzUmVwbGFjZU5hdGl2ZUdyaW1vaXJlRHJhdztcbmV4cG9ydCBsZXQgTG9hZE1pbmlnYW1lcztcbmV4cG9ydCBsZXQgQmFja3VwRnVuY3Rpb25zID0ge307XG5cbmV4cG9ydCBsZXQgTGFzdFNlYXNvblBvcHVwU3RhdGU7XG5leHBvcnQgbGV0IExhc3RUaWNrZXJGb3J0dW5lU3RhdGU7XG5leHBvcnQgbGV0IExhc3RHYXJkZW5OZXh0U3RlcDtcbmV4cG9ydCBsZXQgTGFzdEdvbGRlbkNvb2tpZVN0YXRlO1xuZXhwb3J0IGxldCBMYXN0U3Bhd25lZEdvbGRlbkNvb2tpZVN0YXRlO1xuZXhwb3J0IGxldCBMYXN0TWFnaWNCYXJGdWxsO1xuZXhwb3J0IGxldCBDdXJyU3Bhd25lZEdvbGRlbkNvb2tpZVN0YXRlO1xuZXhwb3J0IGxldCBMYXN0V3JpbmtsZXJDb3VudDtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuLyoqXG4gKiBTZWN0aW9uOiBWYXJpYWJsZXMgdXNlZCBpbiBEaXNwIGZ1bmN0aW9ucyAqL1xuXG5leHBvcnQgbGV0IERpc3BDU1M7XG5cbi8qKlxuICogVGhlc2UgYXJlIHZhcmlhYmxlcyB1c2VkIHRvIGNyZWF0ZSBET00gb2JqZWN0IG5hbWVzIGFuZCBpZCAoZS5nLiwgJ0NNVGV4dFRvb2x0aXApXG4gKi9cbmV4cG9ydCBjb25zdCBDb2xvclRleHRQcmUgPSAnQ01UZXh0JztcbmV4cG9ydCBjb25zdCBDb2xvckJhY2tQcmUgPSAnQ01CYWNrJztcbmV4cG9ydCBjb25zdCBDb2xvckJvcmRlclByZSA9ICdDTUJvcmRlcic7XG5cbi8qKlxuICogVGhlc2UgYXJlIHZhcmlhYmxlcyB3aGljaCBjYW4gYmUgc2V0IGluIHRoZSBvcHRpb25zIGJ5IHRoZSB1c2VyIHRvIHN0YW5kYXJkaXplIGNvbG91cnMgdGhyb3VnaG91dCBDb29raWVNb25zdGVyXG4gKi9cbmV4cG9ydCBjb25zdCBDb2xvckJsdWUgPSAnQmx1ZSc7XG5leHBvcnQgY29uc3QgQ29sb3JHcmVlbiA9ICdHcmVlbic7XG5leHBvcnQgY29uc3QgQ29sb3JZZWxsb3cgPSAnWWVsbG93JztcbmV4cG9ydCBjb25zdCBDb2xvck9yYW5nZSA9ICdPcmFuZ2UnO1xuZXhwb3J0IGNvbnN0IENvbG9yUmVkID0gJ1JlZCc7XG5leHBvcnQgY29uc3QgQ29sb3JQdXJwbGUgPSAnUHVycGxlJztcbmV4cG9ydCBjb25zdCBDb2xvckdyYXkgPSAnR3JheSc7XG5leHBvcnQgY29uc3QgQ29sb3JQaW5rID0gJ1BpbmsnO1xuZXhwb3J0IGNvbnN0IENvbG9yQnJvd24gPSAnQnJvd24nO1xuZXhwb3J0IGNvbnN0IENvbG9ycyA9IFtDb2xvckdyYXksIENvbG9yQmx1ZSwgQ29sb3JHcmVlbiwgQ29sb3JZZWxsb3csIENvbG9yT3JhbmdlLCBDb2xvclJlZCwgQ29sb3JQdXJwbGUsIENvbG9yUGluaywgQ29sb3JCcm93bl07XG5cbi8qKlxuICogVGhpcyBsaXN0IGlzIHVzZWQgdG8gbWFrZSBzb21lIHZlcnkgYmFzaWMgdG9vbHRpcHMuXG4gKiBJdCBpcyB1c2VkIGJ5IENNLk1haW4uRGVsYXlJbml0KCkgaW4gdGhlIGNhbGwgb2YgQ00uRGlzcC5DcmVhdGVTaW1wbGVUb29sdGlwKClcbiAqIEBpdGVtXHR7c3RyaW5nfVx0cGxhY2Vob2xkZXJcbiAqIEBpdGVtXHR7c3RyaW5nfVx0dGV4dFxuICogQGl0ZW1cdHtzdHJpbmd9XHRtaW5XaWR0aFxuICovXG5leHBvcnQgY29uc3QgVG9vbHRpcFRleHQgPSBbXG5cdFsnR29sZENvb2tUb29sdGlwUGxhY2Vob2xkZXInLCAnQ2FsY3VsYXRlZCB3aXRoIEdvbGRlbiBTd2l0Y2ggb2ZmJywgJzIwMHB4J10sXG5cdFsnR29sZENvb2tEcmFnb25zRm9ydHVuZVRvb2x0aXBQbGFjZWhvbGRlcicsICdDYWxjdWxhdGVkIHdpdGggR29sZGVuIFN3aXRjaCBvZmYgYW5kIGF0IGxlYXN0IG9uZSBnb2xkZW4gY29va2llIG9uLXNjcmVlbicsICcyNDBweCddLFxuXHRbJ1ByZXN0TWF4VG9vbHRpcFBsYWNlaG9sZGVyJywgJ1RoZSBNQVggcHJlc3RpZ2UgaXMgY2FsY3VsYXRlZCB3aXRoIHRoZSBjb29raWVzIGdhaW5lZCBmcm9tIHBvcHBpbmcgYWxsIHdyaW5rbGVycyB3aXRoIFNrcnV1aWEgZ29kIGluIERpYW1vbmQgc2xvdCwgc2VsbGluZyBhbGwgc3RvY2sgbWFya2V0IGdvb2RzLCBzZWxsaW5nIGFsbCBidWlsZGluZ3Mgd2l0aCBFYXJ0aCBTaGF0dGVyZXIgYW5kIFJlYWxpdHkgQmVuZGluZyBhdXJhcywgYW5kIGJ1eWluZyBDaG9jb2xhdGUgZWdnJywgJzMyMHB4J10sXG5cdFsnTmV4dFByZXN0VG9vbHRpcFBsYWNlaG9sZGVyJywgJ0NhbGN1bGF0ZWQgd2l0aCBjb29raWVzIGdhaW5lZCBmcm9tIHdyaW5rbGVycyBhbmQgQ2hvY29sYXRlIGVnZycsICcyMDBweCddLFxuXHRbJ0hlYXZlbkNoaXBNYXhUb29sdGlwUGxhY2Vob2xkZXInLCAnVGhlIE1BWCBoZWF2ZW5seSBjaGlwcyBpcyBjYWxjdWxhdGVkIHdpdGggdGhlIGNvb2tpZXMgZ2FpbmVkIGZyb20gcG9wcGluZyBhbGwgd3JpbmtsZXJzIHdpdGggU2tydXVpYSBnb2QgaW4gRGlhbW9uZCBzbG90LCBzZWxsaW5nIGFsbCBzdG9jayBtYXJrZXQgZ29vZHMsIHNlbGxpbmcgYWxsIGJ1aWxkaW5ncyB3aXRoIEVhcnRoIFNoYXR0ZXJlciBhbmQgUmVhbGl0eSBCZW5kaW5nIGF1cmFzLCBhbmQgYnV5aW5nIENob2NvbGF0ZSBlZ2cnLCAnMzMwcHgnXSxcblx0WydSZXNldFRvb2x0aXBQbGFjZWhvbGRlcicsICdUaGUgYm9udXMgaW5jb21lIHlvdSB3b3VsZCBnZXQgZnJvbSBuZXcgcHJlc3RpZ2UgbGV2ZWxzIHVubG9ja2VkIGF0IDEwMCUgb2YgaXRzIHBvdGVudGlhbCBhbmQgZnJvbSBhc2NlbnNpb24gYWNoaWV2ZW1lbnRzIGlmIHlvdSBoYXZlIHRoZSBzYW1lIGJ1aWxkaW5ncy91cGdyYWRlcyBhZnRlciByZXNldCcsICczNzBweCddLFxuXHRbJ0Nob0VnZ1Rvb2x0aXBQbGFjZWhvbGRlcicsICdUaGUgYW1vdW50IG9mIGNvb2tpZXMgeW91IHdvdWxkIGdldCBmcm9tIHBvcHBpbmcgYWxsIHdyaW5rbGVycyB3aXRoIFNrcnV1aWEgZ29kIGluIERpYW1vbmQgc2xvdCwgc2VsbGluZyBhbGwgc3RvY2sgbWFya2V0IGdvb2RzLCBzZWxsaW5nIGFsbCBidWlsZGluZ3Mgd2l0aCBFYXJ0aCBTaGF0dGVyZXIgYW5kIFJlYWxpdHkgQmVuZGluZyBhdXJhcywgYW5kIHRoZW4gYnV5aW5nIENob2NvbGF0ZSBlZ2cnLCAnMzAwcHgnXSxcblx0WydDaGFpbk5leHRMZXZlbFBsYWNlaG9sZGVyJywgJ0NoZWF0ZWQgY29va2llcyBtaWdodCBicmVhayB0aGlzIGZvcm11bGEnLCAnMjUwcHgnXSxcbl07XG5cbi8qKlxuICogVGhlc2UgYXJlIHZhcmlhYmxlcyB1c2VkIGJ5IHRoZSBmdW5jdGlvbnMgdGhhdCBjcmVhdGUgdG9vbHRpcHMgZm9yIHdyaW5rbGVyc1xuICogU2VlIENNLkRpc3AuQ2hlY2tXcmlua2xlclRvb2x0aXAoKSwgQ00uRGlzcC5VcGRhdGVXcmlua2xlclRvb2x0aXAoKSBhbmQgQ00uTWFpbi5BZGRXcmlua2xlckFyZWFEZXRlY3QoKVxuICovXG5leHBvcnQgbGV0IFRvb2x0aXBXcmlua2xlckFyZWEgPSAwO1xuZXhwb3J0IGxldCBUb29sdGlwV3JpbmtsZXIgPSAtMTtcblxuLyoqXG4gKiBUaGlzIGFycmF5IGlzIHVzZWQgdG8gc3RvcmUgd2hldGhlciBhIFdyaW5rbGVyIHRvb2x0aXAgaXMgYmVpbmcgc2hvd24gb3Igbm90XG4gKiBbaV0gPSAxIG1lYW5zIHRvb2x0aXAgaXMgYmVpbmcgc2hvd24sIFtpXSA9IDAgbWVhbnMgaGlkZGVuXG4gKiBJdCBpcyB1c2VkIGJ5IENNLkRpc3AuQ2hlY2tXcmlua2xlclRvb2x0aXAoKSBhbmQgQ00uTWFpbi5BZGRXcmlua2xlckFyZWFEZXRlY3QoKVxuICovXG5leHBvcnQgbGV0IFRvb2x0aXBXcmlua2xlckJlaW5nU2hvd24gPSBbXTtcblxuZXhwb3J0IGxldCBDTUxhc3RBc2NlbmRTdGF0ZTtcbmV4cG9ydCBsZXQgQ01TYXlUaW1lO1xuXG4vKipcbiAqIFRoZXNlIGFyZSB2YXJpYWJsZXMgdXNlZCB0byBjcmVhdGUgdmFyaW91cyBkaXNwbGF5cyB3aGVuIHRoZSBnYW1lIGlzIGxvYWRlZCBvbiB0aGUgXCJzZWxsIGFsbFwiIHNjcmVlblxuICovXG5leHBvcnQgbGV0IExhc3RUYXJnZXRCb3RCYXIgPSAxO1xuZXhwb3J0IGxldCBMYXN0VGFyZ2V0QnVpbGRpbmdzID0gMTtcbmV4cG9ydCBsZXQgTGFzdFRhcmdldFRvb2x0aXBCdWlsZGluZyA9IDE7XG5cbi8qKlxuICogVGhlc2UgYXJyYXlzIGFyZSB1c2VkIGluIHRoZSBzdGF0cyBwYWdlIHRvIHNob3dcbiAqIGF2ZXJhZ2UgY29va2llcyBwZXIge0NNLkRpc3AuY29va2llVGltZXMvQ00uRGlzcC5jbGlja1RpbWVzfSBzZWNvbmRzXG4gKi9cbmV4cG9ydCBjb25zdCBDb29raWVUaW1lcyA9IFsxMCwgMTUsIDMwLCA2MCwgMzAwLCA2MDAsIDkwMCwgMTgwMF07XG5leHBvcnQgY29uc3QgQ2xpY2tUaW1lcyA9IFsxLCA1LCAxMCwgMTUsIDMwXTtcblxuLyoqXG4gKiBUaGlzIGFycmF5IGlzIHVzZWQgdG8gZ2l2ZSBjZXJ0YWluIHRpbWVycyBzcGVjaWZpYyBjb2xvdXJzXG4gKi9cbmV4cG9ydCBjb25zdCBCdWZmQ29sb3JzID0ge1xuXHRGcmVuenk6IENvbG9yWWVsbG93LCAnRHJhZ29uIEhhcnZlc3QnOiBDb2xvckJyb3duLCAnRWxkZXIgZnJlbnp5JzogQ29sb3JHcmVlbiwgQ2xvdDogQ29sb3JSZWQsICdDbGljayBmcmVuenknOiBDb2xvckJsdWUsIERyYWdvbmZsaWdodDogQ29sb3JQaW5rLFxufTtcblxuLyoqXG4gKiBUaGlzIGFycmF5IGlzIHVzZWQgdG8gdHJhY2sgR0MgdGltZXJzXG4gKi9cbmV4cG9ydCBsZXQgR0NUaW1lcnMgPSB7fTtcblxuLyoqXG4gKiBVc2VkIHRvIHN0b3JlIHRoZSBudW1iZXIgb2YgY29va2llcyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIHRhYi10aXRsZVxuICovXG5leHBvcnQgbGV0IFRpdGxlID0gJyc7XG5cbmV4cG9ydCBsZXQgVG9vbHRpcFByaWNlO1xuZXhwb3J0IGxldCBUb29sdGlwQm9udXNJbmNvbWU7XG5leHBvcnQgbGV0IFRvb2x0aXBUeXBlO1xuZXhwb3J0IGxldCBUb29sdGlwTmFtZTtcbmV4cG9ydCBsZXQgVG9vbHRpcEJvbnVzTW91c2U7XG5cbmV4cG9ydCBsZXQgTGFzdEFzY2VuZFN0YXRlO1xuZXhwb3J0IGxldCBMYXN0TnVtYmVyT2ZUaW1lcnM7XG4iLCIvKiogR2VuZXJhbCBmdW5jdGlvbnMgdG8gZm9ybWF0IG9yIGJlYXV0aWZ5IHN0cmluZ3MgKi9cblxuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgbWV0cmljLCBzaG9ydFNjYWxlLCBzaG9ydFNjYWxlQWJicmV2aWF0ZWQgfSBmcm9tICcuLi8uLi9EYXRhL1NjYWxlcyc7XG5pbXBvcnQgeyBCYWNrdXBGdW5jdGlvbnMgfSBmcm9tICcuLi8uLi9NYWluL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHtcblx0Q29sb3JHcmVlbiwgQ29sb3JPcmFuZ2UsIENvbG9yUmVkLCBDb2xvclllbGxvdyxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGZvcm1hdHMgbnVtYmVyIGJhc2VkIG9uIHRoZSBTY2FsZSBzZXR0aW5nXG4gKiBAcGFyYW1cdHtudW1iZXJ9XHRudW1cdFx0TnVtYmVyIHRvIGJlIGJlYXV0aWZpZWRcbiAqIEBwYXJhbSBcdHthbnl9XHRcdGZsb2F0cyBcdFVzZWQgaW4gc29tZSBzY2VuYXJpbydzIGJ5IENNLkJhY2t1cC5CZWF1dGlmeSAoR2FtZSdzIG9yaWdpbmFsIGZ1bmN0aW9uKVxuICogQHBhcmFtXHR7bnVtYmVyfVx0Zm9yY2VkXHRVc2VkIHRvIGZvcmNlICh0eXBlIDMpIGluIGNlcnRhaW5zIGNhc2VzXG4gKiBAcmV0dXJuc1x0e3N0cmluZ31cdFx0XHRGb3JtYXR0ZWQgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCZWF1dGlmeShudW0sIGZsb2F0cywgZm9yY2VkKSB7XG5cdGNvbnN0IGRlY2ltYWxzID0gQ01PcHRpb25zLlNjYWxlRGVjaW1hbHMgKyAxO1xuXHRpZiAobnVtID09PSBJbmZpbml0eSkge1xuXHRcdHJldHVybiAnSW5maW5pdHknO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBudW0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuICcwJztcblx0fSBlbHNlIGlmIChDTU9wdGlvbnMuU2NhbGUgPT09IDApIHtcblx0XHRyZXR1cm4gQmFja3VwRnVuY3Rpb25zLkJlYXV0aWZ5KG51bSwgZmxvYXRzKTtcblx0fSBlbHNlIGlmIChOdW1iZXIuaXNGaW5pdGUobnVtKSkge1xuXHRcdGxldCBhbnN3ZXIgPSAnJztcblx0XHRpZiAobnVtID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gbnVtLnRvU3RyaW5nKCk7XG5cdFx0fSBlbHNlIGlmIChudW0gPiAwLjAwMSAmJiBudW0gPCBDTU9wdGlvbnMuU2NhbGVDdXRvZmYpIHtcblx0XHRcdGFuc3dlciA9IG51bS50b0ZpeGVkKDIpO1xuXHRcdFx0aWYgKENNT3B0aW9ucy5TY2FsZVNlcGFyYXRvcikgYW5zd2VyID0gYW5zd2VyLnRvTG9jYWxlU3RyaW5nKCdubCcpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRcdFx0aWYgKGFuc3dlclthbnN3ZXIubGVuZ3RoIC0gMV0gPT09ICcwJyB8fCBhbnN3ZXJbYW5zd2VyLmxlbmd0aCAtIDFdID09PSAnLicpIGFuc3dlciA9IGFuc3dlci5zbGljZSgwLCAtMSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYW5zd2VyO1xuXHRcdH0gZWxzZSBpZiAoQ01PcHRpb25zLlNjYWxlID09PSA0ICYmICFmb3JjZWQgfHwgZm9yY2VkID09PSA0KSB7IC8vIFNjaWVudGlmaWMgbm90YXRpb24sIDEyMzQ1Njc4OSA9PiAxLjIzNUUrOFxuXHRcdFx0YW5zd2VyID0gbnVtLnRvRXhwb25lbnRpYWwoZGVjaW1hbHMpLnRvU3RyaW5nKCkucmVwbGFjZSgnZScsICdFJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGV4cG9uZW50aWFsID0gbnVtLnRvRXhwb25lbnRpYWwoKS50b1N0cmluZygpO1xuXHRcdFx0Y29uc3QgQW1vdW50T2ZUZW5Qb3dlclRocmVlID0gTWF0aC5mbG9vcihleHBvbmVudGlhbC5zbGljZShleHBvbmVudGlhbC5pbmRleE9mKCdlJykgKyAxKSAvIDMpO1xuXHRcdFx0YW5zd2VyID0gKG51bSAvIE51bWJlcihgMWUke0Ftb3VudE9mVGVuUG93ZXJUaHJlZSAqIDN9YCkpLnRvRml4ZWQoZGVjaW1hbHMpO1xuXHRcdFx0Ly8gYW5zd2VyIGlzIG5vdyBcInh4eC54eFwiIChlLmcuLCAxMjM0NTY3ODkgd291bGQgYmUgMTIzLjQ2KVxuXHRcdFx0aWYgKENNT3B0aW9ucy5TY2FsZSA9PT0gMSAmJiAhZm9yY2VkIHx8IGZvcmNlZCA9PT0gMSkgeyAvLyBNZXRyaWMgc2NhbGUsIDEyMzQ1Njc4OSA9PiAxMjMuNDU3IE1cblx0XHRcdFx0aWYgKG51bSA+PSAwLjAxICYmIG51bSA8IE51bWJlcihgMWUke21ldHJpYy5sZW5ndGggKiAzfWApKSB7XG5cdFx0XHRcdFx0YW5zd2VyICs9IGAgJHttZXRyaWNbQW1vdW50T2ZUZW5Qb3dlclRocmVlXX1gO1xuXHRcdFx0XHR9IGVsc2UgYW5zd2VyID0gQmVhdXRpZnkobnVtLCAwLCA0KTsgLy8gSWYgbnVtYmVyIGlzIHRvbyBsYXJnZSBvciBsaXR0bGUsIHJldmVydCB0byBzY2llbnRpZmljIG5vdGF0aW9uXG5cdFx0XHR9IGVsc2UgaWYgKENNT3B0aW9ucy5TY2FsZSA9PT0gMiAmJiAhZm9yY2VkIHx8IGZvcmNlZCA9PT0gMikgeyAvLyBTaG9ydCBzY2FsZSwgMTIzNDU2Nzg5ID0+IDEyMy40NTcgTVxuXHRcdFx0XHRpZiAobnVtID49IDAuMDEgJiYgbnVtIDwgTnVtYmVyKGAxZSR7c2hvcnRTY2FsZS5sZW5ndGggKiAzfWApKSB7XG5cdFx0XHRcdFx0YW5zd2VyICs9IGAgJHtzaG9ydFNjYWxlW0Ftb3VudE9mVGVuUG93ZXJUaHJlZV19YDtcblx0XHRcdFx0fSBlbHNlIGFuc3dlciA9IEJlYXV0aWZ5KG51bSwgMCwgNCk7IC8vIElmIG51bWJlciBpcyB0b28gbGFyZ2Ugb3IgbGl0dGxlLCByZXZlcnQgdG8gc2NpZW50aWZpYyBub3RhdGlvblxuXHRcdFx0fSBlbHNlIGlmIChDTU9wdGlvbnMuU2NhbGUgPT09IDMgJiYgIWZvcmNlZCB8fCBmb3JjZWQgPT09IDMpIHsgLy8gU2hvcnQgc2NhbGUsIDEyMzQ1Njc4OSA9PiAxMjMuNDU3IE1cblx0XHRcdFx0aWYgKG51bSA+PSAwLjAxICYmIG51bSA8IE51bWJlcihgMWUke3Nob3J0U2NhbGVBYmJyZXZpYXRlZC5sZW5ndGggKiAzfWApKSB7XG5cdFx0XHRcdFx0YW5zd2VyICs9IGAgJHtzaG9ydFNjYWxlQWJicmV2aWF0ZWRbQW1vdW50T2ZUZW5Qb3dlclRocmVlXX1gO1xuXHRcdFx0XHR9IGVsc2UgYW5zd2VyID0gQmVhdXRpZnkobnVtLCAwLCA0KTsgLy8gSWYgbnVtYmVyIGlzIHRvbyBsYXJnZSBvciBsaXR0bGUsIHJldmVydCB0byBzY2llbnRpZmljIG5vdGF0aW9uXG5cdFx0XHR9IGVsc2UgaWYgKENNT3B0aW9ucy5TY2FsZSA9PT0gNSAmJiAhZm9yY2VkIHx8IGZvcmNlZCA9PT0gNSkgeyAvLyBFbmdpbmVlcmluZyBub3RhdGlvbiwgMTIzNDU2Nzg5ID0+IDEyMy40NTdFKzZcblx0XHRcdFx0YW5zd2VyICs9IGBFJHtBbW91bnRPZlRlblBvd2VyVGhyZWUgKiAzfWA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChhbnN3ZXIgPT09ICcnKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhgQ291bGQgbm90IGJlYXV0aWZ5IG51bWJlciB3aXRoIENNLkRpc3AuQmVhdXRpZnk6ICR7bnVtfWApO1xuXHRcdFx0YW5zd2VyID0gQmFja3VwRnVuY3Rpb25zLkJlYXV0aWZ5KG51bSwgZmxvYXRzKTtcblx0XHR9XG5cdFx0aWYgKENNT3B0aW9ucy5TY2FsZVNlcGFyYXRvcikgYW5zd2VyID0gYW5zd2VyLnJlcGxhY2UoJy4nLCAnLCcpO1xuXHRcdHJldHVybiBhbnN3ZXI7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS5sb2coYENvdWxkIG5vdCBiZWF1dGlmeSBudW1iZXIgd2l0aCBDTS5EaXNwLkJlYXV0aWZ5OiAke251bX1gKTtcblx0XHRyZXR1cm4gQmFja3VwRnVuY3Rpb25zLkJlYXV0aWZ5KG51bSwgZmxvYXRzKTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aW1lIGFzIGEgc3RyaW5nIGRlcGVuZGluZyBvbiBUaW1lRm9ybWF0IHNldHRpbmdcbiAqIEBwYXJhbSAgXHR7bnVtYmVyfSBcdHRpbWVcdFx0VGltZSB0byBiZSBmb3JtYXR0ZWRcbiAqIEBwYXJhbSAgXHR7bnVtYmVyfVx0bG9uZ0Zvcm1hdCBcdDEgb3IgMFxuICogQHJldHVybnNcdHtzdHJpbmd9XHRcdFx0XHRGb3JtYXR0ZWQgdGltZVxuICovXG5leHBvcnQgZnVuY3Rpb24gRm9ybWF0VGltZSh0aW1lLCBsb25nRm9ybWF0KSB7XG5cdGlmICh0aW1lID09PSBJbmZpbml0eSkgcmV0dXJuIHRpbWU7XG5cdHRpbWUgPSBNYXRoLmNlaWwodGltZSk7XG5cdGNvbnN0IHkgPSBNYXRoLmZsb29yKHRpbWUgLyAzMTU1NzYwMCk7XG5cdGNvbnN0IGQgPSBNYXRoLmZsb29yKHRpbWUgJSAzMTU1NzYwMCAvIDg2NDAwKTtcblx0Y29uc3QgaCA9IE1hdGguZmxvb3IodGltZSAlIDg2NDAwIC8gMzYwMCk7XG5cdGNvbnN0IG0gPSBNYXRoLmZsb29yKHRpbWUgJSAzNjAwIC8gNjApO1xuXHRjb25zdCBzID0gTWF0aC5mbG9vcih0aW1lICUgNjApO1xuXHRsZXQgc3RyID0gJyc7XG5cdGlmIChDTU9wdGlvbnMuVGltZUZvcm1hdCkge1xuXHRcdGlmICh0aW1lID4gMzE1NTc2MDAwMCkgcmV0dXJuICdYWDpYWDpYWDpYWDpYWCc7XG5cdFx0c3RyICs9IGAkeyh5IDwgMTAgPyAnMCcgOiAnJykgKyB5fTpgO1xuXHRcdHN0ciArPSBgJHsoZCA8IDEwID8gJzAnIDogJycpICsgZH06YDtcblx0XHRzdHIgKz0gYCR7KGggPCAxMCA/ICcwJyA6ICcnKSArIGh9OmA7XG5cdFx0c3RyICs9IGAkeyhtIDwgMTAgPyAnMCcgOiAnJykgKyBtfTpgO1xuXHRcdHN0ciArPSAocyA8IDEwID8gJzAnIDogJycpICsgcztcblx0fSBlbHNlIHtcblx0XHRpZiAodGltZSA+IDc3NzYwMDAwMCkgcmV0dXJuIGxvbmdGb3JtYXQgPyAnT3ZlciA5MDAwIGRheXMhJyA6ICc+OTAwMGQnO1xuXHRcdHN0ciArPSAoeSA+IDAgPyBgJHt5ICsgKGxvbmdGb3JtYXQgPyAoeSA9PT0gMSA/ICcgeWVhcicgOiAnIHllYXJzJykgOiAneScpfSwgYCA6ICcnKTtcblx0XHRzdHIgKz0gKGQgPiAwID8gYCR7ZCArIChsb25nRm9ybWF0ID8gKGQgPT09IDEgPyAnIGRheScgOiAnIGRheXMnKSA6ICdkJyl9LCBgIDogJycpO1xuXHRcdGlmIChzdHIubGVuZ3RoID4gMCB8fCBoID4gMCkgc3RyICs9IGAke2ggKyAobG9uZ0Zvcm1hdCA/IChoID09PSAxID8gJyBob3VyJyA6ICcgaG91cnMnKSA6ICdoJyl9LCBgO1xuXHRcdGlmIChzdHIubGVuZ3RoID4gMCB8fCBtID4gMCkgc3RyICs9IGAke20gKyAobG9uZ0Zvcm1hdCA/IChtID09PSAxID8gJyBtaW51dGUnIDogJyBtaW51dGVzJykgOiAnbScpfSwgYDtcblx0XHRzdHIgKz0gcyArIChsb25nRm9ybWF0ID8gKHMgPT09IDEgPyAnIHNlY29uZCcgOiAnIHNlY29uZHMnKSA6ICdzJyk7XG5cdH1cblx0cmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGNvbG9yIHRvIGJlIHVzZWQgZm9yIHRpbWUtc3RyaW5nc1xuICogQHBhcmFtXHR7bnVtYmVyfVx0XHRcdHRpbWVcdFx0XHRUaW1lIHRvIGJlIGNvbG91cmVkXG4gKiBAcmV0dXJucyB7e3N0cmluZywgc3RyaW5nfX1cdHt0ZXh0LCBjb2xvcn1cdEJvdGggdGhlIGZvcm1hdHRlZCB0aW1lIGFuZCBjb2xvciBhcyBzdHJpbmdzIGluIGFuIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBHZXRUaW1lQ29sb3IodGltZSkge1xuXHRsZXQgY29sb3I7XG5cdGxldCB0ZXh0O1xuXHRpZiAodGltZSA8IDApIHtcblx0XHRpZiAoQ01PcHRpb25zLlRpbWVGb3JtYXQpIHRleHQgPSAnMDA6MDA6MDA6MDA6MDAnO1xuXHRcdGVsc2UgdGV4dCA9ICdEb25lISc7XG5cdFx0Y29sb3IgPSBDb2xvckdyZWVuO1xuXHR9IGVsc2Uge1xuXHRcdHRleHQgPSBGb3JtYXRUaW1lKHRpbWUpO1xuXHRcdGlmICh0aW1lID4gMzAwKSBjb2xvciA9IENvbG9yUmVkO1xuXHRcdGVsc2UgaWYgKHRpbWUgPiA2MCkgY29sb3IgPSBDb2xvck9yYW5nZTtcblx0XHRlbHNlIGNvbG9yID0gQ29sb3JZZWxsb3c7XG5cdH1cblx0cmV0dXJuIHsgdGV4dCwgY29sb3IgfTtcbn1cbiIsImltcG9ydCB7IENhY2hlT2JqZWN0czEsIENhY2hlT2JqZWN0czEwLCBDYWNoZU9iamVjdHMxMDAgfSBmcm9tICcuLi8uLi9DYWNoZS9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBCdWlsZGluZ1NlbGwgZnJvbSAnLi4vLi4vU2ltL1NpbXVsYXRpb25FdmVudHMvU2VsbEJ1aWxkaW5nJztcbmltcG9ydCB7IEJlYXV0aWZ5IH0gZnJvbSAnLi4vQmVhdXRpZnlBbmRGb3JtYXR0aW5nL0JlYXV0aWZ5Rm9ybWF0dGluZyc7XG5pbXBvcnQgeyBDb2xvcnMsIExhc3RUYXJnZXRCdWlsZGluZ3MgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBTZWN0aW9uOiBGdW5jdGlvbnMgcmVsYXRlZCB0byByaWdodCBjb2x1bW4gb2YgdGhlIHNjcmVlbiAoYnVpbGRpbmdzL3VwZ3JhZGVzKVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWRqdXN0cyBzb21lIHRoaW5ncyBpbiB0aGUgY29sdW1uIG9mIGJ1aWxkaW5ncy5cbiAqIEl0IGNvbG91cnMgdGhlbSwgaGVscHMgZGlzcGxheSB0aGUgY29ycmVjdCBzZWxsLXByaWNlIGFuZCBzaHVmZmxlcyB0aGUgb3JkZXIgd2hlbiBDTS5PcHRpb25zLlNvcnRCdWlsZGluZ3MgaXMgc2V0XG4gKiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IENNLkRpc3AuRHJhdygpLCBDTS5EaXNwLlVwZGF0ZUNvbG9ycygpICYgQ00uRGlzcC5SZWZyZXNoU2NhbGUoKVxuICogQW5kIGJ5IGNoYW5nZXMgaW4gQ00uT3B0aW9ucy5CdWlsZENvbG9yLCBDTS5PcHRpb25zLlNvcnRCdWlsZCAmIENNLkRhdGEuQ29uZmlnLkJ1bGtCdWlsZENvbG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVwZGF0ZUJ1aWxkaW5ncygpIHtcblx0bGV0IHRhcmdldCA9IEdhbWUuYnV5QnVsaztcblx0aWYgKEdhbWUuYnV5TW9kZSA9PT0gMSkge1xuXHRcdExhc3RUYXJnZXRCdWlsZGluZ3MgPSB0YXJnZXQ7XG5cdH0gZWxzZSB7XG5cdFx0dGFyZ2V0ID0gTGFzdFRhcmdldEJ1aWxkaW5ncztcblx0fVxuXHRpZiAodGFyZ2V0ID09PSAxKSB0YXJnZXQgPSBDYWNoZU9iamVjdHMxO1xuXHRlbHNlIGlmICh0YXJnZXQgPT09IDEwKSB0YXJnZXQgPSBDYWNoZU9iamVjdHMxMDtcblx0ZWxzZSBpZiAodGFyZ2V0ID09PSAxMDApIHRhcmdldCA9IENhY2hlT2JqZWN0czEwMDtcblxuXHRpZiAoR2FtZS5idXlNb2RlID09PSAxKSB7XG5cdFx0aWYgKENNT3B0aW9ucy5CdWlsZENvbG9yID09PSAxKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGFyZ2V0KSkge1xuXHRcdFx0XHRsKGBwcm9kdWN0UHJpY2Uke0dhbWUuT2JqZWN0c1tpXS5pZH1gKS5zdHlsZS5jb2xvciA9IENNT3B0aW9ucy5Db2xvcnNbdGFyZ2V0W2ldLmNvbG9yXTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuT2JqZWN0cykpIHtcblx0XHRcdFx0bChgcHJvZHVjdFByaWNlJHtHYW1lLk9iamVjdHNbaV0uaWR9YCkuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2NvbG9yJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgaWYgKEdhbWUuYnV5TW9kZSA9PT0gLTEpIHtcblx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoQ2FjaGVPYmplY3RzMSkpIHtcblx0XHRcdGNvbnN0IG8gPSBHYW1lLk9iamVjdHNbaV07XG5cdFx0XHRsKGBwcm9kdWN0UHJpY2Uke28uaWR9YCkuc3R5bGUuY29sb3IgPSAnJztcblx0XHRcdC8qXG5cdFx0XHQgKiBGaXggc2VsbCBwcmljZSBkaXNwbGF5ZWQgaW4gdGhlIG9iamVjdCBpbiB0aGUgc3RvcmUuXG5cdFx0XHQgKlxuXHRcdFx0ICogVGhlIGJ1aWxkaW5ncyBzZWxsIHByaWNlIGRpc3BsYXllZCBieSB0aGUgZ2FtZSBpdHNlbGYgKHdpdGhvdXQgYW55IG1vZCkgaXMgaW5jb3JyZWN0LlxuXHRcdFx0ICogVGhlIGZvbGxvd2luZyBsaW5lIG9mIGNvZGUgZml4ZXMgdGhpcyBpc3N1ZSwgYW5kIGNhbiBiZSBzYWZlbHkgcmVtb3ZlZCB3aGVuIHRoZSBnYW1lIGdldHMgZml4ZWQuXG5cdFx0XHQgKlxuXHRcdFx0ICogVGhpcyBpc3N1ZSBpcyBleHRlbnNpdmVseSBkZXRhaWxlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vQWt0YW51c2EvQ29va2llTW9uc3Rlci9pc3N1ZXMvMzU5I2lzc3VlY29tbWVudC03MzU2NTgyNjJcblx0XHRcdCAqL1xuXHRcdFx0bChgcHJvZHVjdFByaWNlJHtvLmlkfWApLmlubmVySFRNTCA9IEJlYXV0aWZ5KEJ1aWxkaW5nU2VsbChvLCBvLmJhc2VQcmljZSwgby5hbW91bnQsIG8uZnJlZSwgR2FtZS5idXlCdWxrLCAxKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQnVpbGQgYXJyYXkgb2YgcG9pbnRlcnMsIHNvcnQgYnkgcHAsIHVzZSBhcnJheSBpbmRleCAoKzIpIGFzIHRoZSBncmlkIHJvdyBudW1iZXJcblx0Ly8gKGdyaWQgcm93cyBhcmUgMS1iYXNlZCBpbmRleGluZywgYW5kIHJvdyAxIGlzIHRoZSBidWxrIGJ1eS9zZWxsIG9wdGlvbnMpXG5cdC8vIFRoaXMgcmVndWxhdGVzIHNvcnRpbmcgb2YgYnVpbGRpbmdzXG5cdGlmIChHYW1lLmJ1eU1vZGUgPT09IDEgJiYgQ01PcHRpb25zLlNvcnRCdWlsZGluZ3MpIHtcblx0XHRjb25zdCBhcnIgPSBPYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoaykgPT4ge1xuXHRcdFx0Y29uc3QgbyA9IHRhcmdldFtrXTtcblx0XHRcdG8ubmFtZSA9IGs7XG5cdFx0XHRvLmlkID0gR2FtZS5PYmplY3RzW2tdLmlkO1xuXHRcdFx0cmV0dXJuIG87XG5cdFx0fSk7XG5cblx0XHRhcnIuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKENvbG9ycy5pbmRleE9mKGEuY29sb3IpID4gQ29sb3JzLmluZGV4T2YoYi5jb2xvcikgPyAxIDogKENvbG9ycy5pbmRleE9mKGEuY29sb3IpIDwgQ29sb3JzLmluZGV4T2YoYi5jb2xvcikgPyAtMSA6IChhLnBwIDwgYi5wcCkgPyAtMSA6IDApKTsgfSk7XG5cblx0XHRmb3IgKGxldCB4ID0gMDsgeCA8IGFyci5sZW5ndGg7IHgrKykge1xuXHRcdFx0R2FtZS5PYmplY3RzW2Fyclt4XS5uYW1lXS5sLnN0eWxlLmdyaWRSb3cgPSBgJHt4ICsgMn0vJHt4ICsgMn1gO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRjb25zdCBhcnIgPSBPYmplY3Qua2V5cyhDYWNoZU9iamVjdHMxKS5tYXAoKGspID0+IHtcblx0XHRcdGNvbnN0IG8gPSBDYWNoZU9iamVjdHMxW2tdO1xuXHRcdFx0by5uYW1lID0gaztcblx0XHRcdG8uaWQgPSBHYW1lLk9iamVjdHNba10uaWQ7XG5cdFx0XHRyZXR1cm4gbztcblx0XHR9KTtcblx0XHRhcnIuc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpO1xuXHRcdGZvciAobGV0IHggPSAwOyB4IDwgYXJyLmxlbmd0aDsgeCsrKSB7XG5cdFx0XHRHYW1lLk9iamVjdHNbYXJyW3hdLm5hbWVdLmwuc3R5bGUuZ3JpZFJvdyA9IGAke3ggKyAyfS8ke3ggKyAyfWA7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBDYWNoZVVwZ3JhZGVzIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQge1xuXHRDb2xvckJhY2tQcmUsIENvbG9yQmx1ZSwgQ29sb3JHcmF5LCBDb2xvckdyZWVuLCBDb2xvck9yYW5nZSwgQ29sb3JQdXJwbGUsIENvbG9yUmVkLCBDb2xvcnMsIENvbG9yWWVsbG93LFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkanVzdHMgc29tZSB0aGluZ3MgaW4gdGhlIHVwZ3JhZGVzIHNlY3Rpb25cbiAqIEl0IGNvbG91cnMgdGhlbSBhbmQgc2h1ZmZsZXMgdGhlIG9yZGVyIHdoZW4gQ00uT3B0aW9ucy5Tb3J0QnVpbGRpbmdzIGlzIHNldFxuICogVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBDTS5EaXNwLkRyYXcoKSwgQ00uRGlzcC5Ub2dnbGVVcGdyYWRlQmFyQW5kQ29sb3IgJiBDTS5EaXNwLlJlZnJlc2hTY2FsZSgpXG4gKiBBbmQgYnkgY2hhbmdlcyBpbiBDTS5PcHRpb25zLlNvcnRVcGdyYWRlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVVcGdyYWRlcygpIHtcblx0Ly8gVGhpcyBjb3VudHMgdGhlIGFtb3VudCBvZiB1cGdyYWRlcyBmb3IgZWFjaCBwcCBncm91cCBhbmQgdXBkYXRlcyB0aGUgVXBncmFkZSBCYXJcblx0aWYgKENNT3B0aW9ucy5VcEJhckNvbG9yID4gMCkge1xuXHRcdGxldCBibHVlID0gMDtcblx0XHRsZXQgZ3JlZW4gPSAwO1xuXHRcdGxldCB5ZWxsb3cgPSAwO1xuXHRcdGxldCBvcmFuZ2UgPSAwO1xuXHRcdGxldCByZWQgPSAwO1xuXHRcdGxldCBwdXJwbGUgPSAwO1xuXHRcdGxldCBncmF5ID0gMDtcblxuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLlVwZ3JhZGVzSW5TdG9yZSkpIHtcblx0XHRcdGNvbnN0IG1lID0gR2FtZS5VcGdyYWRlc0luU3RvcmVbaV07XG5cdFx0XHRsZXQgYWRkZWRDb2xvciA9IGZhbHNlO1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBsKGB1cGdyYWRlJHtpfWApLmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aWYgKGwoYHVwZ3JhZGUke2l9YCkuY2hpbGROb2Rlc1tqXS5jbGFzc05hbWUuaW5kZXhPZihDb2xvckJhY2tQcmUpICE9PSAtMSkge1xuXHRcdFx0XHRcdGwoYHVwZ3JhZGUke2l9YCkuY2hpbGROb2Rlc1tqXS5jbGFzc05hbWUgPSBDb2xvckJhY2tQcmUgKyBDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yO1xuXHRcdFx0XHRcdGFkZGVkQ29sb3IgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWFkZGVkQ29sb3IpIHtcblx0XHRcdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5zdHlsZS53aWR0aCA9ICcxMHB4Jztcblx0XHRcdFx0ZGl2LnN0eWxlLmhlaWdodCA9ICcxMHB4Jztcblx0XHRcdFx0ZGl2LmNsYXNzTmFtZSA9IENvbG9yQmFja1ByZSArIENhY2hlVXBncmFkZXNbbWUubmFtZV0uY29sb3I7XG5cdFx0XHRcdGwoYHVwZ3JhZGUke2l9YCkuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHRcdH1cblx0XHRcdGlmIChDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yID09PSBDb2xvckJsdWUpIGJsdWUrKztcblx0XHRcdGVsc2UgaWYgKENhY2hlVXBncmFkZXNbbWUubmFtZV0uY29sb3IgPT09IENvbG9yR3JlZW4pIGdyZWVuKys7XG5cdFx0XHRlbHNlIGlmIChDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yID09PSBDb2xvclllbGxvdykgeWVsbG93Kys7XG5cdFx0XHRlbHNlIGlmIChDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yID09PSBDb2xvck9yYW5nZSkgb3JhbmdlKys7XG5cdFx0XHRlbHNlIGlmIChDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yID09PSBDb2xvclJlZCkgcmVkKys7XG5cdFx0XHRlbHNlIGlmIChDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yID09PSBDb2xvclB1cnBsZSkgcHVycGxlKys7XG5cdFx0XHRlbHNlIGlmIChDYWNoZVVwZ3JhZGVzW21lLm5hbWVdLmNvbG9yID09PSBDb2xvckdyYXkpIGdyYXkrKztcblx0XHR9XG5cblx0XHRsKCdDTVVwZ3JhZGVCYXJCbHVlJykudGV4dENvbnRlbnQgPSBibHVlO1xuXHRcdGwoJ0NNVXBncmFkZUJhckdyZWVuJykudGV4dENvbnRlbnQgPSBncmVlbjtcblx0XHRsKCdDTVVwZ3JhZGVCYXJZZWxsb3cnKS50ZXh0Q29udGVudCA9IHllbGxvdztcblx0XHRsKCdDTVVwZ3JhZGVCYXJPcmFuZ2UnKS50ZXh0Q29udGVudCA9IG9yYW5nZTtcblx0XHRsKCdDTVVwZ3JhZGVCYXJSZWQnKS50ZXh0Q29udGVudCA9IHJlZDtcblx0XHRsKCdDTVVwZ3JhZGVCYXJQdXJwbGUnKS50ZXh0Q29udGVudCA9IHB1cnBsZTtcblx0XHRsKCdDTVVwZ3JhZGVCYXJHcmF5JykudGV4dENvbnRlbnQgPSBncmF5O1xuXHR9XG5cblx0Y29uc3QgYXJyID0gW107XG5cdC8vIEJ1aWxkIGFycmF5IG9mIHBvaW50ZXJzLCBzb3J0IGJ5IHBwLCBzZXQgZmxleCBwb3NpdGlvbnNcblx0Ly8gVGhpcyByZWd1bGF0ZXMgc29ydGluZyBvZiB1cGdyYWRlc1xuXHRmb3IgKGxldCB4ID0gMDsgeCA8IEdhbWUuVXBncmFkZXNJblN0b3JlLmxlbmd0aDsgeCsrKSB7XG5cdFx0Y29uc3QgbyA9IHt9O1xuXHRcdG8ubmFtZSA9IEdhbWUuVXBncmFkZXNJblN0b3JlW3hdLm5hbWU7XG5cdFx0by5wcmljZSA9IEdhbWUuVXBncmFkZXNJblN0b3JlW3hdLmJhc2VQcmljZTtcblx0XHRvLnBwID0gQ2FjaGVVcGdyYWRlc1tvLm5hbWVdLnBwO1xuXHRcdGFyci5wdXNoKG8pO1xuXHR9XG5cblx0aWYgKENNT3B0aW9ucy5Tb3J0VXBncmFkZXMpIHtcblx0XHRhcnIuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKENvbG9ycy5pbmRleE9mKGEuY29sb3IpID4gQ29sb3JzLmluZGV4T2YoYi5jb2xvcikgPyAxIDogKENvbG9ycy5pbmRleE9mKGEuY29sb3IpIDwgQ29sb3JzLmluZGV4T2YoYi5jb2xvcikgPyAtMSA6IChhLnBwIDwgYi5wcCkgPyAtMSA6IDApKTsgfSk7XG5cdH0gZWxzZSB7XG5cdFx0YXJyLnNvcnQoKGEsIGIpID0+IGEucHJpY2UgLSBiLnByaWNlKTtcblx0fVxuXG5cdGNvbnN0IG5hbWVDaGVja2VyID0gZnVuY3Rpb24gKGFycjIsIHVwZ3JhZGUpIHtcblx0XHRyZXR1cm4gYXJyMi5maW5kSW5kZXgoKGUpID0+IGUubmFtZSA9PT0gdXBncmFkZS5uYW1lKTtcblx0fTtcblx0Zm9yIChsZXQgeCA9IDA7IHggPCBHYW1lLlVwZ3JhZGVzSW5TdG9yZS5sZW5ndGg7IHgrKykge1xuXHRcdGwoYHVwZ3JhZGUke3h9YCkuc3R5bGUub3JkZXIgPSBuYW1lQ2hlY2tlcihhcnIsIEdhbWUuVXBncmFkZXNJblN0b3JlW3hdKSArIDE7XG5cdH1cbn1cbiIsImltcG9ydCB7XG5cdENhY2hlQXZnQ3BzLCBDYWNoZUN1cnJXcmlua2xlckNvdW50LCBDYWNoZUN1cnJXcmlua2xlckNQU011bHQsIENhY2hlV3JpbmtsZXJzRmF0dGVzdCxcbn0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjcHMgYXMgZWl0aGVyIGN1cnJlbnQgb3IgYXZlcmFnZSBDUFMgZGVwZW5kaW5nIG9uIENNLk9wdGlvbnMuQ1BTTW9kZVxuICogQHJldHVybnNcdHtudW1iZXJ9XHRUaGUgYXZlcmFnZSBvciBjdXJyZW50IGNwc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHZXRDUFMoKSB7XG5cdGlmIChDTU9wdGlvbnMuQ1BTTW9kZSkge1xuXHRcdHJldHVybiBDYWNoZUF2Z0Nwcztcblx0fSBlbHNlIGlmIChDTU9wdGlvbnMuQ2FsY1dyaW5rID09PSAwKSB7XG5cdFx0cmV0dXJuIChHYW1lLmNvb2tpZXNQcyAqICgxIC0gR2FtZS5jcHNTdWNrZWQpKTtcblx0fSBlbHNlIGlmIChDTU9wdGlvbnMuQ2FsY1dyaW5rID09PSAxKSB7XG5cdFx0cmV0dXJuIEdhbWUuY29va2llc1BzICogKENhY2hlQ3VycldyaW5rbGVyQ1BTTXVsdCArICgxIC0gKENhY2hlQ3VycldyaW5rbGVyQ291bnQgKiAwLjA1KSkpO1xuXHR9IGVsc2UgaWYgKENNT3B0aW9ucy5DYWxjV3JpbmsgPT09IDIgJiYgR2FtZS53cmlua2xlcnNbQ2FjaGVXcmlua2xlcnNGYXR0ZXN0WzFdXS50eXBlID09PSAxKSB7XG5cdFx0cmV0dXJuIEdhbWUuY29va2llc1BzICogKChDYWNoZUN1cnJXcmlua2xlckNQU011bHQgKiAzIC8gQ2FjaGVDdXJyV3JpbmtsZXJDb3VudCkgKyAoMSAtIChDYWNoZUN1cnJXcmlua2xlckNvdW50ICogMC4wNSkpKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gR2FtZS5jb29raWVzUHMgKiAoKENhY2hlQ3VycldyaW5rbGVyQ1BTTXVsdCAvIENhY2hlQ3VycldyaW5rbGVyQ291bnQpICsgKDEgLSAoQ2FjaGVDdXJyV3JpbmtsZXJDb3VudCAqIDAuMDUpKSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IENhY2hlV3JpbmtsZXJzRmF0dGVzdCwgQ2FjaGVXcmlua2xlcnNUb3RhbCB9IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG90YWwgYW1vdW50IHN0b3JlZCBpbiB0aGUgV3JpbmtsZXIgQmFua1xuICogYXMgY2FsY3VsYXRlZCBieSAgQ00uQ2FjaGUuQ2FjaGVXcmlua2xlcnMoKSBpZiBDTS5PcHRpb25zLkNhbGNXcmluayBpcyBzZXRcbiAqIEByZXR1cm5zXHR7bnVtYmVyfVx0MCBvciB0aGUgYW1vdW50IG9mIGNvb2tpZXMgc3RvcmVkIChDTS5DYWNoZS5Xcmlua2xlcnNUb3RhbClcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2V0V3JpbmtDb25maWdCYW5rKCkge1xuXHRpZiAoQ01PcHRpb25zLkNhbGNXcmluayA9PT0gMSkge1xuXHRcdHJldHVybiBDYWNoZVdyaW5rbGVyc1RvdGFsO1xuXHR9IGVsc2UgaWYgKENNT3B0aW9ucy5DYWxjV3JpbmsgPT09IDIpIHtcblx0XHRyZXR1cm4gQ2FjaGVXcmlua2xlcnNGYXR0ZXN0WzBdO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiAwO1xuXHR9XG59XG4iLCIvKiogRnVuY3Rpb25zIHRvIGNyZWF0ZSB2YXJpb3VzIERPTSBlbGVtZW50cyB1c2VkIGJ5IHRoZSBCYXJzICovXG5cbmltcG9ydCB7IENvbG9yQmFja1ByZSwgQ29sb3JCbHVlLCBDb2xvclRleHRQcmUgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYW4gaW5kaXZ1ZHVhbCB0aW1lciBmb3IgdGhlIHRpbWVyIGJhclxuICogQHBhcmFtXHR7c3RyaW5nfVx0XHRcdFx0XHRpZFx0XHRcdFx0XHRBbiBpZCB0byBpZGVudGlmeSB0aGUgdGltZXJcbiAqIEBwYXJhbVx0e3N0cmluZ31cdFx0XHRcdFx0bmFtZVx0XHRcdFx0VGhlIHRpdGxlIG9mIHRoZSB0aW1lclxuICogQHBhcmFtXHRbe3tzdHJpbmd9LCB7c3RyaW5nfX0sIC4uLl1cdGJhcnMgKFtpZCwgY29sb3JdKVx0VGhlIGlkIGFuZCBjb2xvdXJzIG9mIGluZGl2aWR1YWwgcGFydHMgb2YgdGhlIHRpbWVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVUaW1lcihpZCwgbmFtZSwgYmFycykge1xuXHRjb25zdCB0aW1lckJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHR0aW1lckJhci5pZCA9IGlkO1xuXHR0aW1lckJhci5zdHlsZS5oZWlnaHQgPSAnMTJweCc7XG5cdHRpbWVyQmFyLnN0eWxlLm1hcmdpbiA9ICcwcHggMTBweCc7XG5cdHRpbWVyQmFyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuXHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRkaXYuc3R5bGUuaGVpZ2h0ID0gJzEwcHgnO1xuXHRkaXYuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuXHRkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRkaXYuc3R5bGUubGVmdCA9ICcwcHgnO1xuXHRkaXYuc3R5bGUudG9wID0gJzBweCc7XG5cdGRpdi5zdHlsZS5yaWdodCA9ICcwcHgnO1xuXHRkaXYuc3R5bGUuYm90dG9tID0gJzBweCc7XG5cblx0Y29uc3QgdHlwZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0dHlwZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG5cdHR5cGUuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0Jztcblx0dHlwZS5zdHlsZS5mb250U2l6ZSA9ICcxMHB4Jztcblx0dHlwZS5zdHlsZS53aWR0aCA9ICcxMDhweCc7XG5cdHR5cGUuc3R5bGUubWFyZ2luUmlnaHQgPSAnNXB4Jztcblx0dHlwZS5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ3RleHQtdG9wJztcblx0dHlwZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cdGRpdi5hcHBlbmRDaGlsZCh0eXBlKTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGJhcnMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjb2xvckJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0XHRjb2xvckJhci5pZCA9IGJhcnNbaV0uaWQ7XG5cdFx0Y29sb3JCYXIuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXHRcdGNvbG9yQmFyLnN0eWxlLmhlaWdodCA9ICcxMHB4Jztcblx0XHRjb2xvckJhci5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ3RleHQtdG9wJztcblx0XHRjb2xvckJhci5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcblx0XHRpZiAoYmFycy5sZW5ndGggLSAxID09PSBpKSB7XG5cdFx0XHRjb2xvckJhci5zdHlsZS5ib3JkZXJUb3BSaWdodFJhZGl1cyA9ICcxMHB4Jztcblx0XHRcdGNvbG9yQmFyLnN0eWxlLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gJzEwcHgnO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGJhcnNbaV0uY29sb3IgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRjb2xvckJhci5jbGFzc05hbWUgPSBDb2xvckJhY2tQcmUgKyBiYXJzW2ldLmNvbG9yO1xuXHRcdH1cblx0XHRkaXYuYXBwZW5kQ2hpbGQoY29sb3JCYXIpO1xuXHR9XG5cblx0Y29uc3QgdGltZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdHRpbWVyLmlkID0gYCR7aWR9VGltZWA7XG5cdHRpbWVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnNXB4Jztcblx0dGltZXIuc3R5bGUudmVydGljYWxBbGlnbiA9ICd0ZXh0LXRvcCc7XG5cdGRpdi5hcHBlbmRDaGlsZCh0aW1lcik7XG5cblx0dGltZXJCYXIuYXBwZW5kQ2hpbGQoZGl2KTtcblxuXHRyZXR1cm4gdGltZXJCYXI7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBleHRlbmRzIHRoZSBib3R0b20gYmFyIChjcmVhdGVkIGJ5IENNLkRpc3AuQ3JlYXRlQm90QmFyKSB3aXRoIGEgY29sdW1uIGZvciB0aGUgZ2l2ZW4gYnVpbGRpbmcuXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHRidWlsZGluZ05hbWVcdE9iamVjdG5hbWUgdG8gYmUgYWRkZWQgKGUuZy4sIFwiQ3Vyc29yXCIpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVCb3RCYXJCdWlsZGluZ0NvbHVtbihidWlsZGluZ05hbWUpIHtcblx0aWYgKGwoJ0NNQm90QmFyJykgIT09IG51bGwpIHtcblx0XHRjb25zdCB0eXBlID0gbCgnQ01Cb3RCYXInKS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuY2hpbGROb2Rlc1swXTtcblx0XHRjb25zdCBib251cyA9IGwoJ0NNQm90QmFyJykuZmlyc3RDaGlsZC5maXJzdENoaWxkLmNoaWxkTm9kZXNbMV07XG5cdFx0Y29uc3QgcHAgPSBsKCdDTUJvdEJhcicpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzJdO1xuXHRcdGNvbnN0IHRpbWUgPSBsKCdDTUJvdEJhcicpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzNdO1xuXG5cdFx0Y29uc3QgaSA9IGJ1aWxkaW5nTmFtZTtcblx0XHRjb25zdCBoZWFkZXIgPSB0eXBlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpO1xuXHRcdGhlYWRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHtpLmluZGV4T2YoJyAnKSAhPT0gLTEgPyBpLnN1YnN0cmluZygwLCBpLmluZGV4T2YoJyAnKSkgOiBpfSAoYCkpO1xuXG5cdFx0Y29uc3Qgc3BhbiA9IGhlYWRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpO1xuXHRcdHNwYW4uY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgQ29sb3JCbHVlO1xuXG5cdFx0aGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcpJykpO1xuXHRcdGJvbnVzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpO1xuXHRcdHBwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpO1xuXHRcdHRpbWUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSk7XG5cdH1cbn1cbiIsIi8qKiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgQm90dG9tIEJhciAqL1xuXG5pbXBvcnQgeyBDYWNoZU9iamVjdHMxLCBDYWNoZU9iamVjdHMxMCwgQ2FjaGVPYmplY3RzMTAwIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBWZXJzaW9uTWFqb3IsIFZlcnNpb25NaW5vciB9IGZyb20gJy4uLy4uL0RhdGEvTW9kZGF0YSc7XG5pbXBvcnQgeyBCZWF1dGlmeSwgR2V0VGltZUNvbG9yIH0gZnJvbSAnLi4vQmVhdXRpZnlBbmRGb3JtYXR0aW5nL0JlYXV0aWZ5Rm9ybWF0dGluZyc7XG5pbXBvcnQgR2V0Q1BTIGZyb20gJy4uL0hlbHBlckZ1bmN0aW9ucy9HZXRDUFMnO1xuaW1wb3J0IEdldFdyaW5rQ29uZmlnQmFuayBmcm9tICcuLi9IZWxwZXJGdW5jdGlvbnMvR2V0V3JpbmtDb25maWdCYW5rJztcbmltcG9ydCB7XG5cdENvbG9yQmx1ZSwgQ29sb3JUZXh0UHJlLCBDb2xvclllbGxvdywgTGFzdFRhcmdldEJvdEJhcixcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDcmVhdGVCb3RCYXJCdWlsZGluZ0NvbHVtbiB9IGZyb20gJy4vQ3JlYXRlRE9NRWxlbWVudHMnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgYm90dG9tIGJhciBhbmQgYXBwZW5kcyBpdCB0byBsKCd3cmFwcGVyJylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUJvdEJhcigpIHtcblx0Y29uc3QgQm90QmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdEJvdEJhci5pZCA9ICdDTUJvdEJhcic7XG5cdEJvdEJhci5zdHlsZS5oZWlnaHQgPSAnNjlweCc7XG5cdEJvdEJhci5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0Qm90QmFyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0Qm90QmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdEJvdEJhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI2MjIyNCc7XG5cdEJvdEJhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzRkNDU0OCwgIzAwMDAwMCknO1xuXHRCb3RCYXIuc3R5bGUuYm9yZGVyVG9wID0gJzFweCBzb2xpZCBibGFjayc7XG5cdEJvdEJhci5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcblx0Qm90QmFyLnN0eWxlLnRleHRTaGFkb3cgPSAnLTFweCAwIGJsYWNrLCAwIDFweCBibGFjaywgMXB4IDAgYmxhY2ssIDAgLTFweCBibGFjayc7XG5cblx0Y29uc3QgdGFibGUgPSBCb3RCYXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKSk7XG5cdHRhYmxlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHR0YWJsZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcblx0dGFibGUuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xuXHRjb25zdCB0Ym9keSA9IHRhYmxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5JykpO1xuXG5cdGNvbnN0IGZpcnN0Q29sID0gZnVuY3Rpb24gKHRleHQsIGNvbG9yKSB7XG5cdFx0Y29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuXHRcdHRkLnN0eWxlLnRleHRBbGlnbiA9ICdyaWdodCc7XG5cdFx0dGQuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgY29sb3I7XG5cdFx0dGQudGV4dENvbnRlbnQgPSB0ZXh0O1xuXHRcdHJldHVybiB0ZDtcblx0fTtcblx0Y29uc3QgdHlwZSA9IHRib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJykpO1xuXHR0eXBlLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdHR5cGUuYXBwZW5kQ2hpbGQoZmlyc3RDb2woYENNICR7VmVyc2lvbk1ham9yfS4ke1ZlcnNpb25NaW5vcn1gLCBDb2xvclllbGxvdykpO1xuXHRjb25zdCBib251cyA9IHRib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJykpO1xuXHRib251cy5hcHBlbmRDaGlsZChmaXJzdENvbCgnQm9udXMgSW5jb21lJywgQ29sb3JCbHVlKSk7XG5cdGNvbnN0IHBwID0gdGJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSk7XG5cdHBwLmFwcGVuZENoaWxkKGZpcnN0Q29sKCdQYXliYWNrIFBlcmlvZCcsIENvbG9yQmx1ZSkpO1xuXHRjb25zdCB0aW1lID0gdGJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSk7XG5cdHRpbWUuYXBwZW5kQ2hpbGQoZmlyc3RDb2woJ1RpbWUgTGVmdCcsIENvbG9yQmx1ZSkpO1xuXG5cdGwoJ3dyYXBwZXInKS5hcHBlbmRDaGlsZChCb3RCYXIpO1xuXG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHMpKSB7XG5cdFx0Q3JlYXRlQm90QmFyQnVpbGRpbmdDb2x1bW4oaSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIGJvbnVzLSwgcHAtLCBhbmQgdGltZS1yb3dzIGluIHRoZSB0aGUgYm90dG9tIGJhclxuICovXG5leHBvcnQgZnVuY3Rpb24gVXBkYXRlQm90QmFyKCkge1xuXHRpZiAoQ01PcHRpb25zLkJvdEJhciA9PT0gMSAmJiBDYWNoZU9iamVjdHMxICYmIEdhbWUuYnV5TW9kZSA9PT0gMSkge1xuXHRcdGxldCBjb3VudCA9IDA7XG5cdFx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKENhY2hlT2JqZWN0czEpKSB7XG5cdFx0XHRsZXQgdGFyZ2V0ID0gR2FtZS5idXlCdWxrO1xuXHRcdFx0aWYgKEdhbWUuYnV5TW9kZSA9PT0gMSkge1xuXHRcdFx0XHRMYXN0VGFyZ2V0Qm90QmFyID0gdGFyZ2V0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFyZ2V0ID0gTGFzdFRhcmdldEJvdEJhcjtcblx0XHRcdH1cblx0XHRcdGlmICh0YXJnZXQgPT09IDEpIHRhcmdldCA9IENhY2hlT2JqZWN0czE7XG5cdFx0XHRpZiAodGFyZ2V0ID09PSAxMCkgdGFyZ2V0ID0gQ2FjaGVPYmplY3RzMTA7XG5cdFx0XHRpZiAodGFyZ2V0ID09PSAxMDApIHRhcmdldCA9IENhY2hlT2JqZWN0czEwMDtcblx0XHRcdGNvdW50Kys7XG5cdFx0XHRsKCdDTUJvdEJhcicpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbY291bnRdLmNoaWxkTm9kZXNbMV0udGV4dENvbnRlbnQgPSBHYW1lLk9iamVjdHNbaV0uYW1vdW50O1xuXHRcdFx0bCgnQ01Cb3RCYXInKS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2NvdW50XS50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KHRhcmdldFtpXS5ib251cywgMik7XG5cdFx0XHRsKCdDTUJvdEJhcicpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzJdLmNoaWxkTm9kZXNbY291bnRdLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIHRhcmdldFtpXS5jb2xvcjtcblx0XHRcdGwoJ0NNQm90QmFyJykuZmlyc3RDaGlsZC5maXJzdENoaWxkLmNoaWxkTm9kZXNbMl0uY2hpbGROb2Rlc1tjb3VudF0udGV4dENvbnRlbnQgPSBCZWF1dGlmeSh0YXJnZXRbaV0ucHAsIDIpO1xuXHRcdFx0Y29uc3QgdGltZUNvbG9yID0gR2V0VGltZUNvbG9yKChHYW1lLk9iamVjdHNbaV0uYnVsa1ByaWNlIC0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSkgLyBHZXRDUFMoKSk7XG5cdFx0XHRsKCdDTUJvdEJhcicpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzNdLmNoaWxkTm9kZXNbY291bnRdLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIHRpbWVDb2xvci5jb2xvcjtcblx0XHRcdGlmICh0aW1lQ29sb3IudGV4dCA9PT0gJ0RvbmUhJyAmJiBHYW1lLmNvb2tpZXMgPCBHYW1lLk9iamVjdHNbaV0uYnVsa1ByaWNlKSB7XG5cdFx0XHRcdGwoJ0NNQm90QmFyJykuZmlyc3RDaGlsZC5maXJzdENoaWxkLmNoaWxkTm9kZXNbM10uY2hpbGROb2Rlc1tjb3VudF0udGV4dENvbnRlbnQgPSBgJHt0aW1lQ29sb3IudGV4dH0gKHdpdGggV3JpbmspYDtcblx0XHRcdH0gZWxzZSBsKCdDTUJvdEJhcicpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzNdLmNoaWxkTm9kZXNbY291bnRdLnRleHRDb250ZW50ID0gdGltZUNvbG9yLnRleHQ7XG5cdFx0fVxuXHR9XG59XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gc2V0cyB0aGUgc2l6ZSBvZiB0aGUgYmFja2dyb3VuZCBvZiB0aGUgZnVsbCBnYW1lIGFuZCB0aGUgbGVmdCBjb2x1bW5cbiAqIGRlcGVuZGluZyBvbiB3aGV0aGVyIGNlcnRhaW4gYWJycyBhcmUgYWN0aXZhdGVkXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uRGlzcC5VcGRhdGVBc2NlbmRTdGF0ZSgpIGFuZCBDTS5EaXNwLlVwZGF0ZUJvdFRpbWVyQmFyUG9zaXRpb24oKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVCYWNrZ3JvdW5kKCkge1xuXHRHYW1lLkJhY2tncm91bmQuY2FudmFzLndpZHRoID0gR2FtZS5CYWNrZ3JvdW5kLmNhbnZhcy5wYXJlbnROb2RlLm9mZnNldFdpZHRoO1xuXHRHYW1lLkJhY2tncm91bmQuY2FudmFzLmhlaWdodCA9IEdhbWUuQmFja2dyb3VuZC5jYW52YXMucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQ7XG5cdEdhbWUuTGVmdEJhY2tncm91bmQuY2FudmFzLndpZHRoID0gR2FtZS5MZWZ0QmFja2dyb3VuZC5jYW52YXMucGFyZW50Tm9kZS5vZmZzZXRXaWR0aDtcblx0R2FtZS5MZWZ0QmFja2dyb3VuZC5jYW52YXMuaGVpZ2h0ID0gR2FtZS5MZWZ0QmFja2dyb3VuZC5jYW52YXMucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQ7XG59XG4iLCIvKiogQ2FsbGVkIGJ5IHRoZSBcImZ1bmNcIiBvZiBpbmRpdmlkdWFsIHNldHRpbmdzICovXG5cbmltcG9ydCBVcGRhdGVCYWNrZ3JvdW5kIGZyb20gJy4uL0Rpc3AvSGVscGVyRnVuY3Rpb25zL1VwZGF0ZUJhY2tncm91bmQnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGJvdGggdGhlIGJvdHRvbSBhbmQgdGltZXIgYmFyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVCb3RUaW1lckJhclBvc2l0aW9uKCkge1xuXHRpZiAoQ01PcHRpb25zLkJvdEJhciA9PT0gMSAmJiBDTU9wdGlvbnMuVGltZXJCYXIgPT09IDEgJiYgQ01PcHRpb25zLlRpbWVyQmFyUG9zID09PSAxKSB7XG5cdFx0bCgnQ01Cb3RCYXInKS5zdHlsZS5ib3R0b20gPSBsKCdDTVRpbWVyQmFyJykuc3R5bGUuaGVpZ2h0O1xuXHRcdGwoJ2dhbWUnKS5zdHlsZS5ib3R0b20gPSBgJHtOdW1iZXIobCgnQ01UaW1lckJhcicpLnN0eWxlLmhlaWdodC5yZXBsYWNlKCdweCcsICcnKSkgKyA3MH1weGA7XG5cdH0gZWxzZSBpZiAoQ01PcHRpb25zLkJvdEJhciA9PT0gMSkge1xuXHRcdGwoJ0NNQm90QmFyJykuc3R5bGUuYm90dG9tID0gJzBweCc7XG5cdFx0bCgnZ2FtZScpLnN0eWxlLmJvdHRvbSA9ICc3MHB4Jztcblx0fSBlbHNlIGlmIChDTU9wdGlvbnMuVGltZXJCYXIgPT09IDEgJiYgQ01PcHRpb25zLlRpbWVyQmFyUG9zID09PSAxKSB7XG5cdFx0bCgnZ2FtZScpLnN0eWxlLmJvdHRvbSA9IGwoJ0NNVGltZXJCYXInKS5zdHlsZS5oZWlnaHQ7XG5cdH0gZWxzZSB7IC8vIE5vIGJhcnNcblx0XHRsKCdnYW1lJykuc3R5bGUuYm90dG9tID0gJzBweCc7XG5cdH1cblxuXHRpZiAoQ01PcHRpb25zLlRpbWVyQmFyID09PSAxICYmIENNT3B0aW9ucy5UaW1lckJhclBvcyA9PT0gMCkge1xuXHRcdGwoJ3NlY3Rpb25MZWZ0Jykuc3R5bGUudG9wID0gbCgnQ01UaW1lckJhcicpLnN0eWxlLmhlaWdodDtcblx0fSBlbHNlIHtcblx0XHRsKCdzZWN0aW9uTGVmdCcpLnN0eWxlLnRvcCA9ICcnO1xuXHR9XG5cblx0VXBkYXRlQmFja2dyb3VuZCgpO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hhbmdlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgdGltZXIgYmFyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUb2dnbGVUaW1lckJhcigpIHtcblx0aWYgKENNT3B0aW9ucy5UaW1lckJhciA9PT0gMSkgbCgnQ01UaW1lckJhcicpLnN0eWxlLmRpc3BsYXkgPSAnJztcblx0ZWxzZSBsKCdDTVRpbWVyQmFyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0VXBkYXRlQm90VGltZXJCYXJQb3NpdGlvbigpO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHRpbWVyIGJhclxuICovXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlVGltZXJCYXJQb3MoKSB7XG5cdGlmIChDTU9wdGlvbnMuVGltZXJCYXJQb3MgPT09IDApIHtcblx0XHRsKCdDTVRpbWVyQmFyJykuc3R5bGUud2lkdGggPSAnMzAlJztcblx0XHRsKCdDTVRpbWVyQmFyJykuc3R5bGUuYm90dG9tID0gJyc7XG5cdFx0bCgnZ2FtZScpLmluc2VydEJlZm9yZShsKCdDTVRpbWVyQmFyJyksIGwoJ3NlY3Rpb25MZWZ0JykpO1xuXHR9IGVsc2Uge1xuXHRcdGwoJ0NNVGltZXJCYXInKS5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRsKCdDTVRpbWVyQmFyJykuc3R5bGUuYm90dG9tID0gJzBweCc7XG5cdFx0bCgnd3JhcHBlcicpLmFwcGVuZENoaWxkKGwoJ0NNVGltZXJCYXInKSk7XG5cdH1cblx0VXBkYXRlQm90VGltZXJCYXJQb3NpdGlvbigpO1xufVxuIiwiLyoqIEZ1bmN0aW9ucyByZWxhdGVkIHRvIHRoZSBUaW1lciBCYXIgKi9cblxuaW1wb3J0IHsgVXBkYXRlQm90VGltZXJCYXJQb3NpdGlvbiB9IGZyb20gJy4uLy4uL0NvbmZpZy9TcGVjaWZpY1RvZ2dsZXMnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHtcblx0QnVmZkNvbG9ycyxcblx0Q29sb3JCYWNrUHJlLCBDb2xvckdyYXksIENvbG9yT3JhbmdlLCBDb2xvclB1cnBsZSwgTGFzdE51bWJlck9mVGltZXJzLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENyZWF0ZVRpbWVyIH0gZnJvbSAnLi9DcmVhdGVET01FbGVtZW50cyc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHRoZSBUaW1lckJhciBhbmQgYXBwZW5kcyBpdCB0byBsKCd3cmFwcGVyJylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVRpbWVyQmFyKCkge1xuXHRjb25zdCBUaW1lckJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRUaW1lckJhci5pZCA9ICdDTVRpbWVyQmFyJztcblx0VGltZXJCYXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRUaW1lckJhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRUaW1lckJhci5zdHlsZS5oZWlnaHQgPSAnMHB4Jztcblx0VGltZXJCYXIuc3R5bGUuZm9udFNpemUgPSAnMTBweCc7XG5cdFRpbWVyQmFyLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdFRpbWVyQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdibGFjayc7XG5cblx0Ly8gQ3JlYXRlIHN0YW5kYXJkIEdvbGRlbiBDb29raWUgYmFyXG5cdGNvbnN0IENNVGltZXJCYXJHQyA9IENyZWF0ZVRpbWVyKCdDTVRpbWVyQmFyR0MnLFxuXHRcdCdOZXh0IENvb2tpZScsXG5cdFx0W3sgaWQ6ICdDTVRpbWVyQmFyR0NNaW5CYXInLCBjb2xvcjogQ29sb3JHcmF5IH0sIHsgaWQ6ICdDTVRpbWVyQmFyR0NCYXInLCBjb2xvcjogQ29sb3JQdXJwbGUgfV0pO1xuXHRUaW1lckJhci5hcHBlbmRDaGlsZChDTVRpbWVyQmFyR0MpO1xuXG5cdC8vIENyZWF0ZSBzdGFuZGFyZCBSZWluZGVlciBiYXJcblx0Y29uc3QgQ01UaW1lckJhclJlbiA9IENyZWF0ZVRpbWVyKCdDTVRpbWVyQmFyUmVuJyxcblx0XHQnTmV4dCBSZWluZGVlcicsXG5cdFx0W3sgaWQ6ICdDTVRpbWVyQmFyUmVuTWluQmFyJywgY29sb3I6IENvbG9yR3JheSB9LCB7IGlkOiAnQ01UaW1lckJhclJlbkJhcicsIGNvbG9yOiBDb2xvck9yYW5nZSB9XSk7XG5cdFRpbWVyQmFyLmFwcGVuZENoaWxkKENNVGltZXJCYXJSZW4pO1xuXG5cdGwoJ3dyYXBwZXInKS5hcHBlbmRDaGlsZChUaW1lckJhcik7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIGluZGl2dWR1YWwgdGltZXJzIGluIHRoZSB0aW1lciBiYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0ZVRpbWVyQmFyKCkge1xuXHRpZiAoQ01PcHRpb25zLlRpbWVyQmFyID09PSAxKSB7XG5cdFx0Ly8gbGFiZWwgd2lkdGg6IDExMywgdGltZXIgd2lkdGg6IDMwLCBkaXYgbWFyZ2luOiAyMFxuXHRcdGNvbnN0IG1heFdpZHRoVHdvQmFyID0gbCgnQ01UaW1lckJhcicpLm9mZnNldFdpZHRoIC0gMTYzO1xuXHRcdC8vIGxhYmVsIHdpZHRoOiAxMTMsIGRpdiBtYXJnaW46IDIwLCBjYWxjdWxhdGUgdGltZXIgd2lkdGggYXQgcnVudGltZVxuXHRcdGNvbnN0IG1heFdpZHRoT25lQmFyID0gbCgnQ01UaW1lckJhcicpLm9mZnNldFdpZHRoIC0gMTMzO1xuXHRcdGxldCBudW1iZXJPZlRpbWVycyA9IDA7XG5cblx0XHQvLyBSZWd1bGF0ZXMgdmlzaWJpbGl0eSBvZiBHb2xkZW4gQ29va2llIHRpbWVyXG5cdFx0aWYgKEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi5zcGF3bmVkID09PSAwICYmICFHYW1lLkhhcygnR29sZGVuIHN3aXRjaCBbb2ZmXScpKSB7XG5cdFx0XHRsKCdDTVRpbWVyQmFyR0MnKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRsKCdDTVRpbWVyQmFyR0NNaW5CYXInKS5zdHlsZS53aWR0aCA9IGAke01hdGgucm91bmQoTWF0aC5tYXgoMCwgR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm1pblRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4udGltZSkgKiBtYXhXaWR0aFR3b0JhciAvIEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi5tYXhUaW1lKX1weGA7XG5cdFx0XHRpZiAoQ01PcHRpb25zLlRpbWVyQmFyT3ZlcmxheSA+PSAxKSBsKCdDTVRpbWVyQmFyR0NNaW5CYXInKS50ZXh0Q29udGVudCA9IE1hdGguY2VpbCgoR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm1pblRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4udGltZSkgLyBHYW1lLmZwcyk7XG5cdFx0XHRlbHNlIGwoJ0NNVGltZXJCYXJHQ01pbkJhcicpLnRleHRDb250ZW50ID0gJyc7XG5cdFx0XHRpZiAoR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm1pblRpbWUgPT09IEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi5tYXhUaW1lKSB7XG5cdFx0XHRcdGwoJ0NNVGltZXJCYXJHQ01pbkJhcicpLnN0eWxlLmJvcmRlclRvcFJpZ2h0UmFkaXVzID0gJzEwcHgnO1xuXHRcdFx0XHRsKCdDTVRpbWVyQmFyR0NNaW5CYXInKS5zdHlsZS5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9ICcxMHB4Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGwoJ0NNVGltZXJCYXJHQ01pbkJhcicpLnN0eWxlLmJvcmRlclRvcFJpZ2h0UmFkaXVzID0gJyc7XG5cdFx0XHRcdGwoJ0NNVGltZXJCYXJHQ01pbkJhcicpLnN0eWxlLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gJyc7XG5cdFx0XHR9XG5cdFx0XHRsKCdDTVRpbWVyQmFyR0NCYXInKS5zdHlsZS53aWR0aCA9IGAke01hdGgucm91bmQoTWF0aC5taW4oR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm1heFRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4ubWluVGltZSwgR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm1heFRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4udGltZSkgKiBtYXhXaWR0aFR3b0JhciAvIEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi5tYXhUaW1lKX1weGA7XG5cdFx0XHRpZiAoQ01PcHRpb25zLlRpbWVyQmFyT3ZlcmxheSA+PSAxKSBsKCdDTVRpbWVyQmFyR0NCYXInKS50ZXh0Q29udGVudCA9IE1hdGguY2VpbChNYXRoLm1pbihHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4ubWF4VGltZSAtIEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi5taW5UaW1lLCBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4ubWF4VGltZSAtIEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi50aW1lKSAvIEdhbWUuZnBzKTtcblx0XHRcdGVsc2UgbCgnQ01UaW1lckJhckdDQmFyJykudGV4dENvbnRlbnQgPSAnJztcblx0XHRcdGwoJ0NNVGltZXJCYXJHQ1RpbWUnKS50ZXh0Q29udGVudCA9IE1hdGguY2VpbCgoR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm1heFRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4udGltZSkgLyBHYW1lLmZwcyk7XG5cdFx0XHRudW1iZXJPZlRpbWVycysrO1xuXHRcdH0gZWxzZSBsKCdDTVRpbWVyQmFyR0MnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0Ly8gUmVndWxhdGVzIHZpc2liaWxpdHkgb2YgUmVpbmRlZXIgdGltZXJcblx0XHRpZiAoR2FtZS5zZWFzb24gPT09ICdjaHJpc3RtYXMnICYmIEdhbWUuc2hpbW1lclR5cGVzLnJlaW5kZWVyLnNwYXduZWQgPT09IDApIHtcblx0XHRcdGwoJ0NNVGltZXJCYXJSZW4nKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRsKCdDTVRpbWVyQmFyUmVuTWluQmFyJykuc3R5bGUud2lkdGggPSBgJHtNYXRoLnJvdW5kKE1hdGgubWF4KDAsIEdhbWUuc2hpbW1lclR5cGVzLnJlaW5kZWVyLm1pblRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci50aW1lKSAqIG1heFdpZHRoVHdvQmFyIC8gR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIubWF4VGltZSl9cHhgO1xuXHRcdFx0aWYgKENNT3B0aW9ucy5UaW1lckJhck92ZXJsYXkgPj0gMSkgbCgnQ01UaW1lckJhclJlbk1pbkJhcicpLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKChHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci5taW5UaW1lIC0gR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIudGltZSkgLyBHYW1lLmZwcyk7XG5cdFx0XHRlbHNlIGwoJ0NNVGltZXJCYXJSZW5NaW5CYXInKS50ZXh0Q29udGVudCA9ICcnO1xuXHRcdFx0bCgnQ01UaW1lckJhclJlbkJhcicpLnN0eWxlLndpZHRoID0gYCR7TWF0aC5yb3VuZChNYXRoLm1pbihHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci5tYXhUaW1lIC0gR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIubWluVGltZSwgR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIubWF4VGltZSAtIEdhbWUuc2hpbW1lclR5cGVzLnJlaW5kZWVyLnRpbWUpICogbWF4V2lkdGhUd29CYXIgLyBHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci5tYXhUaW1lKX1weGA7XG5cdFx0XHRpZiAoQ01PcHRpb25zLlRpbWVyQmFyT3ZlcmxheSA+PSAxKSBsKCdDTVRpbWVyQmFyUmVuQmFyJykudGV4dENvbnRlbnQgPSBNYXRoLmNlaWwoTWF0aC5taW4oR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIubWF4VGltZSAtIEdhbWUuc2hpbW1lclR5cGVzLnJlaW5kZWVyLm1pblRpbWUsIEdhbWUuc2hpbW1lclR5cGVzLnJlaW5kZWVyLm1heFRpbWUgLSBHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci50aW1lKSAvIEdhbWUuZnBzKTtcblx0XHRcdGVsc2UgbCgnQ01UaW1lckJhclJlbkJhcicpLnRleHRDb250ZW50ID0gJyc7XG5cdFx0XHRsKCdDTVRpbWVyQmFyUmVuVGltZScpLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKChHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci5tYXhUaW1lIC0gR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIudGltZSkgLyBHYW1lLmZwcyk7XG5cdFx0XHRudW1iZXJPZlRpbWVycysrO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsKCdDTVRpbWVyQmFyUmVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHR9XG5cblx0XHQvLyBPbiBldmVyeSBmcmFtZSBhbGwgYnVmZi10aW1lcnMgYXJlIGRlbGV0ZWQgYW5kIHJlLWNyZWF0ZWRcblx0XHRjb25zdCBCdWZmVGltZXJCYXJzID0ge307XG5cdFx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuYnVmZnMpKSB7XG5cdFx0XHRpZiAoR2FtZS5idWZmc1tpXSkge1xuXHRcdFx0XHRjb25zdCB0aW1lciA9IENyZWF0ZVRpbWVyKEdhbWUuYnVmZnNbaV0ubmFtZSwgR2FtZS5idWZmc1tpXS5uYW1lLCBbeyBpZDogYCR7R2FtZS5idWZmc1tpXS5uYW1lfUJhcmAgfV0pO1xuXHRcdFx0XHR0aW1lci5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRcdGxldCBjbGFzc0NvbG9yID0gJyc7XG5cdFx0XHRcdC8vIEdpdmVzIHNwZWNpZmljIHRpbWVycyBzcGVjaWZpYyBjb2xvcnNcblx0XHRcdFx0aWYgKHR5cGVvZiBCdWZmQ29sb3JzW0dhbWUuYnVmZnNbaV0ubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0Y2xhc3NDb2xvciA9IEJ1ZmZDb2xvcnNbR2FtZS5idWZmc1tpXS5uYW1lXTtcblx0XHRcdFx0fSBlbHNlIGNsYXNzQ29sb3IgPSBDb2xvclB1cnBsZTtcblx0XHRcdFx0dGltZXIubGFzdENoaWxkLmNoaWxkcmVuWzFdLmNsYXNzTmFtZSA9IENvbG9yQmFja1ByZSArIGNsYXNzQ29sb3I7XG5cdFx0XHRcdHRpbWVyLmxhc3RDaGlsZC5jaGlsZHJlblsxXS5zdHlsZS5jb2xvciA9ICdibGFjayc7XG5cdFx0XHRcdGlmIChDTU9wdGlvbnMuVGltZXJCYXJPdmVybGF5ID09PSAyKSB0aW1lci5sYXN0Q2hpbGQuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKDEwMCAqIChHYW1lLmJ1ZmZzW2ldLnRpbWUgLyBHYW1lLmJ1ZmZzW2ldLm1heFRpbWUpKX0lYDtcblx0XHRcdFx0ZWxzZSB0aW1lci5sYXN0Q2hpbGQuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSAnJztcblx0XHRcdFx0dGltZXIubGFzdENoaWxkLmNoaWxkcmVuWzFdLnN0eWxlLndpZHRoID0gYCR7TWF0aC5yb3VuZChHYW1lLmJ1ZmZzW2ldLnRpbWUgKiAobWF4V2lkdGhPbmVCYXIgLSBNYXRoLmNlaWwoR2FtZS5idWZmc1tpXS50aW1lIC8gR2FtZS5mcHMpLnRvU3RyaW5nKCkubGVuZ3RoICogOCkgLyBHYW1lLmJ1ZmZzW2ldLm1heFRpbWUpfXB4YDtcblx0XHRcdFx0dGltZXIubGFzdENoaWxkLmNoaWxkcmVuWzJdLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKEdhbWUuYnVmZnNbaV0udGltZSAvIEdhbWUuZnBzKTtcblx0XHRcdFx0bnVtYmVyT2ZUaW1lcnMrKztcblx0XHRcdFx0QnVmZlRpbWVyQmFyc1tHYW1lLmJ1ZmZzW2ldLm5hbWVdID0gdGltZXI7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhCdWZmVGltZXJCYXJzKSkge1xuXHRcdFx0bCgnQ01UaW1lckJhcicpLmFwcGVuZENoaWxkKEJ1ZmZUaW1lckJhcnNbaV0pO1xuXHRcdH1cblxuXHRcdGlmIChudW1iZXJPZlRpbWVycyAhPT0gMCkge1xuXHRcdFx0bCgnQ01UaW1lckJhcicpLnN0eWxlLmhlaWdodCA9IGAke251bWJlck9mVGltZXJzICogMTIgKyAyfXB4YDtcblx0XHR9XG5cdFx0aWYgKExhc3ROdW1iZXJPZlRpbWVycyAhPT0gbnVtYmVyT2ZUaW1lcnMpIHtcblx0XHRcdExhc3ROdW1iZXJPZlRpbWVycyA9IG51bWJlck9mVGltZXJzO1xuXHRcdFx0VXBkYXRlQm90VGltZXJCYXJQb3NpdGlvbigpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmVmcmVzaGVzIHRoZSBzdGF0cyBwYWdlLCBDTS5PcHRpb25zLlVwU3RhdHMgZGV0ZXJtaW5lcyB0aGUgcmF0ZSBhdCB3aGljaCB0aGF0IGhhcHBlbnNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5EaXNwLkRyYXcoKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZWZyZXNoTWVudSgpIHtcblx0aWYgKENNT3B0aW9ucy5VcFN0YXRzICYmIEdhbWUub25NZW51ID09PSAnc3RhdHMnICYmIChHYW1lLmRyYXdUIC0gMSkgJSAoR2FtZS5mcHMgKiA1KSAhPT0gMCAmJiAoR2FtZS5kcmF3VCAtIDEpICUgR2FtZS5mcHMgPT09IDApIEdhbWUuVXBkYXRlTWVudSgpO1xufVxuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1cnJlbnQgQ1BTIGJ1ZmZcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHRtdWx0XHRUaGUgbXVsdGlwbGllclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHZXRDUFNCdWZmTXVsdCgpIHtcblx0bGV0IG11bHQgPSAxO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5idWZmcykpIHtcblx0XHRpZiAodHlwZW9mIEdhbWUuYnVmZnNbaV0ubXVsdENwUyAhPT0gJ3VuZGVmaW5lZCcpIG11bHQgKj0gR2FtZS5idWZmc1tpXS5tdWx0Q3BTO1xuXHR9XG5cdHJldHVybiBtdWx0O1xufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB0b2dnbGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgd2FybmluZ3MgY3JlYXRlZCBieSBDTS5EaXNwLlRvb2x0aXBDcmVhdGVXYXJuaW5nU2VjdGlvbigpXG4gKiBJdCBpcyBjYWxsZWQgYnkgYSBjaGFuZ2UgaW4gQ00uT3B0aW9ucy5Ub29sV2FyblBvc1xuICogYW5kIHVwb24gY3JlYXRpb24gb2YgdGhlIHdhcm5pbmcgdG9vbHRpcCBieSBDTS5EaXNwLlVwZGF0ZVRvb2x0aXBXYXJuaW5ncygpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvZ2dsZVRvb2xXYXJuUG9zKCkge1xuXHRpZiAobCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKSAhPT0gbnVsbCkge1xuXHRcdGlmIChDTU9wdGlvbnMuVG9vbFdhcm5Qb3MgPT09IDApIHtcblx0XHRcdGwoJ0NNRGlzcFRvb2x0aXBXYXJuaW5nUGFyZW50Jykuc3R5bGUudG9wID0gJ2F1dG8nO1xuXHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKS5zdHlsZS5tYXJnaW4gPSAnNHB4IC00cHgnO1xuXHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKS5zdHlsZS5wYWRkaW5nID0gJzNweCA0cHgnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsKCdDTURpc3BUb29sdGlwV2FybmluZ1BhcmVudCcpLnN0eWxlLnJpZ2h0ID0gJ2F1dG8nO1xuXHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKS5zdHlsZS5tYXJnaW4gPSAnNHB4Jztcblx0XHRcdGwoJ0NNRGlzcFRvb2x0aXBXYXJuaW5nUGFyZW50Jykuc3R5bGUucGFkZGluZyA9ICc0cHggM3B4Jztcblx0XHR9XG5cdH1cbn1cbiIsIi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSB0aW1lIGl0IHRha2VzIHRvIHJlYWNoIGEgY2VydGFpbiBtYWdpYyBsZXZlbFxuICogQHBhcmFtXHR7bnVtYmVyfVx0Y3VycmVudE1hZ2ljXHRcdFRoZSBjdXJyZW50IG1hZ2ljIGxldmVsXG4gKiBAcGFyYW1cdHtudW1iZXJ9XHRtYXhNYWdpY1x0XHRcdFRoZSB1c2VyJ3MgbWF4IG1hZ2ljIGxldmVsXG4gKiBAcGFyYW1cdHtudW1iZXJ9XHR0YXJnZXRNYWdpY1x0XHRcdFRoZSB0YXJnZXQgbWFnaWMgbGV2ZWxcbiAqIEByZXR1cm5zXHR7bnVtYmVyfVx0Y291bnQgLyBHYW1lLmZwc1x0VGhlIHRpbWUgaXQgdGFrZXMgdG8gcmVhY2ggdGFyZ2V0TWFnaWNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FsY3VsYXRlR3JpbW9pcmVSZWZpbGxUaW1lKGN1cnJlbnRNYWdpYywgbWF4TWFnaWMsIHRhcmdldE1hZ2ljKSB7XG5cdGxldCBjb3VudCA9IDA7XG5cdHdoaWxlIChjdXJyZW50TWFnaWMgPCB0YXJnZXRNYWdpYykge1xuXHRcdGN1cnJlbnRNYWdpYyArPSBNYXRoLm1heCgwLjAwMiwgKGN1cnJlbnRNYWdpYyAvIE1hdGgubWF4KG1heE1hZ2ljLCAxMDApKSAqKiAwLjUpICogMC4wMDI7XG5cdFx0Y291bnQrKztcblx0fVxuXHRyZXR1cm4gY291bnQgLyBHYW1lLmZwcztcbn1cbiIsImltcG9ydCB7XG5cdENvbG9yR3JheSwgQ29sb3JHcmVlbiwgQ29sb3JPcmFuZ2UsIENvbG9yUHVycGxlLCBDb2xvclJlZCwgQ29sb3JZZWxsb3csXG59IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBOYW1lIGFuZCBDb2xvciBhcyBvYmplY3QgZm9yIHN1Z2FyIGx1bXAgdHlwZSB0aGF0IGlzIGdpdmVuIGFzIGlucHV0IHBhcmFtLlxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuVXBkYXRlVG9vbHRpcFN1Z2FyTHVtcCgpXG4gKiBAcGFyYW0gXHR7c3RyaW5nfSBcdFx0XHRcdHR5cGUgXHRcdFx0U3VnYXIgTHVtcCBUeXBlLlxuICogQHJldHVybnMge3tzdHJpbmd9LCB7c3RyaW5nfX1cdHRleHQsIGNvbG9yXHRcdEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHRleHQgYW5kIGRpc3BsYXktY29sb3Igb2YgdGhlIHN1Z2FyIGx1bXBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2V0THVtcENvbG9yKHR5cGUpIHtcblx0aWYgKHR5cGUgPT09IDApIHtcblx0XHRyZXR1cm4geyB0ZXh0OiAnTm9ybWFsJywgY29sb3I6IENvbG9yR3JheSB9O1xuXHR9IGVsc2UgaWYgKHR5cGUgPT09IDEpIHtcblx0XHRyZXR1cm4geyB0ZXh0OiAnQmlmdXJjYXRlZCcsIGNvbG9yOiBDb2xvckdyZWVuIH07XG5cdH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xuXHRcdHJldHVybiB7IHRleHQ6ICdHb2xkZW4nLCBjb2xvcjogQ29sb3JZZWxsb3cgfTtcblx0fSBlbHNlIGlmICh0eXBlID09PSAzKSB7XG5cdFx0cmV0dXJuIHsgdGV4dDogJ01lYXR5JywgY29sb3I6IENvbG9yT3JhbmdlIH07XG5cdH0gZWxzZSBpZiAodHlwZSA9PT0gNCkge1xuXHRcdHJldHVybiB7IHRleHQ6ICdDYXJhbWVsaXplZCcsIGNvbG9yOiBDb2xvclB1cnBsZSB9O1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB7IHRleHQ6ICdVbmtub3duIFN1Z2FyIEx1bXAnLCBjb2xvcjogQ29sb3JSZWQgfTtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHtcblx0Q29sb3JUZXh0UHJlLCBDb2xvckJvcmRlclByZSwgQ29sb3JHcmF5LCBDb2xvckJsdWUsIENvbG9yUmVkLCBDb2xvclllbGxvdywgQ29sb3JQdXJwbGUsIFRvb2x0aXBUeXBlLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqIENyZWF0ZXMgdmFyaW91cyBzZWN0aW9ucyBvZiB0b29sdGlwcyAqL1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYXBwZW5kcyB0aGUgc2VjdGlvbnMgZm9yIEJvbnVzIEluY29tZSwgUFAgYW5kIFRpbWUgbGVmdCAodG8gYWNoaWV2KSB0byB0aGUgdG9vbHRpcC1vYmplY3RcbiAqIFRoZSBhY3R1YWwgZGF0YSBpcyBhZGRlZCBieSB0aGUgVXBkYXRlLWZ1bmN0aW9ucyB0aGVtc2VsdmVzXG4gKiBAcGFyYW1cdHtvYmplY3R9XHR0b29sdGlwXHRcdE9iamVjdCBvZiBhIFRvb2x0aXBCb3gsIG5vcm1hbGx5IGNyZWF0ZWQgYnkgYSBjYWxsIHRvIENNLkRpc3AuVG9vbHRpcENyZWF0ZVRvb2x0aXBCb3goKVxuICovXG5leHBvcnQgZnVuY3Rpb24gVG9vbHRpcENyZWF0ZUNhbGN1bGF0aW9uU2VjdGlvbih0b29sdGlwKSB7XG5cdHRvb2x0aXAuYXBwZW5kQ2hpbGQoVG9vbHRpcENyZWF0ZUhlYWRlcignQm9udXMgSW5jb21lJykpO1xuXHRjb25zdCBpbmNvbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0aW5jb21lLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc0cHgnO1xuXHRpbmNvbWUuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuXHRpbmNvbWUuaWQgPSAnQ01Ub29sdGlwSW5jb21lJztcblx0dG9vbHRpcC5hcHBlbmRDaGlsZChpbmNvbWUpO1xuXG5cdHRvb2x0aXAuYXBwZW5kQ2hpbGQoVG9vbHRpcENyZWF0ZUhlYWRlcignQm9udXMgQ29va2llcyBwZXIgQ2xpY2snKSk7XG5cdHRvb2x0aXAubGFzdENoaWxkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdGNvbnN0IGNsaWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGNsaWNrLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc0cHgnO1xuXHRjbGljay5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG5cdGNsaWNrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdGNsaWNrLmlkID0gJ0NNVG9vbHRpcENvb2tpZVBlckNsaWNrJztcblx0dG9vbHRpcC5hcHBlbmRDaGlsZChjbGljayk7XG5cblx0dG9vbHRpcC5hcHBlbmRDaGlsZChUb29sdGlwQ3JlYXRlSGVhZGVyKCdQYXliYWNrIFBlcmlvZCcpKTtcblx0Y29uc3QgcHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0cHAuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7XG5cdHBwLmlkID0gJ0NNVG9vbHRpcFBQJztcblx0dG9vbHRpcC5hcHBlbmRDaGlsZChwcCk7XG5cblx0dG9vbHRpcC5hcHBlbmRDaGlsZChUb29sdGlwQ3JlYXRlSGVhZGVyKCdUaW1lIExlZnQnKSk7XG5cdGNvbnN0IHRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0dGltZS5pZCA9ICdDTVRvb2x0aXBUaW1lJztcblx0dG9vbHRpcC5hcHBlbmRDaGlsZCh0aW1lKTtcblxuXHRpZiAoVG9vbHRpcFR5cGUgPT09ICdiJykge1xuXHRcdHRvb2x0aXAuYXBwZW5kQ2hpbGQoVG9vbHRpcENyZWF0ZUhlYWRlcignUHJvZHVjdGlvbiBsZWZ0IHRpbGwgbmV4dCBhY2hpZXZlbWVudCcpKTtcblx0XHR0b29sdGlwLmxhc3RDaGlsZC5pZCA9ICdDTVRvb2x0aXBQcm9kdWN0aW9uSGVhZGVyJzsgLy8gQXNzaWduIGEgaWQgaW4gb3JkZXIgdG8gaGlkIHdoZW4gbm8gYWNoaWV2J3MgYXJlIGxlZnRcblx0XHRjb25zdCBwcm9kdWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0cHJvZHVjdGlvbi5pZCA9ICdDTVRvb2x0aXBQcm9kdWN0aW9uJztcblx0XHR0b29sdGlwLmFwcGVuZENoaWxkKHByb2R1Y3Rpb24pO1xuXHR9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgdG9vbHRpcEJveCBvYmplY3Qgd2hpY2ggY29udGFpbnMgYWxsIENvb2tpZU1vbnN0ZXIgYWRkZWQgdG9vbHRpcCBpbmZvcm1hdGlvbi5cbiAqIEByZXR1cm5zIHtvYmplY3R9XHRkaXZcdFx0QW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0eWxpemVkIGJveFxuICovXG5leHBvcnQgZnVuY3Rpb24gVG9vbHRpcENyZWF0ZVRvb2x0aXBCb3goKSB7XG5cdGwoJ3Rvb2x0aXAnKS5maXJzdENoaWxkLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAnNHB4JzsgLy8gU2V0cyBwYWRkaW5nIG9uIGJhc2UtdG9vbHRpcFxuXHRjb25zdCB0b29sdGlwQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHRvb2x0aXBCb3guc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCc7XG5cdHRvb2x0aXBCb3guc3R5bGUucGFkZGluZyA9ICc0cHgnO1xuXHR0b29sdGlwQm94LnN0eWxlLm1hcmdpbiA9ICcwcHggLTRweCc7XG5cdHRvb2x0aXBCb3guaWQgPSAnQ01Ub29sdGlwQm9yZGVyJztcblx0dG9vbHRpcEJveC5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBDb2xvckdyYXk7XG5cdHJldHVybiB0b29sdGlwQm94O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGhlYWRlciBvYmplY3QgZm9yIHRvb2x0aXBzLlxuICogQHBhcmFtXHR7c3RyaW5nfVx0dGV4dFx0VGl0bGUgb2YgaGVhZGVyXG4gKiBAcmV0dXJucyB7b2JqZWN0fVx0ZGl2XHRcdEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdHlsaXplZCBoZWFkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRvb2x0aXBDcmVhdGVIZWFkZXIodGV4dCkge1xuXHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdGRpdi5pZCA9IGAke3RleHR9VGl0bGVgO1xuXHRkaXYuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgQ29sb3JCbHVlO1xuXHRkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuXHRyZXR1cm4gZGl2O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgdG9vbHRpcCBvYmplY3RtIGZvciB3YXJuaW5nc1xuICogVGhlIG9iamVjdCBpcyBhbHNvIHJlbW92ZWQgYnkgQ00uRGlzcC5VcGRhdGVUb29sdGlwV2FybmluZ3MoKSB3aGVuIHR5cGUgaXMgJ3MnIG9yICdnJ1xuICogQHJldHVybnMge29iamVjdH1cdFRvb2x0aXBXYXJuXHRUaGUgV2FybmluZ3MtdG9vbHRpcCBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRvb2x0aXBDcmVhdGVXYXJuaW5nU2VjdGlvbigpIHtcblx0Y29uc3QgVG9vbHRpcFdhcm4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0VG9vbHRpcFdhcm4uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRUb29sdGlwV2Fybi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0VG9vbHRpcFdhcm4uc3R5bGUubGVmdCA9ICdhdXRvJztcblx0VG9vbHRpcFdhcm4uc3R5bGUuYm90dG9tID0gJ2F1dG8nO1xuXHRUb29sdGlwV2Fybi5pZCA9ICdDTURpc3BUb29sdGlwV2FybmluZ1BhcmVudCc7XG5cblx0Y29uc3QgY3JlYXRlID0gZnVuY3Rpb24gKGJveElkLCBjb2xvciwgbGFiZWxUZXh0RnJvbnQsIGxhYmVsVGV4dEJhY2ssIGRlZmljaXRJZCkge1xuXHRcdGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGJveC5pZCA9IGJveElkO1xuXHRcdGJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdGJveC5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC4xcyBlYXNlLW91dCc7XG5cdFx0Ym94LmNsYXNzTmFtZSA9IENvbG9yQm9yZGVyUHJlICsgY29sb3I7XG5cdFx0Ym94LnN0eWxlLnBhZGRpbmcgPSAnMnB4Jztcblx0XHRib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjMDAwIHVybChpbWcvZGFya05vaXNlLnBuZyknO1xuXHRcdGNvbnN0IGxhYmVsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Ym94LmFwcGVuZENoaWxkKGxhYmVsRGl2KTtcblx0XHRjb25zdCBsYWJlbFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0bGFiZWxTcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGNvbG9yO1xuXHRcdGxhYmVsU3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRcdGxhYmVsU3Bhbi50ZXh0Q29udGVudCA9IGxhYmVsVGV4dEZyb250O1xuXHRcdGxhYmVsRGl2LmFwcGVuZENoaWxkKGxhYmVsU3Bhbik7XG5cdFx0bGFiZWxEaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWxUZXh0QmFjaykpO1xuXHRcdGNvbnN0IGRlZmljaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRib3guYXBwZW5kQ2hpbGQoZGVmaWNpdERpdik7XG5cdFx0Y29uc3QgZGVmaWNpdFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0ZGVmaWNpdFNwYW4uaWQgPSBkZWZpY2l0SWQ7XG5cdFx0ZGVmaWNpdERpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnRGVmaWNpdDogJykpO1xuXHRcdGRlZmljaXREaXYuYXBwZW5kQ2hpbGQoZGVmaWNpdFNwYW4pO1xuXHRcdHJldHVybiBib3g7XG5cdH07XG5cblx0VG9vbHRpcFdhcm4uYXBwZW5kQ2hpbGQoY3JlYXRlKCdDTURpc3BUb29sdGlwV2Fybkx1Y2t5JywgQ29sb3JSZWQsICdXYXJuaW5nOiAnLCAnUHVyY2hhc2Ugb2YgdGhpcyBpdGVtIHdpbGwgcHV0IHlvdSB1bmRlciB0aGUgbnVtYmVyIG9mIENvb2tpZXMgcmVxdWlyZWQgZm9yIFwiTHVja3khXCInLCAnQ01EaXNwVG9vbHRpcFdhcm5MdWNreVRleHQnKSk7XG5cdFRvb2x0aXBXYXJuLmZpcnN0Q2hpbGQuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7XG5cdFRvb2x0aXBXYXJuLmFwcGVuZENoaWxkKGNyZWF0ZSgnQ01EaXNwVG9vbHRpcFdhcm5MdWNreUZyZW56eScsIENvbG9yWWVsbG93LCAnV2FybmluZzogJywgJ1B1cmNoYXNlIG9mIHRoaXMgaXRlbSB3aWxsIHB1dCB5b3UgdW5kZXIgdGhlIG51bWJlciBvZiBDb29raWVzIHJlcXVpcmVkIGZvciBcIkx1Y2t5IVwiIChGcmVuenkpJywgJ0NNRGlzcFRvb2x0aXBXYXJuTHVja3lGcmVuenlUZXh0JykpO1xuXHRUb29sdGlwV2Fybi5sYXN0Q2hpbGQuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7XG5cdFRvb2x0aXBXYXJuLmFwcGVuZENoaWxkKGNyZWF0ZSgnQ01EaXNwVG9vbHRpcFdhcm5Db25qdXJlJywgQ29sb3JQdXJwbGUsICdXYXJuaW5nOiAnLCAnUHVyY2hhc2Ugb2YgdGhpcyBpdGVtIHdpbGwgcHV0IHlvdSB1bmRlciB0aGUgbnVtYmVyIG9mIENvb2tpZXMgcmVxdWlyZWQgZm9yIFwiQ29uanVyZSBCYWtlZCBHb29kc1wiJywgJ0NNRGlzcFRvb2x0aXBXYXJuQ29uanVyZVRleHQnKSk7XG5cdFRvb2x0aXBXYXJuLmxhc3RDaGlsZC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4Jztcblx0VG9vbHRpcFdhcm4uYXBwZW5kQ2hpbGQoY3JlYXRlKCdDTURpc3BUb29sdGlwV2FybkNvbmp1cmVGcmVuenknLCBDb2xvclB1cnBsZSwgJ1dhcm5pbmc6ICcsICdQdXJjaGFzZSBvZiB0aGlzIGl0ZW0gd2lsbCBwdXQgeW91IHVuZGVyIHRoZSBudW1iZXIgb2YgQ29va2llcyByZXF1aXJlZCBmb3IgXCJDb25qdXJlIEJha2VkIEdvb2RzXCIgKEZyZW56eSknLCAnQ01EaXNwVG9vbHRpcFdhcm5Db25qdXJlRnJlbnp5VGV4dCcpKTtcblx0VG9vbHRpcFdhcm4ubGFzdENoaWxkLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc0cHgnO1xuXHRUb29sdGlwV2Fybi5hcHBlbmRDaGlsZChjcmVhdGUoJ0NNRGlzcFRvb2x0aXBXYXJuRWRpZmljZScsIENvbG9yUHVycGxlLCAnV2FybmluZzogJywgJ1B1cmNoYXNlIG9mIHRoaXMgaXRlbSB3aWxsIHB1dCB5b3UgdW5kZXIgdGhlIG51bWJlciBvZiBDb29raWVzIG5lZWRlZCBmb3IgXCJTcG9udGFuZW91cyBFZGlmaWNlXCIgdG8gcG9zc2libHkgZ2l2ZSB5b3UgeW91ciBtb3N0IGV4cGVuc2l2ZSBidWlsZGluZ1wiJywgJ0NNRGlzcFRvb2x0aXBXYXJuRWRpZmljZVRleHQnKSk7XG5cdFRvb2x0aXBXYXJuLmxhc3RDaGlsZC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4Jztcblx0VG9vbHRpcFdhcm4uYXBwZW5kQ2hpbGQoY3JlYXRlKCdDTURpc3BUb29sdGlwV2FyblVzZXInLCBDb2xvclJlZCwgJ1dhcm5pbmc6ICcsIGBQdXJjaGFzZSBvZiB0aGlzIGl0ZW0gd2lsbCBwdXQgeW91IHVuZGVyIHRoZSBudW1iZXIgb2YgQ29va2llcyBlcXVhbCB0byAke0NNT3B0aW9ucy5Ub29sV2FyblVzZXJ9IHNlY29uZHMgb2YgQ1BTYCwgJ0NNRGlzcFRvb2x0aXBXYXJuVXNlclRleHQnKSk7XG5cblx0cmV0dXJuIFRvb2x0aXBXYXJuO1xufVxuIiwiaW1wb3J0IEdldENQU0J1ZmZNdWx0IGZyb20gJy4uLy4uL0NhY2hlL0NQUy9HZXRDUFNCdWZmTXVsdCc7XG5pbXBvcnQge1xuXHRDYWNoZUVkaWZpY2UsIENhY2hlTGFzdENob0VnZywgQ2FjaGVMdWNreSwgQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMsIENhY2hlT2JqZWN0czEsIENhY2hlT2JqZWN0czEwLCBDYWNoZU9iamVjdHMxMDAsIENhY2hlVXBncmFkZXMsXG59IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IFRvZ2dsZVRvb2xXYXJuUG9zIGZyb20gJy4uLy4uL0NvbmZpZy9Ub2dnbGVzL1RvZ2dsZVRvb2xXYXJuUG9zJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IFNpbU9iamVjdHMgfSBmcm9tICcuLi8uLi9TaW0vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBCZWF1dGlmeSwgRm9ybWF0VGltZSwgR2V0VGltZUNvbG9yIH0gZnJvbSAnLi4vQmVhdXRpZnlBbmRGb3JtYXR0aW5nL0JlYXV0aWZ5Rm9ybWF0dGluZyc7XG5pbXBvcnQgQ2FsY3VsYXRlR3JpbW9pcmVSZWZpbGxUaW1lIGZyb20gJy4uL0hlbHBlckZ1bmN0aW9ucy9DYWxjdWxhdGVHcmltb2lyZVJlZmlsbFRpbWUnO1xuaW1wb3J0IEdldENQUyBmcm9tICcuLi9IZWxwZXJGdW5jdGlvbnMvR2V0Q1BTJztcbmltcG9ydCBHZXRMdW1wQ29sb3IgZnJvbSAnLi4vSGVscGVyRnVuY3Rpb25zL0dldEx1bXBDb2xvcic7XG5pbXBvcnQgR2V0V3JpbmtDb25maWdCYW5rIGZyb20gJy4uL0hlbHBlckZ1bmN0aW9ucy9HZXRXcmlua0NvbmZpZ0JhbmsnO1xuaW1wb3J0IHtcblx0Q29sb3JUZXh0UHJlLCBMYXN0VGFyZ2V0VG9vbHRpcEJ1aWxkaW5nLCBUb29sdGlwQm9udXNJbmNvbWUsIFRvb2x0aXBCb251c01vdXNlLCBUb29sdGlwTmFtZSwgVG9vbHRpcFByaWNlLCBUb29sdGlwVHlwZSxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgKiBhcyBDcmVhdGUgZnJvbSAnLi9DcmVhdGVUb29sdGlwJztcblxuLyoqIEZ1bmN0aW9ucyB0aGF0IHVwZGF0ZSBzcGVjaWZpYyB0eXBlcyBvZiB0b29sdGlwcyAgKi9cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgZXh0cmEgaW5mbyB0byB0aGUgQnVpbGRpbmcgdG9vbHRpcHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJ1aWxkaW5nKCkge1xuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBCdWlsZFVwZ3JhZGUgPT09IDEgJiYgR2FtZS5idXlNb2RlID09PSAxKSB7XG5cdFx0Y29uc3QgdG9vbHRpcEJveCA9IGwoJ0NNVG9vbHRpcEJvcmRlcicpO1xuXHRcdENyZWF0ZS5Ub29sdGlwQ3JlYXRlQ2FsY3VsYXRpb25TZWN0aW9uKHRvb2x0aXBCb3gpO1xuXG5cdFx0bGV0IHRhcmdldDtcblx0XHRpZiAoR2FtZS5idXlNb2RlID09PSAxKSB7XG5cdFx0XHRMYXN0VGFyZ2V0VG9vbHRpcEJ1aWxkaW5nID0gdGFyZ2V0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQgPSBMYXN0VGFyZ2V0VG9vbHRpcEJ1aWxkaW5nO1xuXHRcdH1cblx0XHRpZiAoR2FtZS5idXlCdWxrID09PSAxKSB0YXJnZXQgPSBDYWNoZU9iamVjdHMxO1xuXHRcdGVsc2UgaWYgKEdhbWUuYnV5QnVsayA9PT0gMTApIHRhcmdldCA9IENhY2hlT2JqZWN0czEwO1xuXHRcdGVsc2UgaWYgKEdhbWUuYnV5QnVsayA9PT0gMTAwKSB0YXJnZXQgPSBDYWNoZU9iamVjdHMxMDA7XG5cblx0XHRUb29sdGlwUHJpY2UgPSBHYW1lLk9iamVjdHNbVG9vbHRpcE5hbWVdLmJ1bGtQcmljZTtcblx0XHRUb29sdGlwQm9udXNJbmNvbWUgPSB0YXJnZXRbVG9vbHRpcE5hbWVdLmJvbnVzO1xuXG5cdFx0aWYgKENNT3B0aW9ucy5Ub29sdGlwQnVpbGRVcGdyYWRlID09PSAxICYmIEdhbWUuYnV5TW9kZSA9PT0gMSkge1xuXHRcdFx0bCgnQ01Ub29sdGlwSW5jb21lJykudGV4dENvbnRlbnQgPSBCZWF1dGlmeShUb29sdGlwQm9udXNJbmNvbWUsIDIpO1xuXHRcdFx0Y29uc3QgaW5jcmVhc2UgPSBNYXRoLnJvdW5kKFRvb2x0aXBCb251c0luY29tZSAvIEdhbWUuY29va2llc1BzICogMTAwMDApO1xuXHRcdFx0aWYgKE51bWJlci5pc0Zpbml0ZShpbmNyZWFzZSkgJiYgaW5jcmVhc2UgIT09IDApIHtcblx0XHRcdFx0bCgnQ01Ub29sdGlwSW5jb21lJykudGV4dENvbnRlbnQgKz0gYCAoJHtpbmNyZWFzZSAvIDEwMH0lIG9mIGluY29tZSlgO1xuXHRcdFx0fVxuXHRcdFx0bCgnQ01Ub29sdGlwQm9yZGVyJykuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgdGFyZ2V0W1Rvb2x0aXBOYW1lXS5jb2xvcjtcblx0XHRcdGwoJ0NNVG9vbHRpcFBQJykudGV4dENvbnRlbnQgPSBCZWF1dGlmeSh0YXJnZXRbVG9vbHRpcE5hbWVdLnBwLCAyKTtcblx0XHRcdGwoJ0NNVG9vbHRpcFBQJykuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgdGFyZ2V0W1Rvb2x0aXBOYW1lXS5jb2xvcjtcblx0XHRcdGNvbnN0IHRpbWVDb2xvciA9IEdldFRpbWVDb2xvcigoVG9vbHRpcFByaWNlIC0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSkgLyBHZXRDUFMoKSk7XG5cdFx0XHRsKCdDTVRvb2x0aXBUaW1lJykudGV4dENvbnRlbnQgPSB0aW1lQ29sb3IudGV4dDtcblx0XHRcdGlmICh0aW1lQ29sb3IudGV4dCA9PT0gJ0RvbmUhJyAmJiBHYW1lLmNvb2tpZXMgPCB0YXJnZXRbVG9vbHRpcE5hbWVdLnByaWNlKSB7XG5cdFx0XHRcdGwoJ0NNVG9vbHRpcFRpbWUnKS50ZXh0Q29udGVudCA9IGAke3RpbWVDb2xvci50ZXh0fSAod2l0aCBXcmluaylgO1xuXHRcdFx0fSBlbHNlIGwoJ0NNVG9vbHRpcFRpbWUnKS50ZXh0Q29udGVudCA9IHRpbWVDb2xvci50ZXh0O1xuXHRcdFx0bCgnQ01Ub29sdGlwVGltZScpLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIHRpbWVDb2xvci5jb2xvcjtcblx0XHR9XG5cblx0XHQvLyBBZGQgXCJwcm9kdWN0aW9uIGxlZnQgdGlsbCBuZXh0IGFjaGlldmVtZW50XCItYmFyXG5cdFx0bCgnQ01Ub29sdGlwUHJvZHVjdGlvbkhlYWRlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0bCgnQ01Ub29sdGlwVGltZScpLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcwcHgnO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHNbVG9vbHRpcE5hbWVdLnByb2R1Y3Rpb25BY2hpZXZzKSkge1xuXHRcdFx0aWYgKCFHYW1lLkhhc0FjaGlldihHYW1lLk9iamVjdHNbVG9vbHRpcE5hbWVdLnByb2R1Y3Rpb25BY2hpZXZzW2ldLmFjaGlldi5uYW1lKSkge1xuXHRcdFx0XHRjb25zdCBuZXh0UHJvZHVjdGlvbkFjaGlldiA9IEdhbWUuT2JqZWN0c1tUb29sdGlwTmFtZV0ucHJvZHVjdGlvbkFjaGlldnNbaV07XG5cdFx0XHRcdGwoJ0NNVG9vbHRpcFRpbWUnKS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4Jztcblx0XHRcdFx0bCgnQ01Ub29sdGlwUHJvZHVjdGlvbkhlYWRlcicpLnN0eWxlLmRpc3BsYXkgPSAnJztcblx0XHRcdFx0bCgnQ01Ub29sdGlwUHJvZHVjdGlvbicpLmNsYXNzTmFtZSA9IGBQcm9kQWNoaWV2ZW1lbnQke1Rvb2x0aXBOYW1lfWA7XG5cdFx0XHRcdGwoJ0NNVG9vbHRpcFByb2R1Y3Rpb24nKS50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KG5leHRQcm9kdWN0aW9uQWNoaWV2LnBvdyAtIFNpbU9iamVjdHNbVG9vbHRpcE5hbWVdLnRvdGFsQ29va2llcywgMTUpO1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBQcm9kdWN0aW9uJykuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBsKCdDTVRvb2x0aXBBcmVhJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgZXh0cmEgaW5mbyB0byB0aGUgVXBncmFkZSB0b29sdGlwc1xuICovXG5leHBvcnQgZnVuY3Rpb24gVXBncmFkZSgpIHtcblx0Y29uc3QgdG9vbHRpcEJveCA9IGwoJ0NNVG9vbHRpcEJvcmRlcicpO1xuXHRDcmVhdGUuVG9vbHRpcENyZWF0ZUNhbGN1bGF0aW9uU2VjdGlvbih0b29sdGlwQm94KTtcblxuXHRUb29sdGlwQm9udXNJbmNvbWUgPSBDYWNoZVVwZ3JhZGVzW0dhbWUuVXBncmFkZXNJblN0b3JlW1Rvb2x0aXBOYW1lXS5uYW1lXS5ib251cztcblx0VG9vbHRpcFByaWNlID0gR2FtZS5VcGdyYWRlc1tHYW1lLlVwZ3JhZGVzSW5TdG9yZVtUb29sdGlwTmFtZV0ubmFtZV0uZ2V0UHJpY2UoKTtcblx0VG9vbHRpcEJvbnVzTW91c2UgPSBDYWNoZVVwZ3JhZGVzW0dhbWUuVXBncmFkZXNJblN0b3JlW1Rvb2x0aXBOYW1lXS5uYW1lXS5ib251c01vdXNlO1xuXG5cdGlmIChDTU9wdGlvbnMuVG9vbHRpcEJ1aWxkVXBncmFkZSA9PT0gMSkge1xuXHRcdGwoJ0NNVG9vbHRpcEluY29tZScpLnRleHRDb250ZW50ID0gQmVhdXRpZnkoVG9vbHRpcEJvbnVzSW5jb21lLCAyKTtcblx0XHRjb25zdCBpbmNyZWFzZSA9IE1hdGgucm91bmQoVG9vbHRpcEJvbnVzSW5jb21lIC8gR2FtZS5jb29raWVzUHMgKiAxMDAwMCk7XG5cdFx0Ly8gRG9uJ3QgZGlzcGxheSBjZXJ0YWluIHBhcnRzIG9mIHRvb2x0aXAgaWYgbm90IGFwcGxpY2FibGVcblx0XHRpZiAobCgnQ01Ub29sdGlwSW5jb21lJykudGV4dENvbnRlbnQgPT09ICcwJyAmJiAoVG9vbHRpcFR5cGUgPT09ICdiJyB8fCBUb29sdGlwVHlwZSA9PT0gJ3UnKSkge1xuXHRcdFx0bCgnQm9udXMgSW5jb21lVGl0bGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0bCgnQ01Ub29sdGlwSW5jb21lJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdGwoJ1BheWJhY2sgUGVyaW9kVGl0bGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0bCgnQ01Ub29sdGlwUFAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoTnVtYmVyLmlzRmluaXRlKGluY3JlYXNlKSAmJiBpbmNyZWFzZSAhPT0gMCkge1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBJbmNvbWUnKS50ZXh0Q29udGVudCArPSBgICgke2luY3JlYXNlIC8gMTAwfSUgb2YgaW5jb21lKWA7XG5cdFx0XHR9XG5cdFx0XHRsKCdDTVRvb2x0aXBCb3JkZXInKS5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBDYWNoZVVwZ3JhZGVzW0dhbWUuVXBncmFkZXNJblN0b3JlW1Rvb2x0aXBOYW1lXS5uYW1lXS5jb2xvcjtcblx0XHRcdC8vIElmIGNsaWNraW5nIHBvd2VyIHVwZ3JhZGVcblx0XHRcdGlmIChUb29sdGlwQm9udXNNb3VzZSkge1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBDb29raWVQZXJDbGljaycpLnRleHRDb250ZW50ID0gQmVhdXRpZnkoVG9vbHRpcEJvbnVzTW91c2UpO1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBDb29raWVQZXJDbGljaycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBDb29raWVQZXJDbGljaycpLnByZXZpb3VzU2libGluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdH1cblx0XHRcdC8vIElmIG9ubHkgYSBjbGlja2luZyBwb3dlciB1cGdyYWRlIGNoYW5nZSBQUCB0byBjbGljay1iYXNlZCBwZXJpb2Rcblx0XHRcdGlmIChUb29sdGlwQm9udXNJbmNvbWUgPT09IDAgJiYgVG9vbHRpcEJvbnVzTW91c2UpIHtcblx0XHRcdFx0bCgnQ01Ub29sdGlwUFAnKS50ZXh0Q29udGVudCA9IGAke0JlYXV0aWZ5KFRvb2x0aXBQcmljZSAvIFRvb2x0aXBCb251c01vdXNlKX0gQ2xpY2tzYDtcblx0XHRcdFx0bCgnQ01Ub29sdGlwUFAnKS5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBQUCcpLnRleHRDb250ZW50ID0gQmVhdXRpZnkoQ2FjaGVVcGdyYWRlc1tHYW1lLlVwZ3JhZGVzSW5TdG9yZVtUb29sdGlwTmFtZV0ubmFtZV0ucHAsIDIpO1xuXHRcdFx0XHRsKCdDTVRvb2x0aXBQUCcpLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIENhY2hlVXBncmFkZXNbR2FtZS5VcGdyYWRlc0luU3RvcmVbVG9vbHRpcE5hbWVdLm5hbWVdLmNvbG9yO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCB0aW1lQ29sb3IgPSBHZXRUaW1lQ29sb3IoKFRvb2x0aXBQcmljZSAtIChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkpIC8gR2V0Q1BTKCkpO1xuXHRcdGwoJ0NNVG9vbHRpcFRpbWUnKS50ZXh0Q29udGVudCA9IHRpbWVDb2xvci50ZXh0O1xuXHRcdGlmICh0aW1lQ29sb3IudGV4dCA9PT0gJ0RvbmUhJyAmJiBHYW1lLmNvb2tpZXMgPCBHYW1lLlVwZ3JhZGVzSW5TdG9yZVtUb29sdGlwTmFtZV0uZ2V0UHJpY2UoKSkge1xuXHRcdFx0bCgnQ01Ub29sdGlwVGltZScpLnRleHRDb250ZW50ID0gYCR7dGltZUNvbG9yLnRleHR9ICh3aXRoIFdyaW5rKWA7XG5cdFx0fSBlbHNlIGwoJ0NNVG9vbHRpcFRpbWUnKS50ZXh0Q29udGVudCA9IHRpbWVDb2xvci50ZXh0O1xuXHRcdGwoJ0NNVG9vbHRpcFRpbWUnKS5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyB0aW1lQ29sb3IuY29sb3I7XG5cblx0XHQvLyBBZGQgZXh0cmEgaW5mbyB0byBDaG9jb2xhdGUgZWdnIHRvb2x0aXBcblx0XHRpZiAoR2FtZS5VcGdyYWRlc0luU3RvcmVbVG9vbHRpcE5hbWVdLm5hbWUgPT09ICdDaG9jb2xhdGUgZWdnJykge1xuXHRcdFx0bCgnQ01Ub29sdGlwQm9yZGVyJykubGFzdENoaWxkLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc0cHgnO1xuXHRcdFx0bCgnQ01Ub29sdGlwQm9yZGVyJykuYXBwZW5kQ2hpbGQoQ3JlYXRlLlRvb2x0aXBDcmVhdGVIZWFkZXIoJ0Nvb2tpZXMgdG8gYmUgZ2FpbmVkIChDdXJyZW50bHkvTWF4KScpKTtcblx0XHRcdGNvbnN0IGNob2NvbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0Y2hvY29sYXRlLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcblx0XHRcdGNob2NvbGF0ZS50ZXh0Q29udGVudCA9IGAke0JlYXV0aWZ5KEdhbWUuY29va2llcyAqIDAuMDUpfSAvICR7QmVhdXRpZnkoQ2FjaGVMYXN0Q2hvRWdnKX1gO1xuXHRcdFx0bCgnQ01Ub29sdGlwQm9yZGVyJykuYXBwZW5kQ2hpbGQoY2hvY29sYXRlKTtcblx0XHR9XG5cdH0gZWxzZSBsKCdDTVRvb2x0aXBBcmVhJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgZXh0cmEgaW5mbyB0byB0aGUgU3VnYXIgTHVtcCB0b29sdGlwXG4gKiBJdCBhZGRzIHRvIHRoZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHRvIGwoJ0NNVG9vbHRpcEFyZWEnKVxuICovXG5leHBvcnQgZnVuY3Rpb24gU3VnYXJMdW1wKCkge1xuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBMdW1wID09PSAxKSB7XG5cdFx0Y29uc3QgdG9vbHRpcEJveCA9IGwoJ0NNVG9vbHRpcEJvcmRlcicpO1xuXG5cdFx0dG9vbHRpcEJveC5hcHBlbmRDaGlsZChDcmVhdGUuVG9vbHRpcENyZWF0ZUhlYWRlcignQ3VycmVudCBTdWdhciBMdW1wJykpO1xuXG5cdFx0Y29uc3QgbHVtcFR5cGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRsdW1wVHlwZS5pZCA9ICdDTVRvb2x0aXBUaW1lJztcblx0XHR0b29sdGlwQm94LmFwcGVuZENoaWxkKGx1bXBUeXBlKTtcblx0XHRjb25zdCBsdW1wQ29sb3IgPSBHZXRMdW1wQ29sb3IoR2FtZS5sdW1wQ3VycmVudFR5cGUpO1xuXHRcdGx1bXBUeXBlLnRleHRDb250ZW50ID0gbHVtcENvbG9yLnRleHQ7XG5cdFx0bHVtcFR5cGUuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgbHVtcENvbG9yLmNvbG9yO1xuXHR9IGVsc2UgbCgnQ01Ub29sdGlwQXJlYScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhZGRzIGV4dHJhIGluZm8gdG8gdGhlIEdyaW1vaXJlIHRvb2x0aXBzXG4gKiBJdCBhZGRzIHRvIHRoZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHRvIGwoJ0NNVG9vbHRpcEFyZWEnKVxuICovXG5leHBvcnQgZnVuY3Rpb24gR3JpbW9pcmUoKSB7XG5cdGNvbnN0IG1pbmlnYW1lID0gR2FtZS5PYmplY3RzWydXaXphcmQgdG93ZXInXS5taW5pZ2FtZTtcblx0Y29uc3Qgc3BlbGxDb3N0ID0gbWluaWdhbWUuZ2V0U3BlbGxDb3N0KG1pbmlnYW1lLnNwZWxsc0J5SWRbVG9vbHRpcE5hbWVdKTtcblxuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBHcmltID09PSAxICYmIHNwZWxsQ29zdCA8PSBtaW5pZ2FtZS5tYWdpY00pIHtcblx0XHRjb25zdCB0b29sdGlwQm94ID0gbCgnQ01Ub29sdGlwQm9yZGVyJyk7XG5cblx0XHQvLyBUaW1lIGxlZnQgdGlsbCBlbm91Z2ggbWFnaWMgZm9yIHNwZWxsXG5cdFx0dG9vbHRpcEJveC5hcHBlbmRDaGlsZChDcmVhdGUuVG9vbHRpcENyZWF0ZUhlYWRlcignVGltZSBMZWZ0JykpO1xuXHRcdGNvbnN0IHRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aW1lLmlkID0gJ0NNVG9vbHRpcFRpbWUnO1xuXHRcdHRvb2x0aXBCb3guYXBwZW5kQ2hpbGQodGltZSk7XG5cdFx0Y29uc3QgdGltZUNvbG9yID0gR2V0VGltZUNvbG9yKENhbGN1bGF0ZUdyaW1vaXJlUmVmaWxsVGltZShtaW5pZ2FtZS5tYWdpYywgbWluaWdhbWUubWFnaWNNLCBzcGVsbENvc3QpKTtcblx0XHR0aW1lLnRleHRDb250ZW50ID0gdGltZUNvbG9yLnRleHQ7XG5cdFx0dGltZS5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyB0aW1lQ29sb3IuY29sb3I7XG5cblx0XHQvLyBUaW1lIGxlZnQgdW50aWxsIG1hZ2ljIHNwZW50IGlzIHJlY292ZXJlZFxuXHRcdGlmIChzcGVsbENvc3QgPD0gbWluaWdhbWUubWFnaWMpIHtcblx0XHRcdHRvb2x0aXBCb3guYXBwZW5kQ2hpbGQoQ3JlYXRlLlRvb2x0aXBDcmVhdGVIZWFkZXIoJ1JlY292ZXIgVGltZScpKTtcblx0XHRcdGNvbnN0IHJlY292ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdHJlY292ZXIuaWQgPSAnQ01Ub29sdGlwUmVjb3Zlcic7XG5cdFx0XHR0b29sdGlwQm94LmFwcGVuZENoaWxkKHJlY292ZXIpO1xuXHRcdFx0Y29uc3QgcmVjb3ZlckNvbG9yID0gR2V0VGltZUNvbG9yKENhbGN1bGF0ZUdyaW1vaXJlUmVmaWxsVGltZShNYXRoLm1heCgwLCBtaW5pZ2FtZS5tYWdpYyAtIHNwZWxsQ29zdCksIG1pbmlnYW1lLm1hZ2ljTSwgbWluaWdhbWUubWFnaWMpKTtcblx0XHRcdHJlY292ZXIudGV4dENvbnRlbnQgPSByZWNvdmVyQ29sb3IudGV4dDtcblx0XHRcdHJlY292ZXIuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgcmVjb3ZlckNvbG9yLmNvbG9yO1xuXHRcdH1cblxuXHRcdC8vIEV4dHJhIGluZm9ybWF0aW9uIG9uIGNvb2tpZXMgZ2FpbmVkIHdoZW4gc3BlbGwgaXMgQ29uanVyZSBCYWtlZCBHb29kcyAoTmFtZSA9PT0gMClcblx0XHRpZiAoVG9vbHRpcE5hbWUgPT09ICcwJykge1xuXHRcdFx0dG9vbHRpcEJveC5hcHBlbmRDaGlsZChDcmVhdGUuVG9vbHRpcENyZWF0ZUhlYWRlcignQ29va2llcyB0byBiZSBnYWluZWQvbG9zdCcpKTtcblx0XHRcdGNvbnN0IGNvbmp1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdGNvbmp1cmUuaWQgPSAneCc7XG5cdFx0XHR0b29sdGlwQm94LmFwcGVuZENoaWxkKGNvbmp1cmUpO1xuXHRcdFx0Y29uc3QgcmV3YXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdFx0cmV3YXJkLnN0eWxlLmNvbG9yID0gJyMzM0ZGMDAnO1xuXHRcdFx0cmV3YXJkLnRleHRDb250ZW50ID0gQmVhdXRpZnkoTWF0aC5taW4oKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSAqIDAuMTUsIENhY2hlTm9Hb2xkU3dpdGNoQ29va2llc1BTICogNjAgKiAzMCksIDIpO1xuXHRcdFx0Y29uanVyZS5hcHBlbmRDaGlsZChyZXdhcmQpO1xuXHRcdFx0Y29uc3Qgc2VwZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdFx0c2VwZXJhdG9yLnRleHRDb250ZW50ID0gJyAvICc7XG5cdFx0XHRjb25qdXJlLmFwcGVuZENoaWxkKHNlcGVyYXRvcik7XG5cdFx0XHRjb25zdCBsb3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdFx0bG9zcy5zdHlsZS5jb2xvciA9ICdyZWQnO1xuXHRcdFx0bG9zcy50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KChDYWNoZU5vR29sZFN3aXRjaENvb2tpZXNQUyAqIDYwICogMTUpLCAyKTtcblx0XHRcdGNvbmp1cmUuYXBwZW5kQ2hpbGQobG9zcyk7XG5cdFx0fVxuXG5cdFx0bCgnQ01Ub29sdGlwQXJlYScpLmFwcGVuZENoaWxkKHRvb2x0aXBCb3gpO1xuXHR9IGVsc2UgbCgnQ01Ub29sdGlwQXJlYScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhZGRzIGV4dHJhIGluZm8gdG8gdGhlIEdhcmRlbiBwbG90cyB0b29sdGlwc1xuICogSXQgYWRkcyB0byB0aGUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB0byBsKCdDTVRvb2x0aXBBcmVhJylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdhcmRlblBsb3RzKCkge1xuXHRjb25zdCBtaW5pZ2FtZSA9IEdhbWUuT2JqZWN0cy5GYXJtLm1pbmlnYW1lO1xuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBQbG90cyAmJiBtaW5pZ2FtZS5wbG90W1Rvb2x0aXBOYW1lWzFdXVtUb29sdGlwTmFtZVswXV1bMF0gIT09IDApIHtcblx0XHRjb25zdCBtYXR1cmUgPSBtaW5pZ2FtZS5wbG90W1Rvb2x0aXBOYW1lWzFdXVtUb29sdGlwTmFtZVswXV1bMV0gPiBtaW5pZ2FtZS5wbGFudHNCeUlkW21pbmlnYW1lLnBsb3RbVG9vbHRpcE5hbWVbMV1dW1Rvb2x0aXBOYW1lWzBdXVswXSAtIDFdLm1hdHVyZUJhc2U7XG5cdFx0Y29uc3QgcGxhbnROYW1lID0gbWluaWdhbWUucGxhbnRzQnlJZFttaW5pZ2FtZS5wbG90W1Rvb2x0aXBOYW1lWzFdXVtUb29sdGlwTmFtZVswXV1bMF0gLSAxXS5uYW1lO1xuXHRcdGwoJ0NNVG9vbHRpcEJvcmRlcicpLmFwcGVuZENoaWxkKENyZWF0ZS5Ub29sdGlwQ3JlYXRlSGVhZGVyKCdSZXdhcmQgKEN1cnJlbnQgLyBNYXhpbXVtKScpKTtcblx0XHRjb25zdCByZXdhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRyZXdhcmQuaWQgPSAnQ01Ub29sdGlwUGxhbnRSZXdhcmQnO1xuXHRcdGwoJ0NNVG9vbHRpcEJvcmRlcicpLmFwcGVuZENoaWxkKHJld2FyZCk7XG5cdFx0aWYgKHBsYW50TmFtZSA9PT0gJ0Jha2ViZXJyeScpIHtcblx0XHRcdGwoJ0NNVG9vbHRpcFBsYW50UmV3YXJkJykudGV4dENvbnRlbnQgPSBgJHttYXR1cmUgPyBCZWF1dGlmeShNYXRoLm1pbihHYW1lLmNvb2tpZXMgKiAwLjAzLCBHYW1lLmNvb2tpZXNQcyAqIDYwICogMzApKSA6ICcwJ30gLyAke0JlYXV0aWZ5KEdhbWUuY29va2llc1BzICogNjAgKiAzMCl9YDtcblx0XHR9IGVsc2UgaWYgKHBsYW50TmFtZSA9PT0gJ0Nob2Nvcm9vdCcgfHwgcGxhbnROYW1lID09PSAnV2hpdGUgY2hvY29yb290Jykge1xuXHRcdFx0bCgnQ01Ub29sdGlwUGxhbnRSZXdhcmQnKS50ZXh0Q29udGVudCA9IGAke21hdHVyZSA/IEJlYXV0aWZ5KE1hdGgubWluKEdhbWUuY29va2llcyAqIDAuMDMsIEdhbWUuY29va2llc1BzICogNjAgKiAzKSkgOiAnMCd9IC8gJHtCZWF1dGlmeShHYW1lLmNvb2tpZXNQcyAqIDYwICogMyl9YDtcblx0XHR9IGVsc2UgaWYgKHBsYW50TmFtZSA9PT0gJ1F1ZWVuYmVldCcpIHtcblx0XHRcdGwoJ0NNVG9vbHRpcFBsYW50UmV3YXJkJykudGV4dENvbnRlbnQgPSBgJHttYXR1cmUgPyBCZWF1dGlmeShNYXRoLm1pbihHYW1lLmNvb2tpZXMgKiAwLjA0LCBHYW1lLmNvb2tpZXNQcyAqIDYwICogNjApKSA6ICcwJ30gLyAke0JlYXV0aWZ5KEdhbWUuY29va2llc1BzICogNjAgKiA2MCl9YDtcblx0XHR9IGVsc2UgaWYgKHBsYW50TmFtZSA9PT0gJ0R1a2V0YXRlcicpIHtcblx0XHRcdGwoJ0NNVG9vbHRpcFBsYW50UmV3YXJkJykudGV4dENvbnRlbnQgPSBgJHttYXR1cmUgPyBCZWF1dGlmeShNYXRoLm1pbihHYW1lLmNvb2tpZXMgKiAwLjA4LCBHYW1lLmNvb2tpZXNQcyAqIDYwICogMTIwKSkgOiAnMCd9IC8gJHtCZWF1dGlmeShHYW1lLmNvb2tpZXNQcyAqIDYwICogMTIwKX1gO1xuXHRcdH0gZWxzZSBsKCdDTVRvb2x0aXBBcmVhJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0fSBlbHNlIGwoJ0NNVG9vbHRpcEFyZWEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWRkcyBleHRyYSBpbmZvIHRvIHRoZSBHYXJkZW4gSGFydmVzdCBBbGwgdG9vbHRpcFxuICogSXQgaXMgY2FsbGVkIHdoZW4gdGhlIEhhcnZlc3QgQWxsIHRvb2x0aXAgaXMgY3JlYXRlZCBvciByZWZyZXNoZWQgYnkgQ00uRGlzcC5VcGRhdGVUb29sdGlwKClcbiAqIEl0IGFkZHMgdG8gdGhlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gdG8gbCgnQ01Ub29sdGlwQXJlYScpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXJ2ZXN0QWxsKCkge1xuXHRjb25zdCBtaW5pZ2FtZSA9IEdhbWUuT2JqZWN0cy5GYXJtLm1pbmlnYW1lO1xuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBMdW1wKSB7XG5cdFx0bCgnQ01Ub29sdGlwQm9yZGVyJykuYXBwZW5kQ2hpbGQoQ3JlYXRlLlRvb2x0aXBDcmVhdGVIZWFkZXIoJ0Nvb2tpZXMgZ2FpbmVkIGZyb20gaGFydmVzdGluZzonKSk7XG5cdFx0bGV0IHRvdGFsR2FpbiA9IDA7XG5cdFx0bGV0IG1vcnRhbCA9IDA7XG5cdFx0aWYgKEdhbWUua2V5c1sxNl0gJiYgR2FtZS5rZXlzWzE3XSkgbW9ydGFsID0gMTtcblx0XHRmb3IgKGxldCB5ID0gMDsgeSA8IDY7IHkrKykge1xuXHRcdFx0Zm9yIChsZXQgeCA9IDA7IHggPCA2OyB4KyspIHtcblx0XHRcdFx0aWYgKG1pbmlnYW1lLnBsb3RbeV1beF1bMF0gPj0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHRpbGUgPSBtaW5pZ2FtZS5wbG90W3ldW3hdO1xuXHRcdFx0XHRcdGNvbnN0IG1lID0gbWluaWdhbWUucGxhbnRzQnlJZFt0aWxlWzBdIC0gMV07XG5cdFx0XHRcdFx0Y29uc3QgcGxhbnROYW1lID0gbWUubmFtZTtcblxuXHRcdFx0XHRcdGxldCBjb3VudCA9IHRydWU7XG5cdFx0XHRcdFx0aWYgKG1vcnRhbCAmJiBtZS5pbW1vcnRhbCkgY291bnQgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAodGlsZVsxXSA8IG1lLm1hdHVyZUJhc2UpIGNvdW50ID0gZmFsc2U7XG5cdFx0XHRcdFx0aWYgKGNvdW50ICYmIHBsYW50TmFtZSA9PT0gJ0Jha2ViZXJyeScpIHtcblx0XHRcdFx0XHRcdHRvdGFsR2FpbiArPSBNYXRoLm1pbihHYW1lLmNvb2tpZXMgKiAwLjAzLCBHYW1lLmNvb2tpZXNQcyAqIDYwICogMzApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY291bnQgJiYgcGxhbnROYW1lID09PSAnQ2hvY29yb290JyB8fCBwbGFudE5hbWUgPT09ICdXaGl0ZSBjaG9jb3Jvb3QnKSB7XG5cdFx0XHRcdFx0XHR0b3RhbEdhaW4gKz0gTWF0aC5taW4oR2FtZS5jb29raWVzICogMC4wMywgR2FtZS5jb29raWVzUHMgKiA2MCAqIDMpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY291bnQgJiYgcGxhbnROYW1lID09PSAnUXVlZW5iZWV0Jykge1xuXHRcdFx0XHRcdFx0dG90YWxHYWluICs9IE1hdGgubWluKEdhbWUuY29va2llcyAqIDAuMDQsIEdhbWUuY29va2llc1BzICogNjAgKiA2MCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjb3VudCAmJiBwbGFudE5hbWUgPT09ICdEdWtldGF0ZXInKSB7XG5cdFx0XHRcdFx0XHR0b3RhbEdhaW4gKz0gTWF0aC5taW4oR2FtZS5jb29raWVzICogMC4wOCwgR2FtZS5jb29raWVzUHMgKiA2MCAqIDEyMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGwoJ0NNVG9vbHRpcEJvcmRlcicpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KHRvdGFsR2FpbikpKTtcblx0fSBlbHNlIGwoJ0NNVG9vbHRpcEFyZWEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgd2FybmluZ3Mgc2VjdGlvbiBvZiB0aGUgYnVpbGRpbmcgYW5kIHVwZ3JhZGUgdG9vbHRpcHNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5EaXNwLlVwZGF0ZVRvb2x0aXAoKVxuICovXG5leHBvcnQgZnVuY3Rpb24gV2FybmluZ3MoKSB7XG5cdGlmIChUb29sdGlwVHlwZSA9PT0gJ2InIHx8IFRvb2x0aXBUeXBlID09PSAndScpIHtcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NNRGlzcFRvb2x0aXBXYXJuaW5nUGFyZW50JykgPT09IG51bGwpIHtcblx0XHRcdGwoJ3Rvb2x0aXBBbmNob3InKS5hcHBlbmRDaGlsZChDcmVhdGUuVG9vbHRpcENyZWF0ZVdhcm5pbmdTZWN0aW9uKCkpO1xuXHRcdFx0VG9nZ2xlVG9vbFdhcm5Qb3MoKTtcblx0XHR9XG5cblx0XHRpZiAoQ01PcHRpb25zLlRvb2xXYXJuUG9zID09PSAwKSBsKCdDTURpc3BUb29sdGlwV2FybmluZ1BhcmVudCcpLnN0eWxlLnJpZ2h0ID0gJzBweCc7XG5cdFx0ZWxzZSBsKCdDTURpc3BUb29sdGlwV2FybmluZ1BhcmVudCcpLnN0eWxlLnRvcCA9IGAke2woJ3Rvb2x0aXAnKS5vZmZzZXRIZWlnaHR9cHhgO1xuXG5cdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKS5zdHlsZS53aWR0aCA9IGAke2woJ3Rvb2x0aXAnKS5vZmZzZXRXaWR0aCAtIDZ9cHhgO1xuXG5cdFx0Y29uc3QgYW1vdW50ID0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSAtIFRvb2x0aXBQcmljZTtcblx0XHRjb25zdCBib251c0luY29tZVVzZWQgPSBDTU9wdGlvbnMuVG9vbFdhcm5Cb24gPyBUb29sdGlwQm9udXNJbmNvbWUgOiAwO1xuXHRcdGxldCBsaW1pdEx1Y2t5ID0gQ2FjaGVMdWNreTtcblx0XHRpZiAoQ01PcHRpb25zLlRvb2xXYXJuQm9uID09PSAxKSB7XG5cdFx0XHRsZXQgYm9udXNOb0ZyZW4gPSBUb29sdGlwQm9udXNJbmNvbWU7XG5cdFx0XHRib251c05vRnJlbiAvPSBHZXRDUFNCdWZmTXVsdCgpO1xuXHRcdFx0bGltaXRMdWNreSArPSAoKGJvbnVzTm9GcmVuICogNjAgKiAxNSkgLyAwLjE1KTtcblx0XHR9XG5cblx0XHRpZiAoQ01PcHRpb25zLlRvb2xXYXJuTHVja3kgPT09IDEpIHtcblx0XHRcdGlmIChhbW91bnQgPCBsaW1pdEx1Y2t5ICYmIChUb29sdGlwVHlwZSAhPT0gJ2InIHx8IEdhbWUuYnV5TW9kZSA9PT0gMSkpIHtcblx0XHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5MdWNreScpLnN0eWxlLmRpc3BsYXkgPSAnJztcblx0XHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5MdWNreVRleHQnKS50ZXh0Q29udGVudCA9IGAke0JlYXV0aWZ5KGxpbWl0THVja3kgLSBhbW91bnQpfSAoJHtGb3JtYXRUaW1lKChsaW1pdEx1Y2t5IC0gYW1vdW50KSAvIChHZXRDUFMoKSArIGJvbnVzSW5jb21lVXNlZCkpfSlgO1xuXHRcdFx0fSBlbHNlIGwoJ0NNRGlzcFRvb2x0aXBXYXJuTHVja3knKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2Fybkx1Y2t5Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuXHRcdGlmIChDTU9wdGlvbnMuVG9vbFdhcm5MdWNreUZyZW56eSA9PT0gMSkge1xuXHRcdFx0Y29uc3QgbGltaXRMdWNreUZyZW56eSA9IGxpbWl0THVja3kgKiA3O1xuXHRcdFx0aWYgKGFtb3VudCA8IGxpbWl0THVja3lGcmVuenkgJiYgKFRvb2x0aXBUeXBlICE9PSAnYicgfHwgR2FtZS5idXlNb2RlID09PSAxKSkge1xuXHRcdFx0XHRsKCdDTURpc3BUb29sdGlwV2Fybkx1Y2t5RnJlbnp5Jykuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFx0XHRsKCdDTURpc3BUb29sdGlwV2Fybkx1Y2t5RnJlbnp5VGV4dCcpLnRleHRDb250ZW50ID0gYCR7QmVhdXRpZnkobGltaXRMdWNreUZyZW56eSAtIGFtb3VudCl9ICgke0Zvcm1hdFRpbWUoKGxpbWl0THVja3lGcmVuenkgLSBhbW91bnQpIC8gKEdldENQUygpICsgYm9udXNJbmNvbWVVc2VkKSl9KWA7XG5cdFx0XHR9IGVsc2UgbCgnQ01EaXNwVG9vbHRpcFdhcm5MdWNreUZyZW56eScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0fSBlbHNlIGwoJ0NNRGlzcFRvb2x0aXBXYXJuTHVja3lGcmVuenknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0aWYgKENNT3B0aW9ucy5Ub29sV2FybkNvbmp1cmUgPT09IDEpIHtcblx0XHRcdGNvbnN0IGxpbWl0Q29uanVyZSA9IGxpbWl0THVja3kgKiAyO1xuXHRcdFx0aWYgKChhbW91bnQgPCBsaW1pdENvbmp1cmUpICYmIChUb29sdGlwVHlwZSAhPT0gJ2InIHx8IEdhbWUuYnV5TW9kZSA9PT0gMSkpIHtcblx0XHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5Db25qdXJlJykuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFx0XHRsKCdDTURpc3BUb29sdGlwV2FybkNvbmp1cmVUZXh0JykudGV4dENvbnRlbnQgPSBgJHtCZWF1dGlmeShsaW1pdENvbmp1cmUgLSBhbW91bnQpfSAoJHtGb3JtYXRUaW1lKChsaW1pdENvbmp1cmUgLSBhbW91bnQpIC8gKEdldENQUygpICsgYm9udXNJbmNvbWVVc2VkKSl9KWA7XG5cdFx0XHR9IGVsc2UgbCgnQ01EaXNwVG9vbHRpcFdhcm5Db25qdXJlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHR9IGVsc2UgbCgnQ01EaXNwVG9vbHRpcFdhcm5Db25qdXJlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuXHRcdGlmIChDTU9wdGlvbnMuVG9vbFdhcm5Db25qdXJlRnJlbnp5ID09PSAxKSB7XG5cdFx0XHRjb25zdCBsaW1pdENvbmp1cmVGcmVuenkgPSBsaW1pdEx1Y2t5ICogMiAqIDc7XG5cdFx0XHRpZiAoKGFtb3VudCA8IGxpbWl0Q29uanVyZUZyZW56eSkgJiYgKFRvb2x0aXBUeXBlICE9PSAnYicgfHwgR2FtZS5idXlNb2RlID09PSAxKSkge1xuXHRcdFx0XHRsKCdDTURpc3BUb29sdGlwV2FybkNvbmp1cmVGcmVuenknKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRcdGwoJ0NNRGlzcFRvb2x0aXBXYXJuQ29uanVyZUZyZW56eVRleHQnKS50ZXh0Q29udGVudCA9IGAke0JlYXV0aWZ5KGxpbWl0Q29uanVyZUZyZW56eSAtIGFtb3VudCl9ICgke0Zvcm1hdFRpbWUoKGxpbWl0Q29uanVyZUZyZW56eSAtIGFtb3VudCkgLyAoR2V0Q1BTKCkgKyBib251c0luY29tZVVzZWQpKX0pYDtcblx0XHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2FybkNvbmp1cmVGcmVuenknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2FybkNvbmp1cmVGcmVuenknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0aWYgKENNT3B0aW9ucy5Ub29sV2FybkVkaWZpY2UgPT09IDEgJiYgR2FtZS5PYmplY3RzWydXaXphcmQgdG93ZXInXS5taW5pZ2FtZUxvYWRlZCkge1xuXHRcdFx0aWYgKENhY2hlRWRpZmljZSAmJiBhbW91bnQgPCBDYWNoZUVkaWZpY2UgJiYgKFRvb2x0aXBUeXBlICE9PSAnYicgfHwgR2FtZS5idXlNb2RlID09PSAxKSkge1xuXHRcdFx0XHRsKCdDTURpc3BUb29sdGlwV2FybkVkaWZpY2UnKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRcdGwoJ0NNRGlzcFRvb2x0aXBXYXJuRWRpZmljZVRleHQnKS50ZXh0Q29udGVudCA9IGAke0JlYXV0aWZ5KENhY2hlRWRpZmljZSAtIGFtb3VudCl9ICgke0Zvcm1hdFRpbWUoKENhY2hlRWRpZmljZSAtIGFtb3VudCkgLyAoR2V0Q1BTKCkgKyBib251c0luY29tZVVzZWQpKX0pYDtcblx0XHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2FybkVkaWZpY2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2FybkVkaWZpY2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0aWYgKENNT3B0aW9ucy5Ub29sV2FyblVzZXIgPiAwKSB7XG5cdFx0XHRpZiAoYW1vdW50IDwgQ01PcHRpb25zLlRvb2xXYXJuVXNlciAqIEdldENQUygpICYmIChUb29sdGlwVHlwZSAhPT0gJ2InIHx8IEdhbWUuYnV5TW9kZSA9PT0gMSkpIHtcblx0XHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5Vc2VyJykuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFx0XHQvLyBOZWVkIHRvIHVwZGF0ZSB0b29sdGlwIHRleHQgZHluYW1pY2FsbHlcblx0XHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5Vc2VyJykuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBgUHVyY2hhc2Ugb2YgdGhpcyBpdGVtIHdpbGwgcHV0IHlvdSB1bmRlciB0aGUgbnVtYmVyIG9mIENvb2tpZXMgZXF1YWwgdG8gJHtDTU9wdGlvbnMuVG9vbFdhcm5Vc2VyfSBzZWNvbmRzIG9mIENQU2A7XG5cdFx0XHRcdGwoJ0NNRGlzcFRvb2x0aXBXYXJuVXNlclRleHQnKS50ZXh0Q29udGVudCA9IGAke0JlYXV0aWZ5KENNT3B0aW9ucy5Ub29sV2FyblVzZXIgKiBHZXRDUFMoKSAtIGFtb3VudCl9ICgke0Zvcm1hdFRpbWUoKENNT3B0aW9ucy5Ub29sV2FyblVzZXIgKiBHZXRDUFMoKSAtIGFtb3VudCkgLyAoR2V0Q1BTKCkgKyBib251c0luY29tZVVzZWQpKX0pYDtcblx0XHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2FyblVzZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH0gZWxzZSBsKCdDTURpc3BUb29sdGlwV2FyblVzZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHR9IGVsc2UgaWYgKGwoJ0NNRGlzcFRvb2x0aXBXYXJuaW5nUGFyZW50JykgIT09IG51bGwpIHtcblx0XHRsKCdDTURpc3BUb29sdGlwV2FybmluZ1BhcmVudCcpLnJlbW92ZSgpO1xuXHR9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgQ2FjaGVEcmFnb25BdXJhLCBDYWNoZURyYWdvbkF1cmEyIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgRHJhZ29uIEF1cmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlRHJhZ29uQXVyYXMoKSB7XG5cdENhY2hlRHJhZ29uQXVyYSA9IEdhbWUuZHJhZ29uQXVyYTtcblx0Q2FjaGVEcmFnb25BdXJhMiA9IEdhbWUuZHJhZ29uQXVyYTI7XG59XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gY29uc3RydWN0cyBhbiBvYmplY3Qgd2l0aCB0aGUgc3RhdGljIHByb3BlcnRpZXMgb2YgYW4gYWNoaWV2ZW1lbnRcbiAqIEBwYXJhbVx0e3N0cmluZ31cdGFjaGlldmVtZW50TmFtZVx0TmFtZSBvZiB0aGUgQWNoaWV2ZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9XHR5b3VcdFx0XHRcdFRoZSBzdGF0aWMgb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEluaXRBY2hpZXZlbWVudChhY2hpZXZlbWVudE5hbWUpIHtcblx0Y29uc3QgbWUgPSBHYW1lLkFjaGlldmVtZW50c1thY2hpZXZlbWVudE5hbWVdO1xuXHRjb25zdCB5b3UgPSB7fTtcblx0eW91Lm5hbWUgPSBtZS5uYW1lO1xuXHRyZXR1cm4geW91O1xufVxuIiwiaW1wb3J0IHsgU2ltT2JqZWN0cyB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IFNpbUhhcyBmcm9tICcuL1NpbUhhcyc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY3JlYXRlcyBmdW5jdGlvbnMgc2ltaWxhcmx5IHRvIEdhbWUuR2V0VGllcmVkQ3BzTXVsdCBidXQgY2hlY2tzIFNpbSBEYXRhIGluc3RlYWQgb2YgR2FtZSBEYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpbUdldFRpZXJlZENwc011bHQobWUpIHtcblx0bGV0IG11bHQgPSAxO1xuXHRmb3IgKGNvbnN0IGkgaW4gbWUudGllcmVkVXBncmFkZXMpIHtcblx0XHRpZiAoIUdhbWUuVGllcnNbbWUudGllcmVkVXBncmFkZXNbaV0udGllcl0uc3BlY2lhbCAmJiBTaW1IYXMobWUudGllcmVkVXBncmFkZXNbaV0ubmFtZSkpIG11bHQgKj0gMjtcblx0fVxuXHRmb3IgKGNvbnN0IGkgaW4gbWUuc3luZXJnaWVzKSB7XG5cdFx0aWYgKFNpbUhhcyhtZS5zeW5lcmdpZXNbaV0ubmFtZSkpIHtcblx0XHRcdGNvbnN0IHN5biA9IG1lLnN5bmVyZ2llc1tpXTtcblx0XHRcdGlmIChzeW4uYnVpbGRpbmdUaWUxLm5hbWUgPT09IG1lLm5hbWUpIG11bHQgKj0gKDEgKyAwLjA1ICogc3luLmJ1aWxkaW5nVGllMi5hbW91bnQpO1xuXHRcdFx0ZWxzZSBpZiAoc3luLmJ1aWxkaW5nVGllMi5uYW1lID09PSBtZS5uYW1lKSBtdWx0ICo9ICgxICsgMC4wMDEgKiBzeW4uYnVpbGRpbmdUaWUxLmFtb3VudCk7XG5cdFx0fVxuXHR9XG5cdGlmIChtZS5mb3J0dW5lICYmIFNpbUhhcyhtZS5mb3J0dW5lLm5hbWUpKSBtdWx0ICo9IDEuMDc7XG5cdGlmIChtZS5ncmFuZG1hICYmIFNpbUhhcyhtZS5ncmFuZG1hLm5hbWUpKSBtdWx0ICo9ICgxICsgU2ltT2JqZWN0cy5HcmFuZG1hLmFtb3VudCAqIDAuMDEgKiAoMSAvIChtZS5pZCAtIDEpKSk7XG5cdGlmICh0eXBlb2YgbWUudGllcmVkVXBncmFkZXMubWlzZm9ydHVuZSA9PT0gJ29iamVjdCcpIHtcblx0XHRpZiAobWUudmFuaWxsYSA9PT0gMSAmJiBTaW1IYXMobWUudGllcmVkVXBncmFkZXMubWlzZm9ydHVuZS5uYW1lKSkge1xuXHRcdFx0c3dpdGNoIChHYW1lLmVsZGVyV3JhdGgpIHtcblx0XHRcdGRlZmF1bHQ6IG11bHQgKj0gMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IG11bHQgKj0gMS4wMjsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IG11bHQgKj0gMS4wNDsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IG11bHQgKj0gMS4wNjsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtdWx0O1xufVxuIiwiaW1wb3J0IFNpbUdldFRpZXJlZENwc011bHQgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUdldFRpZXJlZENwc011bHQnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY29uc3RydWN0cyBhbiBvYmplY3Qgd2l0aCB0aGUgc3RhdGljIHByb3BlcnRpZXMgb2YgYSBidWlsZGluZyxcbiAqIGJ1dCB3aXRoIGEgJ2NwcycgbWV0aG9kIGNoYW5nZWQgdG8gY2hlY2sgc2ltIGRhdGFcbiAqXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHRidWlsZGluZ05hbWVcdE5hbWUgb2YgdGhlIGJ1aWxkaW5nXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0eW91XHRcdFx0XHRUaGUgc3RhdGljIG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbml0aWFsQnVpbGRpbmdEYXRhKGJ1aWxkaW5nTmFtZSkge1xuXHRjb25zdCBtZSA9IEdhbWUuT2JqZWN0c1tidWlsZGluZ05hbWVdO1xuXHRjb25zdCB5b3UgPSB7fTtcblx0eW91LmNwcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRsZXQgbXVsdCA9IDE7XG5cdFx0bXVsdCAqPSBTaW1HZXRUaWVyZWRDcHNNdWx0KG1lKTtcblx0XHRtdWx0ICo9IEdhbWUubWFnaWNDcFMobWUubmFtZSk7XG5cdFx0cmV0dXJuIG1lLmJhc2VDcHMgKiBtdWx0O1xuXHR9O1xuXHQvLyBCZWxvdyBpcyBuZWVkZWQgZm9yIGFib3ZlIGV2YWwsIHNwZWNpZmljYWxseSBmb3IgdGhlIEdldFRpZXJlZENwc011bHQgZnVuY3Rpb25cblx0eW91LmJhc2VDcHMgPSBtZS5iYXNlQ3BzO1xuXHR5b3UubmFtZSA9IG1lLm5hbWU7XG5cdHlvdS50aWVyZWRVcGdyYWRlcyA9IG1lLnRpZXJlZFVwZ3JhZGVzO1xuXHR5b3Uuc3luZXJnaWVzID0gbWUuc3luZXJnaWVzO1xuXHR5b3UuZm9ydHVuZSA9IG1lLmZvcnR1bmU7XG5cdHlvdS5ncmFuZG1hID0gbWUuZ3JhbmRtYTtcblx0eW91LmJhc2VDUFMgPSBtZS5iYXNlQ3BzO1xuXHR5b3UuaWQgPSBtZS5pZDtcblx0eW91LnZhbmlsbGEgPSBtZS52YW5pbGxhO1xuXHRyZXR1cm4geW91O1xufVxuIiwiaW1wb3J0IFNpbUhhcyBmcm9tICcuLi9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltSGFzJztcbmltcG9ydCBTaW1IYXNHb2QgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUhhc0dvZCc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjb25zdHJ1Y3RzIGFuIG9iamVjdCB3aXRoIHRoZSBzdGF0aWMgcHJvcGVydGllcyBvZiBhbiB1cGdyYWRlXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHR1cGdyYWRlTmFtZVx0XHROYW1lIG9mIHRoZSBVcGdyYWRlXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0eW91XHRcdFx0XHRUaGUgc3RhdGljIG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbml0VXBncmFkZSh1cGdyYWRlTmFtZSkge1xuXHRjb25zdCBtZSA9IEdhbWUuVXBncmFkZXNbdXBncmFkZU5hbWVdO1xuXHRjb25zdCB5b3UgPSB7fTtcblx0Ly8gU29tZSB1cGdyYWRlcyBoYXZlIGEgZnVuY3Rpb24gZm9yIC5wb3dlciAobm90YWJseSB0aGUgdmFsZW50aW5lIGNvb2tpZXMpXG5cdHlvdS5wb3dlciA9IG1lLnBvd2VyO1xuXHRpZiAodHlwZW9mIChtZS5wb3dlcikgPT09ICdmdW5jdGlvbicpIHtcblx0XHRtZS5wb3dlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGxldCBwb3cgPSAyO1xuXHRcdFx0aWYgKFNpbUhhcygnU3RhcmxvdmUnKSkgcG93ID0gMztcblx0XHRcdGlmIChHYW1lLmhhc0dvZCkge1xuXHRcdFx0XHRjb25zdCBnb2RMdmwgPSBTaW1IYXNHb2QoJ3NlYXNvbnMnKTtcblx0XHRcdFx0aWYgKGdvZEx2bCA9PT0gMSkgcG93ICo9IDEuMztcblx0XHRcdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAyKSBwb3cgKj0gMS4yO1xuXHRcdFx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDMpIHBvdyAqPSAxLjE7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcG93O1xuXHRcdH07XG5cdH1cblx0eW91LnBvb2wgPSBtZS5wb29sO1xuXHR5b3UubmFtZSA9IG1lLm5hbWU7XG5cdHJldHVybiB5b3U7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IENhY2hlRHJhZ29uQXVyYXMgZnJvbSAnLi4vLi4vQ2FjaGUvRHJhZ29uL0NhY2hlRHJhZ29uQXVyYXMnO1xuaW1wb3J0IHsgQ2FjaGVEcmFnb25BdXJhLCBDYWNoZURyYWdvbkF1cmEyIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDcmVhdGVCb3RCYXJCdWlsZGluZ0NvbHVtbiB9IGZyb20gJy4uLy4uL0Rpc3AvSW5mb0JhcnMvQ3JlYXRlRE9NRWxlbWVudHMnO1xuaW1wb3J0IEluaXRBY2hpZXZlbWVudCBmcm9tICcuLi9Jbml0aWFsaXplRGF0YS9Jbml0QWNoaWV2ZW1lbnQnO1xuaW1wb3J0IEluaXRpYWxCdWlsZGluZ0RhdGEgZnJvbSAnLi4vSW5pdGlhbGl6ZURhdGEvSW5pdGlhbEJ1aWxkaW5nRGF0YSc7XG5pbXBvcnQgSW5pdFVwZ3JhZGUgZnJvbSAnLi4vSW5pdGlhbGl6ZURhdGEvSW5pdFVwZ3JhZGUnO1xuaW1wb3J0IHtcblx0U2ltQWNoaWV2ZW1lbnRzLCBTaW1BY2hpZXZlbWVudHNPd25lZCwgU2ltRHJhZ29uQXVyYSwgU2ltRHJhZ29uQXVyYTIsIFNpbUhlYXZlbmx5UG93ZXIsIFNpbU9iamVjdHMsIFNpbVBsZWRnZXMsIFNpbVByZXN0aWdlLCBTaW1VcGdyYWRlcywgU2ltVXBncmFkZXNPd25lZCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjb3BpZXMgYWxsIHJlbGV2YW50IGRhdGEgYW5kIHRoZXJlZm9yZSBzZXRzIGEgbmV3IGl0ZXJhdGlvbiBvZiB0aGUgXCJzaW0gZGF0YVwiXG4gKiBJdCBpcyBjYWxsZWQgYXQgdGhlIHN0YXJ0IG9mIGFueSBmdW5jdGlvbiB0aGF0IHNpbXVsYXRlcyBjZXJ0YWluIGJlaGF2aW91ciBvciBhY3Rpb25zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvcHlEYXRhKCkge1xuXHQvLyBPdGhlciB2YXJpYWJsZXNcblx0U2ltVXBncmFkZXNPd25lZCA9IEdhbWUuVXBncmFkZXNPd25lZDtcblx0U2ltUGxlZGdlcyA9IEdhbWUucGxlZGdlcztcblx0U2ltQWNoaWV2ZW1lbnRzT3duZWQgPSBHYW1lLkFjaGlldmVtZW50c093bmVkO1xuXHRTaW1IZWF2ZW5seVBvd2VyID0gR2FtZS5oZWF2ZW5seVBvd2VyO1xuXHRTaW1QcmVzdGlnZSA9IEdhbWUucHJlc3RpZ2U7XG5cblx0Ly8gQnVpbGRpbmdzXG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHMpKSB7XG5cdFx0Y29uc3QgbWUgPSBHYW1lLk9iamVjdHNbaV07XG5cdFx0bGV0IHlvdSA9IFNpbU9iamVjdHNbaV07XG5cdFx0aWYgKHlvdSA9PT0gdW5kZWZpbmVkKSB7IC8vIE5ldyBidWlsZGluZyFcblx0XHRcdFNpbU9iamVjdHNbaV0gPSBJbml0aWFsQnVpbGRpbmdEYXRhKGkpO1xuXHRcdFx0eW91ID0gU2ltT2JqZWN0c1tpXTtcblx0XHRcdENyZWF0ZUJvdEJhckJ1aWxkaW5nQ29sdW1uKGkpOyAvLyBBZGQgbmV3IGJ1aWxkaW5nIHRvIHRoZSBib3R0b20gYmFyXG5cdFx0fVxuXHRcdHlvdS5hbW91bnQgPSBtZS5hbW91bnQ7XG5cdFx0eW91LmxldmVsID0gbWUubGV2ZWw7XG5cdFx0eW91LnRvdGFsQ29va2llcyA9IG1lLnRvdGFsQ29va2llcztcblx0XHR5b3UuYmFzZVByaWNlID0gbWUuYmFzZVByaWNlO1xuXHRcdHlvdS5mcmVlID0gbWUuZnJlZTtcblx0XHRpZiAobWUubWluaWdhbWVMb2FkZWQpIHtcblx0XHRcdHlvdS5taW5pZ2FtZUxvYWRlZCA9IG1lLm1pbmlnYW1lTG9hZGVkO1xuXHRcdFx0eW91Lm1pbmlnYW1lID0gbWUubWluaWdhbWU7XG5cdFx0fVxuXHR9XG5cblx0Ly8gVXBncmFkZXNcblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuVXBncmFkZXMpKSB7XG5cdFx0Y29uc3QgbWUgPSBHYW1lLlVwZ3JhZGVzW2ldO1xuXHRcdGxldCB5b3UgPSBTaW1VcGdyYWRlc1tpXTtcblx0XHRpZiAoeW91ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFNpbVVwZ3JhZGVzW2ldID0gSW5pdFVwZ3JhZGUoaSk7XG5cdFx0XHR5b3UgPSBTaW1VcGdyYWRlc1tpXTtcblx0XHR9XG5cdFx0eW91LmJvdWdodCA9IG1lLmJvdWdodDtcblx0fVxuXG5cdC8vIEFjaGlldmVtZW50c1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5BY2hpZXZlbWVudHMpKSB7XG5cdFx0Y29uc3QgbWUgPSBHYW1lLkFjaGlldmVtZW50c1tpXTtcblx0XHRsZXQgeW91ID0gU2ltQWNoaWV2ZW1lbnRzW2ldO1xuXHRcdGlmICh5b3UgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0U2ltQWNoaWV2ZW1lbnRzW2ldID0gSW5pdEFjaGlldmVtZW50KGkpO1xuXHRcdFx0eW91ID0gU2ltQWNoaWV2ZW1lbnRzW2ldO1xuXHRcdH1cblx0XHR5b3Uud29uID0gbWUud29uO1xuXHR9XG5cblx0Ly8gQXVyYXNcblx0Q2FjaGVEcmFnb25BdXJhcygpO1xuXHRTaW1EcmFnb25BdXJhID0gQ2FjaGVEcmFnb25BdXJhO1xuXHRTaW1EcmFnb25BdXJhMiA9IENhY2hlRHJhZ29uQXVyYTI7XG59XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgdG90YWwgcHJpY2UgZm9yIGJ1eWluZyBcImluY3JlYXNlXCIgb2YgYSBidWlsZGluZ1xuICogQmFzZSBHYW1lIGRvZXMgbm90IGN1cnJlbnRseSBhbGxvdyB0aGlzXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuQ2FjaGVCdWlsZGluZ3NQcmljZXMoKSBhbmQgQ00uRGlzcC5Ub29sdGlwKClcbiAqIEBwYXJhbVx0e3N0cmluZ31cdGJ1aWxkXHRcdE5hbWUgb2YgdGhlIGJ1aWxkaW5nXG4gKiBAcGFyYW1cdHtudW1iZXJ9XHRiYXNlUHJpY2VcdEJhc2UgUHJpY2Ugb2YgYnVpbGRpbmdcbiAqIEBwYXJhbVx0e251bWJlcn1cdHN0YXJ0XHRcdFN0YXJ0aW5nIGFtb3VudCBvZiBidWlsZGluZ1xuICogQHBhcmFtXHR7bnVtYmVyfVx0ZnJlZVx0XHRGcmVlIGFtb3VudCBvZiBidWlsZGluZ1xuICogQHBhcmFtXHR7bnVtYmVyfVx0aW5jcmVhc2VcdEluY3JlYXNlIG9mIGJ1aWxkaW5nXG4gKiBAcmV0dXJucyB7bnVtYmVyfVx0bW9uaVx0XHRUb3RhbCBwcmljZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdWlsZGluZ0dldFByaWNlKGJ1aWxkLCBiYXNlUHJpY2UsIHN0YXJ0LCBmcmVlLCBpbmNyZWFzZSkge1xuXHRsZXQgbW9uaSA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaW5jcmVhc2U7IGkrKykge1xuXHRcdGxldCBwcmljZSA9IGJhc2VQcmljZSAqIEdhbWUucHJpY2VJbmNyZWFzZSAqKiBNYXRoLm1heCgwLCBzdGFydCAtIGZyZWUpO1xuXHRcdHByaWNlID0gR2FtZS5tb2RpZnlCdWlsZGluZ1ByaWNlKGJ1aWxkLCBwcmljZSk7XG5cdFx0cHJpY2UgPSBNYXRoLmNlaWwocHJpY2UpO1xuXHRcdG1vbmkgKz0gcHJpY2U7XG5cdFx0c3RhcnQrKztcblx0fVxuXHRyZXR1cm4gbW9uaTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgKiBhcyBVcGRhdGVUb29sdGlwIGZyb20gJy4vVXBkYXRlVG9vbHRpcHMnO1xuaW1wb3J0IHsgVG9vbHRpcENyZWF0ZVRvb2x0aXBCb3ggfSBmcm9tICcuL0NyZWF0ZVRvb2x0aXAnO1xuaW1wb3J0IHsgQmVhdXRpZnksIEdldFRpbWVDb2xvciB9IGZyb20gJy4uL0JlYXV0aWZ5QW5kRm9ybWF0dGluZy9CZWF1dGlmeUZvcm1hdHRpbmcnO1xuaW1wb3J0IENvcHlEYXRhIGZyb20gJy4uLy4uL1NpbS9TaW11bGF0aW9uRGF0YS9Db3B5RGF0YSc7XG5pbXBvcnQgeyBUb29sdGlwTmFtZSwgVG9vbHRpcFR5cGUgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBCdWlsZGluZ0dldFByaWNlIGZyb20gJy4uLy4uL1NpbS9TaW11bGF0aW9uRXZlbnRzL0J1eUJ1aWxkaW5nJztcblxuLyoqIEFsbCBnZW5lcmFsIGZ1bmN0aW9ucyByZWxhdGVkIHRvIGNyZWF0aW5nIGFuZCB1cGRhdGluZyB0b29sdGlwcyAqL1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBzb21lIHZlcnkgYmFzaWMgdG9vbHRpcHMsIChlLmcuLCB0aGUgdG9vbHRpcHMgaW4gdGhlIHN0YXRzIHBhZ2UpXG4gKiBUaGUgdG9vbHRpcHMgYXJlIGNyZWF0ZWQgd2l0aCBDTS5EaXNwW3BsYWNlaG9sZGVyXS5hcHBlbmRDaGlsZChkZXNjKVxuICogQHBhcmFtXHR7c3RyaW5nfVx0cGxhY2Vob2xkZXJcdFRoZSBuYW1lIHVzZWQgdG8gbGF0ZXIgcmVmZXIgYW5kIHNwYXduIHRoZSB0b29sdGlwXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHR0ZXh0XHRcdFRoZSB0ZXh0IG9mIHRoZSB0b29sdGlwXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHRtaW5XaWR0aFx0VGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHRvb2x0aXBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVNpbXBsZVRvb2x0aXAocGxhY2Vob2xkZXIsIHRleHQsIG1pbldpZHRoKSB7XG5cdGNvbnN0IFRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0VG9vbHRpcC5pZCA9IHBsYWNlaG9sZGVyO1xuXHRjb25zdCBkZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGRlc2Muc3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0ZGVzYy5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4Jztcblx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGRpdi5zdHlsZS50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cdGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XG5cdGRlc2MuYXBwZW5kQ2hpbGQoZGl2KTtcblx0VG9vbHRpcC5hcHBlbmRDaGlsZChkZXNjKTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGVuaGFuY2UgdGhlIHN0YW5kYXJkIHRvb2x0aXBzIGJ5IGNyZWF0aW5nIGFuZCBjaGFuZ2luZyBsKCd0b29sdGlwJylcbiAqIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgLm9ubW91c2VvdmVyIGV2ZW50cyB0aGF0IGhhdmUgcmVwbGFjZWQgb3JpZ2luYWwgY29kZSB0byB1c2UgQ00uRGlzcC5Ub29sdGlwKClcbiAqIEBwYXJhbVx0e3N0cmluZ31cdHR5cGVcdFx0XHRcdFx0VHlwZSBvZiB0b29sdGlwIChiLCB1LCBzIG9yIGcpXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHRuYW1lXHRcdFx0XHRcdE5hbWUgb2YgdGhlIG9iamVjdC9pdGVtIHRoZSB0b29sdGlwIHJlbGF0ZXMgdG9cbiAqIEByZXR1cm5zIHtzdHJpbmd9XHRsKCd0b29sdGlwJykuaW5uZXJIVE1MXHRUaGUgSFRNTCBvZiB0aGUgbCgndG9vbHRpcCcpLW9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlVG9vbHRpcCh0eXBlLCBuYW1lKSB7XG5cdGlmICh0eXBlID09PSAnYicpIHsgLy8gQnVpbGRpbmdzXG5cdFx0bCgndG9vbHRpcCcpLmlubmVySFRNTCA9IEdhbWUuT2JqZWN0c1tuYW1lXS50b29sdGlwKCk7XG5cdFx0Ly8gQWRkcyBhbW9ydGl6YXRpb24gaW5mbyB0byB0aGUgbGlzdCBvZiBpbmZvIHBlciBidWlsZGluZ1xuXHRcdGlmIChDTU9wdGlvbnMuVG9vbHRpcEFtb3IgPT09IDEpIHtcblx0XHRcdGNvbnN0IGJ1aWxkUHJpY2UgPSBCdWlsZGluZ0dldFByaWNlKEdhbWUuT2JqZWN0c1tuYW1lXSwgR2FtZS5PYmplY3RzW25hbWVdLmJhc2VQcmljZSwgMCwgR2FtZS5PYmplY3RzW25hbWVdLmZyZWUsIEdhbWUuT2JqZWN0c1tuYW1lXS5hbW91bnQpO1xuXHRcdFx0Y29uc3QgYW1vcnRpemVBbW91bnQgPSBidWlsZFByaWNlIC0gR2FtZS5PYmplY3RzW25hbWVdLnRvdGFsQ29va2llcztcblx0XHRcdGlmIChhbW9ydGl6ZUFtb3VudCA+IDApIHtcblx0XHRcdFx0bCgndG9vbHRpcCcpLmlubmVySFRNTCA9IGwoJ3Rvb2x0aXAnKS5pbm5lckhUTUxcblx0XHRcdFx0XHQuc3BsaXQoJ3NvIGZhcjwvZGl2PicpXG5cdFx0XHRcdFx0LmpvaW4oYHNvIGZhcjxici8+JmJ1bGw7IDxiPiR7QmVhdXRpZnkoYW1vcnRpemVBbW91bnQpfTwvYj4gJHtNYXRoLmZsb29yKGFtb3J0aXplQW1vdW50KSA9PT0gMSA/ICdjb29raWUnIDogJ2Nvb2tpZXMnfSBsZWZ0IHRvIGFtb3J0aXplICgke0dldFRpbWVDb2xvcigoYnVpbGRQcmljZSAtIEdhbWUuT2JqZWN0c1tuYW1lXS50b3RhbENvb2tpZXMpIC8gKEdhbWUuT2JqZWN0c1tuYW1lXS5zdG9yZWRUb3RhbENwcyAqIEdhbWUuZ2xvYmFsQ3BzTXVsdCkpLnRleHR9KTwvZGl2PmApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoR2FtZS5idXlNb2RlID09PSAtMSkge1xuXHRcdFx0LypcbiAgICAgICAgICAgICAqIEZpeCBzZWxsIHByaWNlIGRpc3BsYXllZCBpbiB0aGUgb2JqZWN0IHRvb2x0aXAuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIGJ1aWxkaW5ncyBzZWxsIHByaWNlIGRpc3BsYXllZCBieSB0aGUgZ2FtZSBpdHNlbGYgKHdpdGhvdXQgYW55IG1vZCkgaXMgaW5jb3JyZWN0LlxuICAgICAgICAgICAgICogVGhlIGZvbGxvd2luZyBsaW5lIG9mIGNvZGUgZml4ZXMgdGhpcyBpc3N1ZSwgYW5kIGNhbiBiZSBzYWZlbHkgcmVtb3ZlZCB3aGVuIHRoZSBnYW1lIGdldHMgZml4ZWQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhpcyBpc3N1ZSBpcyBleHRlbnNpdmVseSBkZXRhaWxlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vQWt0YW51c2EvQ29va2llTW9uc3Rlci9pc3N1ZXMvMzU5I2lzc3VlY29tbWVudC03MzU2NTgyNjJcbiAgICAgICAgICAgICAqL1xuXHRcdFx0bCgndG9vbHRpcCcpLmlubmVySFRNTCA9IGwoJ3Rvb2x0aXAnKS5pbm5lckhUTUwuc3BsaXQoQmVhdXRpZnkoR2FtZS5PYmplY3RzW25hbWVdLmJ1bGtQcmljZSkpLmpvaW4oQmVhdXRpZnkoKEdhbWUuT2JqZWN0c1tuYW1lXSwgR2FtZS5PYmplY3RzW25hbWVdLmJhc2VQcmljZSwgR2FtZS5PYmplY3RzW25hbWVdLmFtb3VudCwgR2FtZS5PYmplY3RzW25hbWVdLmZyZWUsIEdhbWUuYnV5QnVsaywgMSkpKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3UnKSB7IC8vIFVwZ3JhZGVzXG5cdFx0aWYgKCFHYW1lLlVwZ3JhZGVzSW5TdG9yZVtuYW1lXSkgcmV0dXJuICcnO1xuXHRcdGwoJ3Rvb2x0aXAnKS5pbm5lckhUTUwgPSBHYW1lLmNyYXRlVG9vbHRpcChHYW1lLlVwZ3JhZGVzSW5TdG9yZVtuYW1lXSwgJ3N0b3JlJyk7XG5cdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3MnKSBsKCd0b29sdGlwJykuaW5uZXJIVE1MID0gR2FtZS5sdW1wVG9vbHRpcCgpOyAvLyBTdWdhciBMdW1wc1xuXHRlbHNlIGlmICh0eXBlID09PSAnZycpIGwoJ3Rvb2x0aXAnKS5pbm5lckhUTUwgPSBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lLnNwZWxsVG9vbHRpcChuYW1lKSgpOyAvLyBHcmltb2lyZVxuXHRlbHNlIGlmICh0eXBlID09PSAncCcpIGwoJ3Rvb2x0aXAnKS5pbm5lckhUTUwgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnRpbGVUb29sdGlwKG5hbWVbMF0sIG5hbWVbMV0pKCk7IC8vIEdhcmRlbiBwbG90c1xuXHRlbHNlIGlmICh0eXBlID09PSAnaGEnKSBsKCd0b29sdGlwJykuaW5uZXJIVE1MID0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS50b29sVG9vbHRpcCgxKSgpOyAvLyBIYXJ2ZXN0IGFsbCBidXR0b24gaW4gZ2FyZGVuXG5cblx0Ly8gQWRkcyBhcmVhIGZvciBleHRyYSB0b29sdGlwLXNlY3Rpb25zXG5cdGlmICgodHlwZSA9PT0gJ2InICYmIEdhbWUuYnV5TW9kZSA9PT0gMSkgfHwgdHlwZSA9PT0gJ3UnIHx8IHR5cGUgPT09ICdzJyB8fCB0eXBlID09PSAnZycgfHwgKHR5cGUgPT09ICdwJyAmJiAhR2FtZS5rZXlzWzE2XSkgfHwgdHlwZSA9PT0gJ2hhJykge1xuXHRcdGNvbnN0IGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRhcmVhLmlkID0gJ0NNVG9vbHRpcEFyZWEnO1xuXHRcdGwoJ3Rvb2x0aXAnKS5hcHBlbmRDaGlsZChhcmVhKTtcblx0fVxuXG5cdC8vIFNldHMgZ2xvYmFsIHZhcmlhYmxlcyB1c2VkIGJ5IENNLkRpc3AuVXBkYXRlVG9vbHRpcCgpXG5cdFRvb2x0aXBUeXBlID0gdHlwZTtcblx0VG9vbHRpcE5hbWUgPSBuYW1lO1xuXG5cdFVwZGF0ZVRvb2x0aXBzKCk7XG5cblx0cmV0dXJuIGwoJ3Rvb2x0aXAnKS5pbm5lckhUTUw7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBzZWN0aW9ucyBvZiB0aGUgdG9vbHRpcHMgY3JlYXRlZCBieSBDb29raWVNb25zdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVUb29sdGlwcygpIHtcblx0Q29weURhdGEoKTtcblx0aWYgKGwoJ3Rvb2x0aXBBbmNob3InKS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiYgbCgnQ01Ub29sdGlwQXJlYScpKSB7XG5cdFx0bCgnQ01Ub29sdGlwQXJlYScpLmlubmVySFRNTCA9ICcnO1xuXHRcdGNvbnN0IHRvb2x0aXBCb3ggPSBUb29sdGlwQ3JlYXRlVG9vbHRpcEJveCgpO1xuXHRcdGwoJ0NNVG9vbHRpcEFyZWEnKS5hcHBlbmRDaGlsZCh0b29sdGlwQm94KTtcblxuXHRcdGlmIChUb29sdGlwVHlwZSA9PT0gJ2InKSB7XG5cdFx0XHRVcGRhdGVUb29sdGlwLkJ1aWxkaW5nKCk7XG5cdFx0fSBlbHNlIGlmIChUb29sdGlwVHlwZSA9PT0gJ3UnKSB7XG5cdFx0XHRVcGRhdGVUb29sdGlwLlVwZ3JhZGUoKTtcblx0XHR9IGVsc2UgaWYgKFRvb2x0aXBUeXBlID09PSAncycpIHtcblx0XHRcdFVwZGF0ZVRvb2x0aXAuU3VnYXJMdW1wKCk7XG5cdFx0fSBlbHNlIGlmIChUb29sdGlwVHlwZSA9PT0gJ2cnKSB7XG5cdFx0XHRVcGRhdGVUb29sdGlwLkdyaW1vaXJlKCk7XG5cdFx0fSBlbHNlIGlmIChUb29sdGlwVHlwZSA9PT0gJ3AnKSB7XG5cdFx0XHRVcGRhdGVUb29sdGlwLkdhcmRlblBsb3RzKCk7XG5cdFx0fSBlbHNlIGlmIChUb29sdGlwVHlwZSA9PT0gJ2hhJykge1xuXHRcdFx0VXBkYXRlVG9vbHRpcC5IYXJ2ZXN0QWxsKCk7XG5cdFx0fVxuXHRcdFVwZGF0ZVRvb2x0aXAuV2FybmluZ3MoKTtcblx0fSBlbHNlIGlmIChsKCdDTVRvb2x0aXBBcmVhJykgPT09IG51bGwpIHsgLy8gUmVtb3ZlIHdhcm5pbmdzIGlmIGl0cyBhIGJhc2ljIHRvb2x0aXBcblx0XHRpZiAobCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKSAhPT0gbnVsbCkge1xuXHRcdFx0bCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKS5yZW1vdmUoKTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IFNpbU9iamVjdHMgfSBmcm9tICcuLi8uLi9TaW0vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBCZWF1dGlmeSB9IGZyb20gJy4uL0JlYXV0aWZ5QW5kRm9ybWF0dGluZy9CZWF1dGlmeUZvcm1hdHRpbmcnO1xuaW1wb3J0IHsgVG9vbHRpcFdyaW5rbGVyLCBUb29sdGlwV3JpbmtsZXJBcmVhLCBUb29sdGlwV3JpbmtsZXJCZWluZ1Nob3duIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgYW5kIGNyZWF0ZSBhIHRvb2x0aXAgZm9yIHRoZSB3cmlua2xlcnNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5EaXNwLkRyYXcoKVxuICogQXMgd3JpbmtsZXJzIGFyZSBub3QgYXBwZW5kZWQgdG8gdGhlIERPTSB3ZSB1cyBhIGRpZmZlcmVudCBzeXN0ZW0gdGhhbiBmb3Igb3RoZXIgdG9vbHRpcHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENoZWNrV3JpbmtsZXJUb29sdGlwKCkge1xuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBXcmluayA9PT0gMSAmJiBUb29sdGlwV3JpbmtsZXJBcmVhID09PSAxKSB7IC8vIExhdHRlciBpcyBzZXQgYnkgQ00uTWFpbi5BZGRXcmlua2xlckFyZWFEZXRlY3Rcblx0XHRsZXQgc2hvd2luZ1Rvb2x0aXAgPSBmYWxzZTtcblx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS53cmlua2xlcnMpKSB7XG5cdFx0XHRjb25zdCBtZSA9IEdhbWUud3JpbmtsZXJzW2ldO1xuXHRcdFx0aWYgKG1lLnBoYXNlID4gMCAmJiBtZS5zZWxlY3RlZCkge1xuXHRcdFx0XHRzaG93aW5nVG9vbHRpcCA9IHRydWU7XG5cdFx0XHRcdGlmIChUb29sdGlwV3JpbmtsZXJCZWluZ1Nob3duW2ldID09PSAwIHx8IFRvb2x0aXBXcmlua2xlckJlaW5nU2hvd25baV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdFx0Y29uc3Qgd3JpbmtsZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0XHR3cmlua2xlci5zdHlsZS5taW5XaWR0aCA9ICcxMjBweCc7XG5cdFx0XHRcdFx0d3JpbmtsZXIuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7XG5cdFx0XHRcdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdFx0ZGl2LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHRcdFx0XHRcdGRpdi5pZCA9ICdDTVRvb2x0aXBXcmlua2xlcic7XG5cdFx0XHRcdFx0d3JpbmtsZXIuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHRcdFx0XHRwbGFjZWhvbGRlci5hcHBlbmRDaGlsZCh3cmlua2xlcik7XG5cdFx0XHRcdFx0R2FtZS50b29sdGlwLmRyYXcodGhpcywgZXNjYXBlKHBsYWNlaG9sZGVyLmlubmVySFRNTCkpO1xuXHRcdFx0XHRcdFRvb2x0aXBXcmlua2xlciA9IGk7XG5cdFx0XHRcdFx0VG9vbHRpcFdyaW5rbGVyQmVpbmdTaG93bltpXSA9IDE7XG5cdFx0XHRcdH0gZWxzZSBicmVhaztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFRvb2x0aXBXcmlua2xlckJlaW5nU2hvd25baV0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIXNob3dpbmdUb29sdGlwKSB7XG5cdFx0XHRHYW1lLnRvb2x0aXAuaGlkZSgpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgYW1vdW50IHRvIGJlIGRpc3BsYXllZCBieSB0aGUgd3JpbmtsZXIgdG9vbHRpcCBjcmVhdGVkIGJ5IENNLkRpc3AuQ2hlY2tXcmlua2xlclRvb2x0aXAoKVxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuRHJhdygpXG4gKiBBcyB3cmlua2xlcnMgYXJlIG5vdCBhcHBlbmRlZCB0byB0aGUgRE9NIHdlIHVzIGEgZGlmZmVyZW50IHN5c3RlbSB0aGFuIGZvciBvdGhlciB0b29sdGlwc1xuICovXG5leHBvcnQgZnVuY3Rpb24gVXBkYXRlV3JpbmtsZXJUb29sdGlwKCkge1xuXHRpZiAoQ01PcHRpb25zLlRvb2x0aXBXcmluayA9PT0gMSAmJiBsKCdDTVRvb2x0aXBXcmlua2xlcicpICE9PSBudWxsKSB7XG5cdFx0bGV0IHN1Y2tlZCA9IEdhbWUud3JpbmtsZXJzW1Rvb2x0aXBXcmlua2xlcl0uc3Vja2VkO1xuXHRcdGxldCB0b1N1Y2sgPSAxLjE7XG5cdFx0aWYgKEdhbWUuSGFzKCdTYWNyaWxlZ2lvdXMgY29ycnVwdGlvbicpKSB0b1N1Y2sgKj0gMS4wNTtcblx0XHRpZiAoR2FtZS53cmlua2xlcnNbVG9vbHRpcFdyaW5rbGVyXS50eXBlID09PSAxKSB0b1N1Y2sgKj0gMzsgLy8gU2hpbnkgd3JpbmtsZXJzXG5cdFx0c3Vja2VkICo9IHRvU3Vjaztcblx0XHRpZiAoR2FtZS5IYXMoJ1dyaW5rbGVyc3Bhd24nKSkgc3Vja2VkICo9IDEuMDU7XG5cdFx0aWYgKFNpbU9iamVjdHMuVGVtcGxlLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0XHRjb25zdCBnb2RMdmwgPSBHYW1lLmhhc0dvZCgnc2Nvcm4nKTtcblx0XHRcdGlmIChnb2RMdmwgPT09IDEpIHN1Y2tlZCAqPSAxLjE1O1xuXHRcdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAyKSBzdWNrZWQgKj0gMS4xO1xuXHRcdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAzKSBzdWNrZWQgKj0gMS4wNTtcblx0XHR9XG5cdFx0bCgnQ01Ub29sdGlwV3JpbmtsZXInKS50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KHN1Y2tlZCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBVcGRhdGVCdWlsZGluZ3MgZnJvbSAnLi9CdWlsZGluZ3NVcGdyYWRlcy9CdWlsZGluZ3MnO1xuaW1wb3J0IFVwZGF0ZVVwZ3JhZGVzIGZyb20gJy4vQnVpbGRpbmdzVXBncmFkZXMvVXBncmFkZXMnO1xuaW1wb3J0IHsgVXBkYXRlQm90QmFyIH0gZnJvbSAnLi9JbmZvQmFycy9Cb3R0b21CYXInO1xuaW1wb3J0IHsgVXBkYXRlVGltZXJCYXIgfSBmcm9tICcuL0luZm9CYXJzL1RpbWVyQmFyJztcbmltcG9ydCBSZWZyZXNoTWVudSBmcm9tICcuL01lbnVTZWN0aW9ucy9SZWZyZXNobWVudSc7XG5pbXBvcnQgeyBVcGRhdGVUb29sdGlwcyB9IGZyb20gJy4vVG9vbHRpcHMvVG9vbHRpcCc7XG5pbXBvcnQgeyBDaGVja1dyaW5rbGVyVG9vbHRpcCwgVXBkYXRlV3JpbmtsZXJUb29sdGlwIH0gZnJvbSAnLi9Ub29sdGlwcy9Xcmlua2xlclRvb2x0aXBzJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgYWxsIGN1c3RvbSBkcmF3aW5nIGZvciB0aGUgR2FtZS5EcmF3KCkgZnVuY3Rpb24uXG4gKiBJdCBpcyBob29rZWQgb24gJ2RyYXcnIGJ5IENNLlJlZ2lzdGVySG9va3MoKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEcmF3KCkge1xuXHQvLyBEcmF3IGF1dG9zYXZlIHRpbWVyIGluIHN0YXRzIG1lbnUsIHRoaXMgbXVzdCBiZSBkb25lIGhlcmUgdG8gbWFrZSBpdCBjb3VudCBkb3duIGNvcnJlY3RseVxuXHRpZiAoXG5cdFx0KEdhbWUucHJlZnMuYXV0b3NhdmUgJiYgR2FtZS5kcmF3VCAlIDEwID09PSAwKSAvLyB3aXRoIGF1dG9zYXZlIE9OIGFuZCBldmVyeSAxMCB0aWNrc1xuXHRcdCYmIChHYW1lLm9uTWVudSA9PT0gJ3N0YXRzJyAmJiBDTU9wdGlvbnMuU3RhdHMpIC8vIHdoaWxlIGJlaW5nIG9uIHRoZSBzdGF0cyBtZW51IG9ubHlcblx0KSB7XG5cdFx0Y29uc3QgdGltZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ01TdGF0c0F1dG9zYXZlVGltZXInKTtcblx0XHRpZiAodGltZXIpIHtcblx0XHRcdHRpbWVyLmlubmVyVGV4dCA9IEdhbWUuc2F5VGltZShHYW1lLmZwcyAqIDYwIC0gKEdhbWUuVCAlIChHYW1lLmZwcyAqIDYwKSksIDQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFVwZGF0ZSBjb2xvcnNcblx0VXBkYXRlQnVpbGRpbmdzKCk7XG5cdFVwZGF0ZVVwZ3JhZGVzKCk7XG5cblx0Ly8gUmVkcmF3IHRpbWVyc1xuXHRVcGRhdGVUaW1lckJhcigpO1xuXG5cdC8vIFVwZGF0ZSBCb3R0b20gQmFyXG5cdFVwZGF0ZUJvdEJhcigpO1xuXG5cdC8vIFVwZGF0ZSBUb29sdGlwXG5cdFVwZGF0ZVRvb2x0aXBzKCk7XG5cblx0Ly8gVXBkYXRlIFdyaW5rbGVyIFRvb2x0aXBcblx0Q2hlY2tXcmlua2xlclRvb2x0aXAoKTtcblx0VXBkYXRlV3JpbmtsZXJUb29sdGlwKCk7XG5cblx0Ly8gQ2hhbmdlIG1lbnUgcmVmcmVzaCBpbnRlcnZhbFxuXHRSZWZyZXNoTWVudSgpO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENsaWNrVGltZXMsIENvb2tpZVRpbWVzIH0gZnJvbSAnLi4vLi4vRGlzcC9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7XG5cdENob0VnZ0RpZmYsIENsaWNrc0RpZmYsIENvb2tpZXNEaWZmLCBXcmlua0RpZmYsIFdyaW5rRmF0dGVzdERpZmYsXG59IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBcdFRoaXMgaXMgYSBjbGFzcyB1c2VkIHRvIHN0b3JlIHZhbHVlcyB1c2VkIHRvIGNhbGN1bGF0ZSBhdmVyYWdlIG92ZXIgdGltZSAobW9zdGx5IGNwcylcbiAqIEB2YXJcdFx0XHR7bnVtYmVyfVx0XHRcdFx0bWF4TGVuZ3RoXHRUaGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIHZhbHVlLXN0b3JhZ2VcbiAqIEB2YXJcdFx0XHR7W119XHRcdFx0XHRcdHF1ZXVlXHRcdFRoZSB2YWx1ZXMgc3RvcmVkXG4gKiBAbWV0aG9kXHRcdGFkZExhdGVzdChuZXdWYWx1ZSlcdFx0QXBwZW5kcyBuZXdWYWx1ZSB0byB0aGUgdmFsdWUgc3RvcmFnZVxuICogQG1ldGhvZFx0XHRjYWxjQXZlcmFnZSh0aW1lUGVyaW9kKVx0UmV0dXJucyB0aGUgYXZlcmFnZSBvdmVyIHRoZSBzcGVjaWZpZWQgdGltZXBlcmlvZFxuICovXG5leHBvcnQgY2xhc3MgQ01BdmdRdWV1ZSB7XG5cdGNvbnN0cnVjdG9yKG1heExlbmd0aCkge1xuXHRcdHRoaXMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoO1xuXHRcdHRoaXMucXVldWUgPSBbXTtcblx0fVxuXG5cdGFkZExhdGVzdChuZXdWYWx1ZSkge1xuXHRcdGlmICh0aGlzLnF1ZXVlLnB1c2gobmV3VmFsdWUpID4gdGhpcy5tYXhMZW5ndGgpIHtcblx0XHRcdHRoaXMucXVldWUuc2hpZnQoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbnMgcmV0dXJucyB0aGUgYXZlcmFnZSBvZiB0aGUgdmFsdWVzIGluIHRoZSBxdWV1ZVxuXHQgKiBAcGFyYW0gXHR7bnVtYmVyfVx0dGltZVBlcmlvZFx0VGhlIHBlcmlvZCBpbiBzZWNvbmRzIHRvIGNvbXB1dGVyIGF2ZXJhZ2Ugb3ZlclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfVx0cmV0XHRcdFx0VGhlIGF2ZXJhZ2VcbiBcdCAqL1xuXHRjYWxjQXZlcmFnZSh0aW1lUGVyaW9kKSB7XG5cdFx0aWYgKHRpbWVQZXJpb2QgPiB0aGlzLm1heExlbmd0aCkgdGltZVBlcmlvZCA9IHRoaXMubWF4TGVuZ3RoO1xuXHRcdGlmICh0aW1lUGVyaW9kID4gdGhpcy5xdWV1ZS5sZW5ndGgpIHRpbWVQZXJpb2QgPSB0aGlzLnF1ZXVlLmxlbmd0aDtcblx0XHRsZXQgcmV0ID0gMDtcblx0XHRmb3IgKGxldCBpID0gdGhpcy5xdWV1ZS5sZW5ndGggLSAxOyBpID49IDAgJiYgaSA+IHRoaXMucXVldWUubGVuZ3RoIC0gMSAtIHRpbWVQZXJpb2Q7IGktLSkge1xuXHRcdFx0cmV0ICs9IHRoaXMucXVldWVbaV07XG5cdFx0fVxuXHRcdGlmIChyZXQgPT09IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0IC8gdGltZVBlcmlvZDtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNhY2hlcyBjcmVhdGVzIHRoZSBDTUF2Z1F1ZXVlIHVzZWQgYnkgQ00uQ2FjaGUuQ2FjaGVBdmdDUFMoKSB0byBjYWxjdWxhdGUgQ1BTXG4gKiBDYWxsZWQgYnkgQ00uQ2FjaGUuSW5pdENhY2hlKClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEluaXRDb29raWVzRGlmZigpIHtcblx0Q29va2llc0RpZmYgPSBuZXcgQ01BdmdRdWV1ZShDb29raWVUaW1lc1tDb29raWVUaW1lcy5sZW5ndGggLSAxXSk7XG5cdFdyaW5rRGlmZiA9IG5ldyBDTUF2Z1F1ZXVlKENvb2tpZVRpbWVzW0Nvb2tpZVRpbWVzLmxlbmd0aCAtIDFdKTtcblx0V3JpbmtGYXR0ZXN0RGlmZiA9IG5ldyBDTUF2Z1F1ZXVlKENvb2tpZVRpbWVzW0Nvb2tpZVRpbWVzLmxlbmd0aCAtIDFdKTtcblx0Q2hvRWdnRGlmZiA9IG5ldyBDTUF2Z1F1ZXVlKENvb2tpZVRpbWVzW0Nvb2tpZVRpbWVzLmxlbmd0aCAtIDFdKTtcblx0Q2xpY2tzRGlmZiA9IG5ldyBDTUF2Z1F1ZXVlKENsaWNrVGltZXNbQ2xpY2tUaW1lcy5sZW5ndGggLSAxXSk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDbGlja1RpbWVzLCBDb29raWVUaW1lcyB9IGZyb20gJy4uLy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQge1xuXHRDYWNoZUF2ZXJhZ2VDbGlja3MsIENhY2hlQXZlcmFnZUNQUywgQ2FjaGVBdmVyYWdlR2FpbkJhbmssIENhY2hlQXZlcmFnZUdhaW5DaG9FZ2csIENhY2hlQXZlcmFnZUdhaW5XcmluaywgQ2FjaGVBdmVyYWdlR2FpbldyaW5rRmF0dGVzdCwgQ2FjaGVBdmdDUFNXaXRoQ2hvRWdnLCBDYWNoZUxhc3RDaG9FZ2csIENhY2hlTGFzdENsaWNrcywgQ2FjaGVMYXN0Q29va2llcywgQ2FjaGVMYXN0Q1BTQ2hlY2ssIENhY2hlTGFzdFdyaW5rQ29va2llcywgQ2FjaGVMYXN0V3JpbmtGYXR0ZXN0Q29va2llcywgQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCwgQ2FjaGVTZWxsRm9yQ2hvRWdnLCBDYWNoZVdyaW5rbGVyc0ZhdHRlc3QsIENhY2hlV3JpbmtsZXJzVG90YWwsIENob0VnZ0RpZmYsIENsaWNrc0RpZmYsIENvb2tpZXNEaWZmLCBXcmlua0RpZmYsIFdyaW5rRmF0dGVzdERpZmYsXG59IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNhY2hlcyB0d28gdmFyaWFibGVzIHJlbGF0ZWQgYXZlcmFnZSBDUFMgYW5kIENsaWNrc1xuICogSXQgaXMgY2FsbGVkIGJ5IENNLkNhY2hlLkxvb3BDYWNoZSgpXG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0Q00uQ2FjaGUuUmVhbENvb2tpZXNFYXJuZWRcdENvb2tpZXMgZWFybmVkIGluY2x1ZGluZyB0aGUgQ2hvY29sYXRlIEVnZ1xuICogQGdsb2JhbFx0e251bWJlcn1cdENNLkNhY2hlLkF2Z0NQU1x0XHRcdFx0QXZlcmFnZSBjb29raWVzIG92ZXIgdGltZS1wZXJpb2QgYXMgZGVmaW5lZCBieSBBdmdDUFNIaXN0XG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0Q00uQ2FjaGUuQXZlcmFnZUNsaWNrc1x0XHRBdmVyYWdlIGNvb2tpZXMgZnJvbSBjbGlja2luZyBvdmVyIHRpbWUtcGVyaW9kIGFzIGRlZmluZWQgYnkgQXZnQ2xpY2tzSGlzdFxuICogQGdsb2JhbFx0e251bWJlcn1cdENNLkNhY2hlLkF2Z0NQU0Nob0VnZ1x0XHRBdmVyYWdlIGNvb2tpZXMgZnJvbSBjb21iaW5hdGlvbiBvZiBub3JtYWwgQ1BTIGFuZCBhdmVyYWdlIENob2NvbGF0ZSBDb29raWUgQ1BTXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlQXZnQ1BTKCkge1xuXHRjb25zdCBjdXJyRGF0ZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuXHQvLyBPbmx5IGNhbGN1bGF0ZSBldmVyeSBuZXcgc2Vjb25kXG5cdGlmICgoR2FtZS5UIC8gR2FtZS5mcHMpICUgMSA9PT0gMCkge1xuXHRcdGxldCBjaG9FZ2dUb3RhbCA9IEdhbWUuY29va2llcyArIENhY2hlU2VsbEZvckNob0VnZztcblx0XHRpZiAoR2FtZS5jcHNTdWNrZWQgPiAwKSBjaG9FZ2dUb3RhbCArPSBDYWNoZVdyaW5rbGVyc1RvdGFsO1xuXHRcdENhY2hlUmVhbENvb2tpZXNFYXJuZWQgPSBNYXRoLm1heChHYW1lLmNvb2tpZXNFYXJuZWQsIGNob0VnZ1RvdGFsKTtcblx0XHRjaG9FZ2dUb3RhbCAqPSAwLjA1O1xuXG5cdFx0Ly8gQWRkIHJlY2VudCBnYWlucyB0byBBdmdRdWV1ZSdzXG5cdFx0Y29uc3QgdGltZURpZmYgPSBjdXJyRGF0ZSAtIENhY2hlTGFzdENQU0NoZWNrO1xuXHRcdGNvbnN0IGJhbmtEaWZmQXZnID0gTWF0aC5tYXgoMCwgKEdhbWUuY29va2llcyAtIENhY2hlTGFzdENvb2tpZXMpKSAvIHRpbWVEaWZmO1xuXHRcdGNvbnN0IHdyaW5rRGlmZkF2ZyA9IE1hdGgubWF4KDAsIChDYWNoZVdyaW5rbGVyc1RvdGFsIC0gQ2FjaGVMYXN0V3JpbmtDb29raWVzKSkgLyB0aW1lRGlmZjtcblx0XHRjb25zdCB3cmlua0ZhdHRlc3REaWZmQXZnID0gTWF0aC5tYXgoMCwgKENhY2hlV3JpbmtsZXJzRmF0dGVzdFswXSAtIENhY2hlTGFzdFdyaW5rRmF0dGVzdENvb2tpZXMpKSAvIHRpbWVEaWZmO1xuXHRcdGNvbnN0IGNob0VnZ0RpZmZBdmcgPSBNYXRoLm1heCgwLCAoY2hvRWdnVG90YWwgLSBDYWNoZUxhc3RDaG9FZ2cpKSAvIHRpbWVEaWZmO1xuXHRcdGNvbnN0IGNsaWNrc0RpZmZBdmcgPSAoR2FtZS5jb29raWVDbGlja3MgLSBDYWNoZUxhc3RDbGlja3MpIC8gdGltZURpZmY7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lRGlmZjsgaSsrKSB7XG5cdFx0XHRDb29raWVzRGlmZi5hZGRMYXRlc3QoYmFua0RpZmZBdmcpO1xuXHRcdFx0V3JpbmtEaWZmLmFkZExhdGVzdCh3cmlua0RpZmZBdmcpO1xuXHRcdFx0V3JpbmtGYXR0ZXN0RGlmZi5hZGRMYXRlc3Qod3JpbmtGYXR0ZXN0RGlmZkF2Zyk7XG5cdFx0XHRDaG9FZ2dEaWZmLmFkZExhdGVzdChjaG9FZ2dEaWZmQXZnKTtcblx0XHRcdENsaWNrc0RpZmYuYWRkTGF0ZXN0KGNsaWNrc0RpZmZBdmcpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIGN1cnJlbnQgZGF0YSBmb3IgbmV4dCBsb29wXG5cdFx0Q2FjaGVMYXN0Q1BTQ2hlY2sgPSBjdXJyRGF0ZTtcblx0XHRDYWNoZUxhc3RDb29raWVzID0gR2FtZS5jb29raWVzO1xuXHRcdENhY2hlTGFzdFdyaW5rQ29va2llcyA9IENhY2hlV3JpbmtsZXJzVG90YWw7XG5cdFx0Q2FjaGVMYXN0V3JpbmtGYXR0ZXN0Q29va2llcyA9IENhY2hlV3JpbmtsZXJzRmF0dGVzdFswXTtcblx0XHRDYWNoZUxhc3RDaG9FZ2cgPSBjaG9FZ2dUb3RhbDtcblx0XHRDYWNoZUxhc3RDbGlja3MgPSBHYW1lLmNvb2tpZUNsaWNrcztcblxuXHRcdC8vIEdldCBhdmVyYWdlIGdhaW4gb3ZlciBwZXJpb2Qgb2YgY3BzTGVuZ3RoIHNlY29uZHNcblx0XHRjb25zdCBjcHNMZW5ndGggPSBDb29raWVUaW1lc1tDTU9wdGlvbnMuQXZnQ1BTSGlzdF07XG5cdFx0Q2FjaGVBdmVyYWdlR2FpbkJhbmsgPSBDb29raWVzRGlmZi5jYWxjQXZlcmFnZShjcHNMZW5ndGgpO1xuXHRcdENhY2hlQXZlcmFnZUdhaW5XcmluayA9IFdyaW5rRGlmZi5jYWxjQXZlcmFnZShjcHNMZW5ndGgpO1xuXHRcdENhY2hlQXZlcmFnZUdhaW5Xcmlua0ZhdHRlc3QgPSBXcmlua0ZhdHRlc3REaWZmLmNhbGNBdmVyYWdlKGNwc0xlbmd0aCk7XG5cdFx0Q2FjaGVBdmVyYWdlR2FpbkNob0VnZyA9IENob0VnZ0RpZmYuY2FsY0F2ZXJhZ2UoY3BzTGVuZ3RoKTtcblx0XHRDYWNoZUF2ZXJhZ2VDUFMgPSBDYWNoZUF2ZXJhZ2VHYWluQmFuaztcblx0XHRpZiAoQ01PcHRpb25zLkNhbGNXcmluayA9PT0gMSkgQ2FjaGVBdmVyYWdlQ1BTICs9IENhY2hlQXZlcmFnZUdhaW5Xcmluaztcblx0XHRpZiAoQ01PcHRpb25zLkNhbGNXcmluayA9PT0gMikgQ2FjaGVBdmVyYWdlQ1BTICs9IENhY2hlQXZlcmFnZUdhaW5Xcmlua0ZhdHRlc3Q7XG5cblx0XHRjb25zdCBjaG9FZ2cgPSAoR2FtZS5IYXNVbmxvY2tlZCgnQ2hvY29sYXRlIGVnZycpICYmICFHYW1lLkhhcygnQ2hvY29sYXRlIGVnZycpKTtcblxuXHRcdGlmIChjaG9FZ2cgfHwgQ01PcHRpb25zLkNhbGNXcmluayA9PT0gMCkge1xuXHRcdFx0Q2FjaGVBdmdDUFNXaXRoQ2hvRWdnID0gQ2FjaGVBdmVyYWdlR2FpbkJhbmsgKyBDYWNoZUF2ZXJhZ2VHYWluV3JpbmsgKyAoY2hvRWdnID8gQ2FjaGVBdmVyYWdlR2FpbkNob0VnZyA6IDApO1xuXHRcdH0gZWxzZSBDYWNoZUF2Z0NQU1dpdGhDaG9FZ2cgPSBDYWNoZUF2ZXJhZ2VDUFM7XG5cblx0XHRDYWNoZUF2ZXJhZ2VDbGlja3MgPSBDbGlja3NEaWZmLmNhbGNBdmVyYWdlKENsaWNrVGltZXNbQ01PcHRpb25zLkF2Z0NsaWNrc0hpc3RdKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEdldENQUyBmcm9tICcuLi8uLi9EaXNwL0hlbHBlckZ1bmN0aW9ucy9HZXRDUFMnO1xuaW1wb3J0IHtcblx0Q29sb3JCbHVlLCBDb2xvckdyYXksIENvbG9yR3JlZW4sIENvbG9yT3JhbmdlLCBDb2xvclB1cnBsZSwgQ29sb3JSZWQsIENvbG9yWWVsbG93LFxufSBmcm9tICcuLi8uLi9EaXNwL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgQ2FjaGVNYXhQUCwgQ2FjaGVNaWRQUCwgQ2FjaGVNaW5QUCB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIHJldHVybiB0aGUgY29sb3VyIGFzc29zY2lhdGVkIHdpdGggdGhlIGdpdmVuIHBwIHZhbHVlXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuQ2FjaGVCdWlsZGluZ3NQUCgpLCBDTS5DYWNoZS5DYWNoZUJ1aWxkaW5nc0J1bGtQUCgpIGFuZCBDTS5DYWNoZS5DYWNoZVVwZ3JhZGVQUCgpXG4gKiBAcGFyYW1zXHR7b2JqZWN0fVx0b2JqXHRcdFRoZSBvYmogb2Ygd2hpY2ggdGhlIHBwIHZhbHVlIHNob3VsZCBiZSBjaGVja2VkXG4gKiBAcGFyYW1zXHR7bnVtYmVyfVx0cHJpY2VcdFRoZSBwcmljZSBvZiB0aGUgb2JqZWN0XG4gKiBAcmV0dXJucyB7c3RyaW5nfVx0Y29sb3JcdFRoZSBjb2xvdXIgYXNzb3NjaWF0ZWQgd2l0aCB0aGUgcHAgdmFsdWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29sb3VyT2ZQUChtZSwgcHJpY2UpIHtcblx0bGV0IGNvbG9yID0gJyc7XG5cdC8vIENvbG91ciBiYXNlZCBvbiBQUFxuXHRpZiAobWUucHAgPD0gMCB8fCBtZS5wcCA9PT0gSW5maW5pdHkpIGNvbG9yID0gQ29sb3JHcmF5O1xuXHRlbHNlIGlmIChtZS5wcCA8IENhY2hlTWluUFApIGNvbG9yID0gQ29sb3JCbHVlO1xuXHRlbHNlIGlmIChtZS5wcCA9PT0gQ2FjaGVNaW5QUCkgY29sb3IgPSBDb2xvckdyZWVuO1xuXHRlbHNlIGlmIChtZS5wcCA9PT0gQ2FjaGVNYXhQUCkgY29sb3IgPSBDb2xvclJlZDtcblx0ZWxzZSBpZiAobWUucHAgPiBDYWNoZU1heFBQKSBjb2xvciA9IENvbG9yUHVycGxlO1xuXHRlbHNlIGlmIChtZS5wcCA+IENhY2hlTWlkUFApIGNvbG9yID0gQ29sb3JPcmFuZ2U7XG5cdGVsc2UgY29sb3IgPSBDb2xvclllbGxvdztcblxuXHQvLyBDb2xvdXIgYmFzZWQgb24gcHJpY2UgaW4gdGVybXMgb2YgQ1BTXG5cdGlmIChOdW1iZXIoQ01PcHRpb25zLlBQU2Vjb25kc0xvd2VyTGltaXQpICE9PSAwKSB7XG5cdFx0aWYgKHByaWNlIC8gR2V0Q1BTKCkgPCBOdW1iZXIoQ01PcHRpb25zLlBQU2Vjb25kc0xvd2VyTGltaXQpKSBjb2xvciA9IENvbG9yQmx1ZTtcblx0fVxuXHQvLyBDb2xvdXIgYmFzZWQgb24gYmVpbmcgYWJsZSB0byBwdXJjaGFzZVxuXHRpZiAoQ01PcHRpb25zLlBQT25seUNvbnNpZGVyQnV5YWJsZSkge1xuXHRcdGlmIChwcmljZSAtIEdhbWUuY29va2llcyA+IDApIGNvbG9yID0gQ29sb3JSZWQ7XG5cdH1cblx0cmV0dXJuIGNvbG9yO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBHZXRXcmlua0NvbmZpZ0JhbmsgZnJvbSAnLi4vLi4vRGlzcC9IZWxwZXJGdW5jdGlvbnMvR2V0V3JpbmtDb25maWdCYW5rJztcbmltcG9ydCB7IENvbG9yR3JheSB9IGZyb20gJy4uLy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQge1xuXHRDYWNoZUFycmF5T2ZQUHMsXG5cdENhY2hlTWF4UFAsIENhY2hlTWlkUFAsIENhY2hlTWluUFAsIENhY2hlT2JqZWN0czEsIENhY2hlT2JqZWN0czEwLCBDYWNoZU9iamVjdHMxMDAsXG59IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IENvbG91ck9mUFAgZnJvbSAnLi9Db2xvdXJPZlBQJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjYWNoZXMgdGhlIFBQIG9mIGVhY2ggYnVpbGRpbmcgaXQgc2F2ZXMgYWxsIGRhdGUgaW4gQ00uQ2FjaGUuT2JqZWN0cy4uLlxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkNhY2hlLkNhY2hlUFAoKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYWNoZUJ1aWxkaW5nc1BQKCkge1xuXHRDYWNoZU1pblBQID0gSW5maW5pdHk7XG5cdENhY2hlTWF4UFAgPSAxO1xuXHRDYWNoZUFycmF5T2ZQUHMgPSBbXTtcblx0aWYgKHR5cGVvZiBDTU9wdGlvbnMuUFBFeGNsdWRlVG9wID09PSAndW5kZWZpbmVkJykgQ01PcHRpb25zLlBQRXhjbHVkZVRvcCA9IDA7IC8vIE90aGVyd2lzZSBicmVha3MgZHVyaW5nIGluaXRpYWxpemF0aW9uXG5cblx0Ly8gQ2FsY3VsYXRlIFBQIGFuZCBjb2xvcnMgd2hlbiBjb21wYXJlZCB0byBwdXJjaGFzZSBvZiBvcHRpbWFsIGJ1aWxkaW5nIGluIHNpbmdsZS1wdXJjaGFzZSBtb2RlXG5cdGlmIChDTU9wdGlvbnMuQ29sb3JQUEJ1bGtNb2RlID09PSAwICYmIEdhbWUuYnV5TW9kZSA+IDApIHtcblx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoQ2FjaGVPYmplY3RzMSkpIHtcblx0XHRcdGlmIChHYW1lLmNvb2tpZXNQcykge1xuXHRcdFx0XHRDYWNoZU9iamVjdHMxW2ldLnBwID0gKE1hdGgubWF4KEdhbWUuT2JqZWN0c1tpXS5nZXRQcmljZSgpIC0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSwgMCkgLyBHYW1lLmNvb2tpZXNQcykgKyAoR2FtZS5PYmplY3RzW2ldLmdldFByaWNlKCkgLyBDYWNoZU9iamVjdHMxW2ldLmJvbnVzKTtcblx0XHRcdH0gZWxzZSBDYWNoZU9iamVjdHMxW2ldLnBwID0gKEdhbWUuT2JqZWN0c1tpXS5nZXRQcmljZSgpIC8gQ2FjaGVPYmplY3RzMVtpXS5ib251cyk7XG5cdFx0XHRDYWNoZUFycmF5T2ZQUHMucHVzaChbQ2FjaGVPYmplY3RzMVtpXS5wcCwgR2FtZS5PYmplY3RzW2ldLmdldFByaWNlKCldKTtcblx0XHR9XG5cdFx0Ly8gU2V0IENNLkNhY2hlLm1pbiB0byBiZXN0IG5vbi1leGNsdWRlZCBidWlkbGl1bmdcblx0XHRDYWNoZUFycmF5T2ZQUHMuc29ydCgoYSwgYikgPT4gYVswXSAtIGJbMF0pO1xuXHRcdGlmIChDTU9wdGlvbnMuUFBPbmx5Q29uc2lkZXJCdXlhYmxlKSB7XG5cdFx0XHR3aGlsZSAoQ2FjaGVBcnJheU9mUFBzWzBdWzFdID4gR2FtZS5jb29raWVzKSB7XG5cdFx0XHRcdGlmIChDYWNoZUFycmF5T2ZQUHMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Q2FjaGVBcnJheU9mUFBzLnNoaWZ0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdENhY2hlTWluUFAgPSBDYWNoZUFycmF5T2ZQUHNbQ01PcHRpb25zLlBQRXhjbHVkZVRvcF1bMF07XG5cdFx0Q2FjaGVNYXhQUCA9IENhY2hlQXJyYXlPZlBQc1tDYWNoZUFycmF5T2ZQUHMubGVuZ3RoIC0gMV1bMF07XG5cdFx0Q2FjaGVNaWRQUCA9ICgoQ2FjaGVNYXhQUCAtIENhY2hlTWluUFApIC8gMikgKyBDYWNoZU1pblBQO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhDYWNoZU9iamVjdHMxKSkge1xuXHRcdFx0Q2FjaGVPYmplY3RzMVtpXS5jb2xvciA9IENvbG91ck9mUFAoQ2FjaGVPYmplY3RzMVtpXSwgR2FtZS5PYmplY3RzW2ldLmdldFByaWNlKCkpO1xuXHRcdFx0Ly8gQ29sb3VyIGJhc2VkIG9uIGV4Y2x1ZGluZyBjZXJ0YWluIHRvcC1idWlsZGluZ3Ncblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgQ01PcHRpb25zLlBQRXhjbHVkZVRvcDsgaisrKSB7XG5cdFx0XHRcdGlmIChDYWNoZU9iamVjdHMxW2ldLnBwID09PSBDYWNoZUFycmF5T2ZQUHNbal1bMF0pIENhY2hlT2JqZWN0czFbaV0uY29sb3IgPSBDb2xvckdyYXk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIENhbGN1bGF0ZSBQUCBvZiBidWxrLWJ1eSBtb2Rlc1xuXHRcdENhY2hlQnVpbGRpbmdzQnVsa1BQKENhY2hlT2JqZWN0czEwKTtcblx0XHRDYWNoZUJ1aWxkaW5nc0J1bGtQUChDYWNoZU9iamVjdHMxMDApO1xuXHR9IGVsc2UgaWYgKEdhbWUuYnV5TW9kZSA+IDApIHtcblx0XHQvLyBDYWxjdWxhdGUgUFAgYW5kIGNvbG9ycyB3aGVuIGNvbXBhcmVkIHRvIHB1cmNoYXNlIG9mIHNlbGVjdGVkIGJ1bGsgbW9kZVxuXHRcdGxldCB0YXJnZXQ7XG5cdFx0aWYgKEdhbWUuYnV5QnVsayA9PT0gMSkgdGFyZ2V0ID0gQ2FjaGVPYmplY3RzMTtcblx0XHRlbHNlIGlmIChHYW1lLmJ1eUJ1bGsgPT09IDEwKSB0YXJnZXQgPSBDYWNoZU9iamVjdHMxMDtcblx0XHRlbHNlIGlmIChHYW1lLmJ1eUJ1bGsgPT09IDEwMCkgdGFyZ2V0ID0gQ2FjaGVPYmplY3RzMTAwO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0YXJnZXQpKSB7XG5cdFx0XHRpZiAoR2FtZS5jb29raWVzUHMpIHtcblx0XHRcdFx0dGFyZ2V0W2ldLnBwID0gKE1hdGgubWF4KEdhbWUuT2JqZWN0c1tpXS5idWxrUHJpY2UgLSAoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpLCAwKSAvIEdhbWUuY29va2llc1BzKSArIChHYW1lLk9iamVjdHNbaV0uYnVsa1ByaWNlIC8gdGFyZ2V0W2ldLmJvbnVzKTtcblx0XHRcdH0gZWxzZSB0YXJnZXRbaV0ucHAgPSAoR2FtZS5PYmplY3RzW2ldLmJ1bGtQcmljZSAvIHRhcmdldFtpXS5ib251cyk7XG5cdFx0XHRDYWNoZUFycmF5T2ZQUHMucHVzaChbdGFyZ2V0W2ldLnBwLCBHYW1lLk9iamVjdHNbaV0uYnVsa1ByaWNlXSk7XG5cdFx0fVxuXHRcdC8vIFNldCBDTS5DYWNoZS5taW4gdG8gYmVzdCBub24tZXhjbHVkZWQgYnVpZGxpdW5nXG5cdFx0Q2FjaGVBcnJheU9mUFBzLnNvcnQoKGEsIGIpID0+IGFbMF0gLSBiWzBdKTtcblx0XHRpZiAoQ01PcHRpb25zLlBQT25seUNvbnNpZGVyQnV5YWJsZSkge1xuXHRcdFx0d2hpbGUgKENhY2hlQXJyYXlPZlBQc1swXVsxXSA+IEdhbWUuY29va2llcykge1xuXHRcdFx0XHRpZiAoQ2FjaGVBcnJheU9mUFBzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdENhY2hlQXJyYXlPZlBQcy5zaGlmdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRDYWNoZU1pblBQID0gQ2FjaGVBcnJheU9mUFBzW0NNT3B0aW9ucy5QUEV4Y2x1ZGVUb3BdWzBdO1xuXHRcdENhY2hlTWF4UFAgPSBDYWNoZUFycmF5T2ZQUHNbQ2FjaGVBcnJheU9mUFBzLmxlbmd0aCAtIDFdWzBdO1xuXHRcdENhY2hlTWlkUFAgPSAoKENhY2hlTWF4UFAgLSBDYWNoZU1pblBQKSAvIDIpICsgQ2FjaGVNaW5QUDtcblxuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhDYWNoZU9iamVjdHMxKSkge1xuXHRcdFx0dGFyZ2V0W2ldLmNvbG9yID0gQ29sb3VyT2ZQUCh0YXJnZXRbaV0sIEdhbWUuT2JqZWN0c1tpXS5idWxrUHJpY2UpO1xuXHRcdFx0Ly8gQ29sb3VyIGJhc2VkIG9uIGV4Y2x1ZGluZyBjZXJ0YWluIHRvcC1idWlsZGluZ3Ncblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgQ01PcHRpb25zLlBQRXhjbHVkZVRvcDsgaisrKSB7XG5cdFx0XHRcdGlmICh0YXJnZXRbaV0ucHAgPT09IENhY2hlQXJyYXlPZlBQc1tqXVswXSkgdGFyZ2V0W2ldLmNvbG9yID0gQ29sb3JHcmF5O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNhY2hlcyB0aGUgYnVpbGRpbmdzIG9mIGJ1bGstYnV5IG1vZGUgd2hlbiBQUCBpcyBjb21wYXJlZCBhZ2FpbnN0IG9wdGltYWwgc2luZ2xlLXB1cmNoYXNlIGJ1aWxkaW5nXG4gKiBJdCBzYXZlcyBhbGwgZGF0ZSBpbiBDTS5DYWNoZS5PYmplY3RzLi4uXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuQ2FjaGVCdWlsZGluZ3NQUCgpXG4gKi9cbmZ1bmN0aW9uIENhY2hlQnVpbGRpbmdzQnVsa1BQKHRhcmdldCkge1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGFyZ2V0KSkge1xuXHRcdGlmIChHYW1lLmNvb2tpZXNQcykge1xuXHRcdFx0dGFyZ2V0W2ldLnBwID0gKE1hdGgubWF4KHRhcmdldFtpXS5wcmljZSAtIChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSksIDApIC8gR2FtZS5jb29raWVzUHMpICsgKHRhcmdldFtpXS5wcmljZSAvIHRhcmdldFtpXS5ib251cyk7XG5cdFx0fSBlbHNlIHRhcmdldFtpXS5wcCA9ICh0YXJnZXRbaV0ucHJpY2UgLyB0YXJnZXRbaV0uYm9udXMpO1xuXG5cdFx0dGFyZ2V0W2ldLmNvbG9yID0gQ29sb3VyT2ZQUCh0YXJnZXRbaV0sIHRhcmdldFtpXS5wcmljZSk7XG5cdH1cbn1cbiIsImltcG9ydCBHZXRXcmlua0NvbmZpZ0JhbmsgZnJvbSAnLi4vLi4vRGlzcC9IZWxwZXJGdW5jdGlvbnMvR2V0V3JpbmtDb25maWdCYW5rJztcbmltcG9ydCB7IENhY2hlVXBncmFkZXMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBDb2xvdXJPZlBQIGZyb20gJy4vQ29sb3VyT2ZQUCc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHRoZSBQUCBvZiBlYWNoIGJ1aWxkaW5nIGl0IHNhdmVzIGFsbCBkYXRlIGluIENNLkNhY2hlLlVwZ3JhZGVzXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuQ2FjaGVQUCgpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlVXBncmFkZVBQKCkge1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoQ2FjaGVVcGdyYWRlcykpIHtcblx0XHRpZiAoR2FtZS5jb29raWVzUHMpIHtcblx0XHRcdENhY2hlVXBncmFkZXNbaV0ucHAgPSAoTWF0aC5tYXgoR2FtZS5VcGdyYWRlc1tpXS5nZXRQcmljZSgpIC0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSwgMCkgLyBHYW1lLmNvb2tpZXNQcykgKyAoR2FtZS5VcGdyYWRlc1tpXS5nZXRQcmljZSgpIC8gQ2FjaGVVcGdyYWRlc1tpXS5ib251cyk7XG5cdFx0fSBlbHNlIENhY2hlVXBncmFkZXNbaV0ucHAgPSAoR2FtZS5VcGdyYWRlc1tpXS5nZXRQcmljZSgpIC8gQ2FjaGVVcGdyYWRlc1tpXS5ib251cyk7XG5cdFx0aWYgKE51bWJlci5pc05hTihDYWNoZVVwZ3JhZGVzW2ldLnBwKSkgQ2FjaGVVcGdyYWRlc1tpXS5wcCA9IEluZmluaXR5O1xuXG5cdFx0Q2FjaGVVcGdyYWRlc1tpXS5jb2xvciA9IENvbG91ck9mUFAoQ2FjaGVVcGdyYWRlc1tpXSwgR2FtZS5VcGdyYWRlc1tpXS5nZXRQcmljZSgpKTtcblx0fVxufVxuIiwiLyoqXG4gKiBTZWN0aW9uOiBGdW5jdGlvbnMgcmVsYXRlZCB0byBjYWNoaW5nIFBQICovXG5cbmltcG9ydCBDYWNoZUJ1aWxkaW5nc1BQIGZyb20gJy4vQnVpbGRpbmcnO1xuaW1wb3J0IENhY2hlVXBncmFkZVBQIGZyb20gJy4vVXBncmFkZSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHRoZSBQUCBvZiBlYWNoIGJ1aWxkaW5nIGFuZCB1cGdyYWRlIGFuZCBzdG9yZXMgaXQgaW4gdGhlIGNhY2hlXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuTG9vcENhY2hlKCkgYW5kIENNLkNhY2hlLkluaXRDYWNoZSgpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlUFAoKSB7XG5cdENhY2hlQnVpbGRpbmdzUFAoKTtcblx0Q2FjaGVVcGdyYWRlUFAoKTtcbn1cbiIsImltcG9ydCBTaW1BdXJhTXVsdCBmcm9tICcuL1NpbUF1cmFNdWx0JztcbmltcG9ydCBTaW1IYXMgZnJvbSAnLi9TaW1IYXMnO1xuaW1wb3J0IFNpbUhhc0dvZCBmcm9tICcuL1NpbUhhc0dvZCc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY3JlYXRlcyBmdW5jdGlvbnMgc2ltaWxhcmx5IHRvIEdhbWUuR2V0SGVhdmVubHlNdWx0aXBsaWVyIGJ1dCBjaGVja3MgU2ltIERhdGEgaW5zdGVhZCBvZiBHYW1lIERhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2ltR2V0SGVhdmVubHlNdWx0aXBsaWVyKCkge1xuXHRsZXQgaGVhdmVubHlNdWx0ID0gMDtcblx0aWYgKFNpbUhhcygnSGVhdmVubHkgY2hpcCBzZWNyZXQnKSkgaGVhdmVubHlNdWx0ICs9IDAuMDU7XG5cdGlmIChTaW1IYXMoJ0hlYXZlbmx5IGNvb2tpZSBzdGFuZCcpKSBoZWF2ZW5seU11bHQgKz0gMC4yMDtcblx0aWYgKFNpbUhhcygnSGVhdmVubHkgYmFrZXJ5JykpIGhlYXZlbmx5TXVsdCArPSAwLjI1O1xuXHRpZiAoU2ltSGFzKCdIZWF2ZW5seSBjb25mZWN0aW9uZXJ5JykpIGhlYXZlbmx5TXVsdCArPSAwLjI1O1xuXHRpZiAoU2ltSGFzKCdIZWF2ZW5seSBrZXknKSkgaGVhdmVubHlNdWx0ICs9IDAuMjU7XG5cdC8vIGlmIChTaW1IYXNBdXJhKCdEcmFnb24gR29kJykpIGhlYXZlbmx5TXVsdCo9MS4wNTtcblx0aGVhdmVubHlNdWx0ICo9IDEgKyBTaW1BdXJhTXVsdCgnRHJhZ29uIEdvZCcpICogMC4wNTtcblx0aWYgKFNpbUhhcygnTHVja3kgZGlnaXQnKSkgaGVhdmVubHlNdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ0x1Y2t5IG51bWJlcicpKSBoZWF2ZW5seU11bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnTHVja3kgcGF5b3V0JykpIGhlYXZlbmx5TXVsdCAqPSAxLjAxO1xuXHRpZiAoR2FtZS5oYXNHb2QpIHtcblx0XHRjb25zdCBnb2RMdmwgPSBTaW1IYXNHb2QoJ2NyZWF0aW9uJyk7XG5cdFx0aWYgKGdvZEx2bCA9PT0gMSkgaGVhdmVubHlNdWx0ICo9IDAuNztcblx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDIpIGhlYXZlbmx5TXVsdCAqPSAwLjg7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAzKSBoZWF2ZW5seU11bHQgKj0gMC45O1xuXHR9XG5cdHJldHVybiBoZWF2ZW5seU11bHQ7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgU2ltQWNoaWV2ZW1lbnRzLCBTaW1BY2hpZXZlbWVudHNPd25lZCB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gXCJ3aW5zXCIgYW4gYWNoaWV2ZW1lbnQgaW4gdGhlIGN1cnJlbnQgc2ltIGRhdGFcbiAqIEl0IGZ1bmN0aW9ucyBzaW1pbGFybHkgdG8gR2FtZS5XaW4oKVxuICogSXQgaXMgbm90IGNyZWF0ZWQgYnkgQ00uU2ltLkNyZWF0ZVNpbUZ1bmN0aW9ucygpIGluIG9yZGVyIHRvIGF2b2lkIHNwYW1taW5nIHBvcC11cHMgdXBvbiB3aW5uaW5nXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHR3aGF0XHROYW1lIG9mIHRoZSBhY2hpZXZlbWVudFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW1XaW4od2hhdCkge1xuXHRpZiAoU2ltQWNoaWV2ZW1lbnRzW3doYXRdKSB7XG5cdFx0aWYgKFNpbUFjaGlldmVtZW50c1t3aGF0XS53b24gPT09IDApIHtcblx0XHRcdFNpbUFjaGlldmVtZW50c1t3aGF0XS53b24gPSAxO1xuXHRcdFx0aWYgKEdhbWUuQWNoaWV2ZW1lbnRzW3doYXRdLnBvb2wgIT09ICdzaGFkb3cnKSBTaW1BY2hpZXZlbWVudHNPd25lZCsrO1xuXHRcdH1cblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCBHZXRDUFNCdWZmTXVsdCBmcm9tICcuLi8uLi9DYWNoZS9DUFMvR2V0Q1BTQnVmZk11bHQnO1xuaW1wb3J0IHsgQ2FjaGVDZW50RWdnIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgU2ltQXVyYU11bHQgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUF1cmFNdWx0JztcbmltcG9ydCBTaW1FZmYgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUVmZic7XG5pbXBvcnQgU2ltR2V0SGVhdmVubHlNdWx0aXBsaWVyIGZyb20gJy4uL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1HZXRIZWF2ZW5seU11bHRpcGxpZXInO1xuaW1wb3J0IFNpbUhhcyBmcm9tICcuLi9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltSGFzJztcbmltcG9ydCBTaW1IYXNHb2QgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUhhc0dvZCc7XG5pbXBvcnQgU2ltV2luIGZyb20gJy4uL1NpbXVsYXRpb25EYXRhL1NpbVdpbic7XG5pbXBvcnQge1xuXHRTaW1BY2hpZXZlbWVudHNPd25lZCwgU2ltQ29va2llc1BzLCBTaW1Db29raWVzUHNSYXcsIFNpbURhdGVBZ2VzLCBTaW1EYXRlQ2VudHVyeSwgU2ltRWZmcywgU2ltSGVhdmVubHlQb3dlciwgU2ltT2JqZWN0cywgU2ltUHJlc3RpZ2UsIFNpbVVwZ3JhZGVzLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIENQUyBvZiB0aGUgY3VycmVudCBcInNpbSBkYXRhXCJcbiAqIEl0IGlzIHNpbWlsYXIgdG8gR2FtZS5DYWxjdWxhdGVHYWlucygpXG4gKiBJdCBpcyBjYWxsZWQgYXQgdGhlIHN0YXJ0IG9mIGFueSBmdW5jdGlvbiB0aGF0IHNpbXVsYXRlcyBjZXJ0YWluIGJlaGF2aW91ciBvciBhY3Rpb25zXG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0Q00uU2ltLmNvb2tpZXNQc1x0VGhlIENQUyBvZiB0aGUgY3VycmVudCBzaW0gZGF0YVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYWxjdWxhdGVHYWlucygpIHtcblx0U2ltQ29va2llc1BzID0gMDtcblx0bGV0IG11bHQgPSAxO1xuXHQvLyBJbmNsdWRlIG1pbmlnYW1lIGVmZmVjdHNcblx0Y29uc3QgZWZmcyA9IHt9O1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5PYmplY3RzKSkge1xuXHRcdGlmIChHYW1lLk9iamVjdHNbaV0ubWluaWdhbWVMb2FkZWQgJiYgR2FtZS5PYmplY3RzW2ldLm1pbmlnYW1lLmVmZnMpIHtcblx0XHRcdGNvbnN0IG15RWZmcyA9IEdhbWUuT2JqZWN0c1tpXS5taW5pZ2FtZS5lZmZzO1xuXHRcdFx0Zm9yIChjb25zdCBpaSBpbiBteUVmZnMpIHtcblx0XHRcdFx0aWYgKGVmZnNbaWldKSBlZmZzW2lpXSAqPSBteUVmZnNbaWldO1xuXHRcdFx0XHRlbHNlIGVmZnNbaWldID0gbXlFZmZzW2lpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0U2ltRWZmcyA9IGVmZnM7XG5cblx0aWYgKEdhbWUuYXNjZW5zaW9uTW9kZSAhPT0gMSkgbXVsdCArPSBwYXJzZUZsb2F0KFNpbVByZXN0aWdlKSAqIDAuMDEgKiBTaW1IZWF2ZW5seVBvd2VyICogU2ltR2V0SGVhdmVubHlNdWx0aXBsaWVyKCk7XG5cblx0bXVsdCAqPSBTaW1FZmYoJ2NwcycpO1xuXG5cdGlmIChTaW1IYXMoJ0hlcmFsZHMnKSAmJiBHYW1lLmFzY2Vuc2lvbk1vZGUgIT09IDEpIG11bHQgKj0gMSArIDAuMDEgKiBHYW1lLmhlcmFsZHM7XG5cblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuY29va2llVXBncmFkZXMpKSB7XG5cdFx0Y29uc3QgbWUgPSBHYW1lLmNvb2tpZVVwZ3JhZGVzW2ldO1xuXHRcdGlmIChTaW1IYXMobWUubmFtZSkpIHtcblx0XHRcdC8vIFNvbWUgdXBncmFkZXMgaGF2ZSBhIGZ1bmN0aW8gYXMgLnBvd2VyIChub3RhYmx5IHRoZSB2YWxlbnRpbmUgY29va2llcylcblx0XHRcdC8vIENNLlNpbS5Jbml0aWFsQnVpbGRpbmdEYXRhIGhhcyBjaGFuZ2VkIHRvIHVzZSBDTS5TaW0uSGFzIGluc3RlYWQgb2YgR2FtZS5IYXMgZXRjLlxuXHRcdFx0Ly8gVGhlcmVmb3JlIHRoaXMgY2FsbCBpcyB0byB0aGUgLnBvd2VyIG9mIHRoZSBTaW0uT2JqZWN0XG5cdFx0XHRpZiAodHlwZW9mIChtZS5wb3dlcikgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0bXVsdCAqPSAxICsgKFNpbVVwZ3JhZGVzW21lLm5hbWVdLnBvd2VyKFNpbVVwZ3JhZGVzW21lLm5hbWVdKSAqIDAuMDEpO1xuXHRcdFx0fSBlbHNlIG11bHQgKj0gMSArIChtZS5wb3dlciAqIDAuMDEpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChTaW1IYXMoJ1NwZWNpYWxpemVkIGNob2NvbGF0ZSBjaGlwcycpKSBtdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ0Rlc2lnbmVyIGNvY29hIGJlYW5zJykpIG11bHQgKj0gMS4wMjtcblx0aWYgKFNpbUhhcygnVW5kZXJ3b3JsZCBvdmVucycpKSBtdWx0ICo9IDEuMDM7XG5cdGlmIChTaW1IYXMoJ0V4b3RpYyBudXRzJykpIG11bHQgKj0gMS4wNDtcblx0aWYgKFNpbUhhcygnQXJjYW5lIHN1Z2FyJykpIG11bHQgKj0gMS4wNTtcblxuXHRpZiAoU2ltSGFzKCdJbmNyZWFzZWQgbWVycmluZXNzJykpIG11bHQgKj0gMS4xNTtcblx0aWYgKFNpbUhhcygnSW1wcm92ZWQgam9sbGluZXNzJykpIG11bHQgKj0gMS4xNTtcblx0aWYgKFNpbUhhcygnQSBsdW1wIG9mIGNvYWwnKSkgbXVsdCAqPSAxLjAxO1xuXHRpZiAoU2ltSGFzKCdBbiBpdGNoeSBzd2VhdGVyJykpIG11bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnU2FudGFcXCdzIGRvbWluaW9uJykpIG11bHQgKj0gMS4yO1xuXG5cdGlmIChTaW1IYXMoJ0ZvcnR1bmUgIzEwMCcpKSBtdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ0ZvcnR1bmUgIzEwMScpKSBtdWx0ICo9IDEuMDc7XG5cblx0aWYgKFNpbUhhcygnRHJhZ29uIHNjYWxlJykpIG11bHQgKj0gMS4wMztcblxuXHQvLyBDaGVjayBlZmZlY3Qgb2YgY2hvc2VuIEdvZHNcblx0bGV0IGJ1aWxkTXVsdCA9IDE7XG5cdGlmIChTaW1IYXNHb2QpIHtcblx0XHRsZXQgZ29kTHZsID0gU2ltSGFzR29kKCdhc2NldGljaXNtJyk7XG5cdFx0aWYgKGdvZEx2bCA9PT0gMSkgbXVsdCAqPSAxLjE1O1xuXHRcdGVsc2UgaWYgKGdvZEx2bCA9PT0gMikgbXVsdCAqPSAxLjE7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAzKSBtdWx0ICo9IDEuMDU7XG5cblx0XHRnb2RMdmwgPSBTaW1IYXNHb2QoJ2FnZXMnKTtcblx0XHRpZiAoZ29kTHZsID09PSAxKSBtdWx0ICo9IDEgKyAwLjE1ICogTWF0aC5zaW4oKFNpbURhdGVBZ2VzIC8gMTAwMCAvICg2MCAqIDYwICogMykpICogTWF0aC5QSSAqIDIpO1xuXHRcdGVsc2UgaWYgKGdvZEx2bCA9PT0gMikgbXVsdCAqPSAxICsgMC4xNSAqIE1hdGguc2luKChTaW1EYXRlQWdlcyAvIDEwMDAgLyAoNjAgKiA2MCAqIDEyKSkgKiBNYXRoLlBJICogMik7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAzKSBtdWx0ICo9IDEgKyAwLjE1ICogTWF0aC5zaW4oKFNpbURhdGVBZ2VzIC8gMTAwMCAvICg2MCAqIDYwICogMjQpKSAqIE1hdGguUEkgKiAyKTtcblxuXHRcdGdvZEx2bCA9IFNpbUhhc0dvZCgnZGVjYWRlbmNlJyk7XG5cdFx0aWYgKGdvZEx2bCA9PT0gMSkgYnVpbGRNdWx0ICo9IDAuOTM7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAyKSBidWlsZE11bHQgKj0gMC45NTtcblx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDMpIGJ1aWxkTXVsdCAqPSAwLjk4O1xuXG5cdFx0Z29kTHZsID0gU2ltSGFzR29kKCdpbmR1c3RyeScpO1xuXHRcdGlmIChnb2RMdmwgPT09IDEpIGJ1aWxkTXVsdCAqPSAxLjE7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAyKSBidWlsZE11bHQgKj0gMS4wNjtcblx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDMpIGJ1aWxkTXVsdCAqPSAxLjAzO1xuXG5cdFx0Z29kTHZsID0gU2ltSGFzR29kKCdsYWJvcicpO1xuXHRcdGlmIChnb2RMdmwgPT09IDEpIGJ1aWxkTXVsdCAqPSAwLjk3O1xuXHRcdGVsc2UgaWYgKGdvZEx2bCA9PT0gMikgYnVpbGRNdWx0ICo9IDAuOTg7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAzKSBidWlsZE11bHQgKj0gMC45OTtcblx0fVxuXG5cdGlmIChTaW1IYXMoJ1NhbnRhXFwncyBsZWdhY3knKSkgbXVsdCAqPSAxICsgKEdhbWUuc2FudGFMZXZlbCArIDEpICogMC4wMztcblxuXHRjb25zdCBtaWxrUHJvZ3Jlc3MgPSBTaW1BY2hpZXZlbWVudHNPd25lZCAvIDI1O1xuXHRsZXQgbWlsa011bHQgPSAxO1xuXHRpZiAoU2ltSGFzKCdTYW50YVxcJ3MgbWlsayBhbmQgY29va2llcycpKSBtaWxrTXVsdCAqPSAxLjA1O1xuXHQvLyBpZiAoQ00uU2ltLmhhc0F1cmEoJ0JyZWF0aCBvZiBNaWxrJykpIG1pbGtNdWx0ICo9IDEuMDU7XG5cdG1pbGtNdWx0ICo9IDEgKyBTaW1BdXJhTXVsdCgnQnJlYXRoIG9mIE1pbGsnKSAqIDAuMDU7XG5cdGlmIChTaW1IYXNHb2QpIHtcblx0XHRjb25zdCBnb2RMdmwgPSBTaW1IYXNHb2QoJ21vdGhlcicpO1xuXHRcdGlmIChnb2RMdmwgPT09IDEpIG1pbGtNdWx0ICo9IDEuMTtcblx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDIpIG1pbGtNdWx0ICo9IDEuMDU7XG5cdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAzKSBtaWxrTXVsdCAqPSAxLjAzO1xuXHR9XG5cdG1pbGtNdWx0ICo9IFNpbUVmZignbWlsaycpO1xuXG5cdGxldCBjYXRNdWx0ID0gMTtcblxuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gaGVscGVycycpKSBjYXRNdWx0ICo9ICgxICsgbWlsa1Byb2dyZXNzICogMC4xICogbWlsa011bHQpO1xuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gd29ya2VycycpKSBjYXRNdWx0ICo9ICgxICsgbWlsa1Byb2dyZXNzICogMC4xMjUgKiBtaWxrTXVsdCk7XG5cdGlmIChTaW1IYXMoJ0tpdHRlbiBlbmdpbmVlcnMnKSkgY2F0TXVsdCAqPSAoMSArIG1pbGtQcm9ncmVzcyAqIDAuMTUgKiBtaWxrTXVsdCk7XG5cdGlmIChTaW1IYXMoJ0tpdHRlbiBvdmVyc2VlcnMnKSkgY2F0TXVsdCAqPSAoMSArIG1pbGtQcm9ncmVzcyAqIDAuMTc1ICogbWlsa011bHQpO1xuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gbWFuYWdlcnMnKSkgY2F0TXVsdCAqPSAoMSArIG1pbGtQcm9ncmVzcyAqIDAuMiAqIG1pbGtNdWx0KTtcblx0aWYgKFNpbUhhcygnS2l0dGVuIGFjY291bnRhbnRzJykpIGNhdE11bHQgKj0gKDEgKyBtaWxrUHJvZ3Jlc3MgKiAwLjIgKiBtaWxrTXVsdCk7XG5cdGlmIChTaW1IYXMoJ0tpdHRlbiBzcGVjaWFsaXN0cycpKSBjYXRNdWx0ICo9ICgxICsgbWlsa1Byb2dyZXNzICogMC4yICogbWlsa011bHQpO1xuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gZXhwZXJ0cycpKSBjYXRNdWx0ICo9ICgxICsgbWlsa1Byb2dyZXNzICogMC4yICogbWlsa011bHQpO1xuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gY29uc3VsdGFudHMnKSkgY2F0TXVsdCAqPSAoMSArIG1pbGtQcm9ncmVzcyAqIDAuMiAqIG1pbGtNdWx0KTtcblx0aWYgKFNpbUhhcygnS2l0dGVuIGFzc2lzdGFudHMgdG8gdGhlIHJlZ2lvbmFsIG1hbmFnZXInKSkgY2F0TXVsdCAqPSAoMSArIG1pbGtQcm9ncmVzcyAqIDAuMTc1ICogbWlsa011bHQpO1xuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gbWFya2V0ZWVycycpKSBjYXRNdWx0ICo9ICgxICsgbWlsa1Byb2dyZXNzICogMC4xNSAqIG1pbGtNdWx0KTtcblx0aWYgKFNpbUhhcygnS2l0dGVuIGFuYWx5c3RzJykpIGNhdE11bHQgKj0gKDEgKyBtaWxrUHJvZ3Jlc3MgKiAwLjEyNSAqIG1pbGtNdWx0KTtcblx0aWYgKFNpbUhhcygnS2l0dGVuIGV4ZWN1dGl2ZXMnKSkgY2F0TXVsdCAqPSAoMSArIG1pbGtQcm9ncmVzcyAqIDAuMTE1ICogbWlsa011bHQpO1xuXHRpZiAoU2ltSGFzKCdLaXR0ZW4gYW5nZWxzJykpIGNhdE11bHQgKj0gKDEgKyBtaWxrUHJvZ3Jlc3MgKiAwLjEgKiBtaWxrTXVsdCk7XG5cdGlmIChTaW1IYXMoJ0ZvcnR1bmUgIzEwMycpKSBjYXRNdWx0ICo9ICgxICsgbWlsa1Byb2dyZXNzICogMC4wNSAqIG1pbGtNdWx0KTtcblxuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoU2ltT2JqZWN0cykpIHtcblx0XHRjb25zdCBtZSA9IFNpbU9iamVjdHNbaV07XG5cdFx0bGV0IHN0b3JlZENwcyA9IG1lLmNwcyhtZSk7XG5cdFx0aWYgKEdhbWUuYXNjZW5zaW9uTW9kZSAhPT0gMSkgc3RvcmVkQ3BzICo9ICgxICsgbWUubGV2ZWwgKiAwLjAxKSAqIGJ1aWxkTXVsdDtcblx0XHRpZiAobWUubmFtZSA9PT0gJ0dyYW5kbWEnICYmIFNpbUhhcygnTWlsa2hlbHAmcmVnOyBsYWN0b3NlIGludG9sZXJhbmNlIHJlbGllZiB0YWJsZXRzJykpIHN0b3JlZENwcyAqPSAxICsgMC4wNSAqIG1pbGtQcm9ncmVzcyAqIG1pbGtNdWx0O1xuXHRcdFNpbUNvb2tpZXNQcyArPSBtZS5hbW91bnQgKiBzdG9yZWRDcHM7XG5cdH1cblxuXHRpZiAoU2ltSGFzKCdcImVnZ1wiJykpIFNpbUNvb2tpZXNQcyArPSA5Oy8vIFwiZWdnXCJcblxuXHRtdWx0ICo9IGNhdE11bHQ7XG5cblx0bGV0IGVnZ011bHQgPSAxO1xuXHRpZiAoU2ltSGFzKCdDaGlja2VuIGVnZycpKSBlZ2dNdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ0R1Y2sgZWdnJykpIGVnZ011bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnVHVya2V5IGVnZycpKSBlZ2dNdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ1F1YWlsIGVnZycpKSBlZ2dNdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ1JvYmluIGVnZycpKSBlZ2dNdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ09zdHJpY2ggZWdnJykpIGVnZ011bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnQ2Fzc293YXJ5IGVnZycpKSBlZ2dNdWx0ICo9IDEuMDE7XG5cdGlmIChTaW1IYXMoJ1NhbG1vbiByb2UnKSkgZWdnTXVsdCAqPSAxLjAxO1xuXHRpZiAoU2ltSGFzKCdGcm9nc3Bhd24nKSkgZWdnTXVsdCAqPSAxLjAxO1xuXHRpZiAoU2ltSGFzKCdTaGFyayBlZ2cnKSkgZWdnTXVsdCAqPSAxLjAxO1xuXHRpZiAoU2ltSGFzKCdUdXJ0bGUgZWdnJykpIGVnZ011bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnQW50IGxhcnZhJykpIGVnZ011bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnQ2VudHVyeSBlZ2cnKSkge1xuXHRcdC8vIFRoZSBib29zdCBpbmNyZWFzZXMgYSBsaXR0bGUgZXZlcnkgZGF5LCB3aXRoIGRpbWluaXNoaW5nIHJldHVybnMgdXAgdG8gKzEwJSBvbiB0aGUgMTAwdGggZGF5XG5cdFx0bGV0IGRheSA9IE1hdGguZmxvb3IoKFNpbURhdGVDZW50dXJ5IC0gR2FtZS5zdGFydERhdGUpIC8gMTAwMCAvIDEwKSAqIDEwIC8gNjAgLyA2MCAvIDI0O1xuXHRcdGRheSA9IE1hdGgubWluKGRheSwgMTAwKTtcblx0XHQvLyBTZXRzIGEgQ2FjaGUgdmFsdWUgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBTdGF0cyBwYWdlLCBjb3VsZCBiZSBtb3ZlZC4uLlxuXHRcdENhY2hlQ2VudEVnZyA9IDEgKyAoMSAtICgxIC0gZGF5IC8gMTAwKSAqKiAzKSAqIDAuMTtcblx0XHRlZ2dNdWx0ICo9IENhY2hlQ2VudEVnZztcblx0fVxuXHRtdWx0ICo9IGVnZ011bHQ7XG5cblx0aWYgKFNpbUhhcygnU3VnYXIgYmFraW5nJykpIG11bHQgKj0gKDEgKyBNYXRoLm1pbigxMDAsIEdhbWUubHVtcHMpICogMC4wMSk7XG5cblx0Ly8gaWYgKENNLlNpbS5oYXNBdXJhKCdSYWRpYW50IEFwcGV0aXRlJykpIG11bHQgKj0gMjtcblx0bXVsdCAqPSAxICsgU2ltQXVyYU11bHQoJ1JhZGlhbnQgQXBwZXRpdGUnKTtcblxuXHRjb25zdCByYXdDb29raWVzUHMgPSBTaW1Db29raWVzUHMgKiBtdWx0O1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5DcHNBY2hpZXZlbWVudHMpKSB7XG5cdFx0aWYgKHJhd0Nvb2tpZXNQcyA+PSBHYW1lLkNwc0FjaGlldmVtZW50c1tpXS50aHJlc2hvbGQpIFNpbVdpbihHYW1lLkNwc0FjaGlldmVtZW50c1tpXS5uYW1lKTtcblx0fVxuXG5cdFNpbUNvb2tpZXNQc1JhdyA9IHJhd0Nvb2tpZXNQcztcblxuXHRjb25zdCBuID0gR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm47XG5cdGNvbnN0IGF1cmFNdWx0ID0gU2ltQXVyYU11bHQoJ0RyYWdvblxcJ3MgRm9ydHVuZScpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuXHRcdG11bHQgKj0gMSArIGF1cmFNdWx0ICogMS4yMztcblx0fVxuXG5cdGNvbnN0IG5hbWUgPSBHYW1lLmJha2VyeU5hbWUudG9Mb3dlckNhc2UoKTtcblx0aWYgKG5hbWUgPT09ICdvcnRlaWwnKSBtdWx0ICo9IDAuOTk7XG5cdGVsc2UgaWYgKG5hbWUgPT09ICdvcnRpZWwnKSBtdWx0ICo9IDAuOTg7XG5cblx0aWYgKFNpbUhhcygnRWxkZXIgQ292ZW5hbnQnKSkgbXVsdCAqPSAwLjk1O1xuXG5cdGlmIChTaW1IYXMoJ0dvbGRlbiBzd2l0Y2ggW29mZl0nKSkge1xuXHRcdGxldCBnb2xkZW5Td2l0Y2hNdWx0ID0gMS41O1xuXHRcdGlmIChTaW1IYXMoJ1Jlc2lkdWFsIGx1Y2snKSkge1xuXHRcdFx0Y29uc3QgdXBncmFkZXMgPSBHYW1lLmdvbGRlbkNvb2tpZVVwZ3JhZGVzO1xuXHRcdFx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKHVwZ3JhZGVzKSkge1xuXHRcdFx0XHRpZiAoU2ltSGFzKHVwZ3JhZGVzW2ldKSkgZ29sZGVuU3dpdGNoTXVsdCArPSAwLjE7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG11bHQgKj0gZ29sZGVuU3dpdGNoTXVsdDtcblx0fVxuXHRpZiAoU2ltSGFzKCdTaGltbWVyaW5nIHZlaWwgW29mZl0nKSkge1xuXHRcdGxldCB2ZWlsTXVsdCA9IDAuNTtcblx0XHRpZiAoU2ltSGFzKCdSZWluZm9yY2VkIG1lbWJyYW5lJykpIHZlaWxNdWx0ICs9IDAuMTtcblx0XHRtdWx0ICo9IDEgKyB2ZWlsTXVsdDtcblx0fVxuXG5cdGlmIChTaW1IYXMoJ01hZ2ljIHNoZW5hbmlnYW5zJykpIG11bHQgKj0gMTAwMDtcblx0aWYgKFNpbUhhcygnT2NjdWx0IG9ic3RydWN0aW9uJykpIG11bHQgKj0gMDtcblxuXHRTaW1Db29raWVzUHMgPSBHYW1lLnJ1bk1vZEhvb2tPblZhbHVlKCdjcHMnLCBTaW1Db29raWVzUHMpO1xuXG5cdG11bHQgKj0gR2V0Q1BTQnVmZk11bHQoKTtcblxuXHRTaW1Db29raWVzUHMgKj0gbXVsdDtcblxuXHQvLyBpZiAoR2FtZS5oYXNCdWZmKCdDdXJzZWQgZmluZ2VyJykpIEdhbWUuY29va2llc1BzID0gMDtcbn1cbiIsIi8qKiBEYXRhIGNvcGllZCBkaXJlY3RseSBmcm9tIHRoZSBnYW1lICovXG5cbi8qKiBBcnJheSBvZiB0aGUgbmFtZXMgb2YgYWxsIGZvcnR1bmUgY29va2llcyBvYnRhaW5hYmxlIGZyb20gdGhlIHRpY2tlciAqL1xuZXhwb3J0IGNvbnN0IEZvcnR1bmVzID0gW1xuXHQnRm9ydHVuZSAjMDAxJyxcblx0J0ZvcnR1bmUgIzAwMicsXG5cdCdGb3J0dW5lICMwMDMnLFxuXHQnRm9ydHVuZSAjMDA0Jyxcblx0J0ZvcnR1bmUgIzAwNScsXG5cdCdGb3J0dW5lICMwMDYnLFxuXHQnRm9ydHVuZSAjMDA3Jyxcblx0J0ZvcnR1bmUgIzAwOCcsXG5cdCdGb3J0dW5lICMwMDknLFxuXHQnRm9ydHVuZSAjMDEwJyxcblx0J0ZvcnR1bmUgIzAxMScsXG5cdCdGb3J0dW5lICMwMTInLFxuXHQnRm9ydHVuZSAjMDEzJyxcblx0J0ZvcnR1bmUgIzAxNCcsXG5cdCdGb3J0dW5lICMwMTUnLFxuXHQnRm9ydHVuZSAjMDE2Jyxcblx0J0ZvcnR1bmUgIzAxNycsXG5cdCdGb3J0dW5lICMwMTgnLFxuXHQnRm9ydHVuZSAjMTAwJyxcblx0J0ZvcnR1bmUgIzEwMScsXG5cdCdGb3J0dW5lICMxMDInLFxuXHQnRm9ydHVuZSAjMTAzJyxcblx0J0ZvcnR1bmUgIzEwNCcsXG5dO1xuXG4vKiogQXJyYXkgb2YgdGhlIG5hbWVzIG9mIGFsbCBIYWxsb3dlZW4gY29va2llcyAqL1xuZXhwb3J0IGNvbnN0IEhhbGxvQ29va2llcyA9IFtcblx0J1NrdWxsIGNvb2tpZXMnLFxuXHQnR2hvc3QgY29va2llcycsXG5cdCdCYXQgY29va2llcycsXG5cdCdTbGltZSBjb29raWVzJyxcblx0J1B1bXBraW4gY29va2llcycsXG5cdCdFeWViYWxsIGNvb2tpZXMnLFxuXHQnU3BpZGVyIGNvb2tpZXMnLFxuXTtcblxuLyoqIEFycmF5IG9mIHRoZSBuYW1lcyBvZiBhbGwgQ2hyaXN0bWFzIGNvb2tpZXMgKi9cbmV4cG9ydCBjb25zdCBDaHJpc3RDb29raWVzID0gWydDaHJpc3RtYXMgdHJlZSBiaXNjdWl0cycsXG5cdCdTbm93Zmxha2UgYmlzY3VpdHMnLFxuXHQnU25vd21hbiBiaXNjdWl0cycsXG5cdCdIb2xseSBiaXNjdWl0cycsXG5cdCdDYW5keSBjYW5lIGJpc2N1aXRzJyxcblx0J0JlbGwgYmlzY3VpdHMnLFxuXHQnUHJlc2VudCBiaXNjdWl0cycsXG5dO1xuXG4vKiogQXJyYXkgb2YgdGhlIG5hbWVzIG9mIGFsbCBWYWxlbnRpbmUgY29va2llcyAqL1xuZXhwb3J0IGNvbnN0IFZhbENvb2tpZXMgPSBbJ1B1cmUgaGVhcnQgYmlzY3VpdHMnLFxuXHQnQXJkZW50IGhlYXJ0IGJpc2N1aXRzJyxcblx0J1NvdXIgaGVhcnQgYmlzY3VpdHMnLFxuXHQnV2VlcGluZyBoZWFydCBiaXNjdWl0cycsXG5cdCdHb2xkZW4gaGVhcnQgYmlzY3VpdHMnLFxuXHQnRXRlcm5hbCBoZWFydCBiaXNjdWl0cycsXG5cdCdQcmlzbSBoZWFydCBiaXNjdWl0cycsXG5dO1xuXG4vKiogQXJyYXkgb2YgdGhlIG5hbWVzIG9mIGFsbCBwbGFudCBkcm9wcyAqL1xuZXhwb3J0IGNvbnN0IFBsYW50RHJvcHMgPSBbJ0VsZGVyd29ydCBiaXNjdWl0cycsXG5cdCdCYWtlYmVycnkgY29va2llcycsXG5cdCdEdWtldGF0ZXIgY29va2llcycsXG5cdCdHcmVlbiB5ZWFzdCBkaWdlc3RpdmVzJyxcblx0J1doZWF0IHNsaW1zJyxcblx0J0Zlcm4gdGVhJyxcblx0J0ljaG9yIHN5cnVwJyxcbl07XG5cbi8qKiBBbGwgcG9zc2libGUgZWZmZWN0cyBwbGFudHMgYW5kIG90aGVyIGl0ZW1zIGNhbiBoYXZlIHdpdGggYSBkaXNwbGF5LXRpdGxlICovXG5leHBvcnQgY29uc3QgRWZmZWN0cyA9IHtcblx0YnVpbGRpbmdDb3N0OiAnQnVpbGRpbmcgcHJpY2VzJyxcblx0Y2xpY2s6ICdDb29raWVzIHBlciBjbGljaycsXG5cdGNwczogJ1RvdGFsIENQUycsXG5cdGN1cnNvckNwczogJ0N1cnNvciBDUFMnLFxuXHRnb2xkZW5Db29raWVEdXI6ICdHb2xkZW4gY29va2llIGR1cmF0aW9uJyxcblx0Z29sZGVuQ29va2llRWZmRHVyOiAnR29sZGVuIGNvb2tpZSBlZmZlY3QgZHVyYXRpb24nLFxuXHRnb2xkZW5Db29raWVGcmVxOiAnR29sZGVuIGNvb2tpZSBmcmVxdWVuY3knLFxuXHRnb2xkZW5Db29raWVHYWluOiAnR29sZGVuIGNvb2tpZSBnYWlucycsXG5cdGdyYW5kbWFDcHM6ICdHcmFuZG1hIENQUycsXG5cdGl0ZW1Ecm9wczogJ1JhbmRvbSBpdGVtIGRyb3AgY2hhbmNlJyxcblx0bWlsazogJ0VmZmVjdCBmcm9tIG1pbGsnLFxuXHRyZWluZGVlckR1cjogJ1JlaW5kZWVyIGR1cmF0aW9uJyxcblx0cmVpbmRlZXJGcmVxOiAnUmVpbmRlZXIgZnJlcXVlbmN5Jyxcblx0cmVpbmRlZXJHYWluOiAnUmVpbmRlZXIgZ2FpbnMnLFxuXHR1cGdyYWRlQ29zdDogJ1VwZ3JhZGUgcHJpY2VzJyxcblx0d3JhdGhDb29raWVEdXI6ICdXcmF0aCBjb29raWUgZHVyYXRpb24nLFxuXHR3cmF0aENvb2tpZUVmZkR1cjogJ1dyYXRoIGNvb2tpZSBlZmZlY3QgZHVyYXRpb24nLFxuXHR3cmF0aENvb2tpZUZyZXE6ICdXcmF0aCBjb29raWUgZnJlcXVlbmN5Jyxcblx0d3JhdGhDb29raWVHYWluOiAnV3JhdGggY29va2llIGdhaW5zJyxcblx0d3JpbmtsZXJFYXQ6ICdXcmlua2xlciAnLFxuXHR3cmlua2xlclNwYXduOiAnV3JpbmtsZXIgc3Bhd24gZnJlcXVlbmN5Jyxcbn07XG4iLCJpbXBvcnQgeyBTaW1BY2hpZXZlbWVudHMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjcmVhdGVzIGZ1bmN0aW9ucyBzaW1pbGFybHkgdG8gR2FtZS5IYXNBY2hpZXYgYnV0IGNoZWNrcyBTaW0gRGF0YSBpbnN0ZWFkIG9mIEdhbWUgRGF0YVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW1IYXNBY2hpZXYod2hhdCkge1xuXHRyZXR1cm4gKFNpbUFjaGlldmVtZW50c1t3aGF0XSA/IFNpbUFjaGlldmVtZW50c1t3aGF0XS53b24gOiAwKTtcbn1cbiIsImltcG9ydCB7IENocmlzdENvb2tpZXMsIEhhbGxvQ29va2llcyB9IGZyb20gJy4uLy4uL0RhdGEvR2FtZWRhdGEnO1xuaW1wb3J0IFNpbUhhcyBmcm9tICcuLi9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltSGFzJztcbmltcG9ydCBTaW1IYXNBY2hpZXYgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUhhc0FjaGlldic7XG5pbXBvcnQgU2ltV2luIGZyb20gJy4uL1NpbXVsYXRpb25EYXRhL1NpbVdpbic7XG5pbXBvcnQgeyBTaW1PYmplY3RzLCBTaW1VcGdyYWRlc093bmVkIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIGlmIGFueSBzcGVjaWFsIGFjaGlldmVtZW50cyBoYXZlIGJlZW4gb2J0YWluZWRcbiAqIElmIHNvIGl0IFNpbVdpbigpJ3MgdGhlbSBhbmQgdGhlIGNhbGxlciBmdW5jdGlvbiB3aWxsIGtub3cgdG8gcmVjYWxsIENNLlNpbS5DYWxjdWxhdGVHYWlucygpXG4gKiBJdCBpcyBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbnkgZnVuY3Rpb25zIHRoYXQgc2ltdWxhdGVzIGNlcnRhaW4gYmVoYXZpb3VyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoZWNrT3RoZXJBY2hpZXYoKSB7XG5cdGxldCBncmFuZG1hcyA9IDA7XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLkdyYW5kbWFTeW5lcmdpZXMpKSB7XG5cdFx0aWYgKFNpbUhhcyhHYW1lLkdyYW5kbWFTeW5lcmdpZXNbaV0pKSBncmFuZG1hcysrO1xuXHR9XG5cdGlmICghU2ltSGFzQWNoaWV2KCdFbGRlcicpICYmIGdyYW5kbWFzID49IDcpIFNpbVdpbignRWxkZXInKTtcblx0aWYgKCFTaW1IYXNBY2hpZXYoJ1ZldGVyYW4nKSAmJiBncmFuZG1hcyA+PSAxNCkgU2ltV2luKCdWZXRlcmFuJyk7XG5cblx0bGV0IGJ1aWxkaW5nc093bmVkID0gMDtcblx0bGV0IG1hdGhlbWF0aWNpYW4gPSAxO1xuXHRsZXQgYmFzZTEwID0gMTtcblx0bGV0IG1pbkFtb3VudCA9IDEwMDAwMDtcblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKFNpbU9iamVjdHMpKSB7XG5cdFx0YnVpbGRpbmdzT3duZWQgKz0gU2ltT2JqZWN0c1tpXS5hbW91bnQ7XG5cdFx0bWluQW1vdW50ID0gTWF0aC5taW4oU2ltT2JqZWN0c1tpXS5hbW91bnQsIG1pbkFtb3VudCk7XG5cdFx0aWYgKCFTaW1IYXNBY2hpZXYoJ01hdGhlbWF0aWNpYW4nKSkge1xuXHRcdFx0aWYgKFNpbU9iamVjdHNbaV0uYW1vdW50IDwgTWF0aC5taW4oMTI4LCAyICoqICgoR2FtZS5PYmplY3RzQnlJZC5sZW5ndGggLSBHYW1lLk9iamVjdHNbaV0uaWQpIC0gMSkpKSBtYXRoZW1hdGljaWFuID0gMDtcblx0XHR9XG5cdFx0aWYgKCFTaW1IYXNBY2hpZXYoJ0Jhc2UgMTAnKSkge1xuXHRcdFx0aWYgKFNpbU9iamVjdHNbaV0uYW1vdW50IDwgKEdhbWUuT2JqZWN0c0J5SWQubGVuZ3RoIC0gR2FtZS5PYmplY3RzW2ldLmlkKSAqIDEwKSBiYXNlMTAgPSAwO1xuXHRcdH1cblx0fVxuXHRpZiAobWluQW1vdW50ID49IDEpIFNpbVdpbignT25lIHdpdGggZXZlcnl0aGluZycpO1xuXHRpZiAobWF0aGVtYXRpY2lhbiA9PT0gMSkgU2ltV2luKCdNYXRoZW1hdGljaWFuJyk7XG5cdGlmIChiYXNlMTAgPT09IDEpIFNpbVdpbignQmFzZSAxMCcpO1xuXHRpZiAobWluQW1vdW50ID49IDEwMCkgU2ltV2luKCdDZW50ZW5uaWFsJyk7XG5cdGlmIChtaW5BbW91bnQgPj0gMTUwKSBTaW1XaW4oJ0NlbnRlbm5pYWwgYW5kIGEgaGFsZicpO1xuXHRpZiAobWluQW1vdW50ID49IDIwMCkgU2ltV2luKCdCaWNlbnRlbm5pYWwnKTtcblx0aWYgKG1pbkFtb3VudCA+PSAyNTApIFNpbVdpbignQmljZW50ZW5uaWFsIGFuZCBhIGhhbGYnKTtcblx0aWYgKG1pbkFtb3VudCA+PSAzMDApIFNpbVdpbignVHJpY2VudGVubmlhbCcpO1xuXHRpZiAobWluQW1vdW50ID49IDM1MCkgU2ltV2luKCdUcmljZW50ZW5uaWFsIGFuZCBhIGhhbGYnKTtcblx0aWYgKG1pbkFtb3VudCA+PSA0MDApIFNpbVdpbignUXVhZHJpY2VudGVubmlhbCcpO1xuXHRpZiAobWluQW1vdW50ID49IDQ1MCkgU2ltV2luKCdRdWFkcmljZW50ZW5uaWFsIGFuZCBhIGhhbGYnKTtcblx0aWYgKG1pbkFtb3VudCA+PSA1MDApIFNpbVdpbignUXVpbmNlbnRlbm5pYWwnKTtcblx0aWYgKG1pbkFtb3VudCA+PSA1NTApIFNpbVdpbignUXVpbmNlbnRlbm5pYWwgYW5kIGEgaGFsZicpO1xuXHRpZiAobWluQW1vdW50ID49IDYwMCkgU2ltV2luKCdTZXhjZW50ZW5uaWFsJyk7XG5cblx0aWYgKGJ1aWxkaW5nc093bmVkID49IDEwMCkgU2ltV2luKCdCdWlsZGVyJyk7XG5cdGlmIChidWlsZGluZ3NPd25lZCA+PSA1MDApIFNpbVdpbignQXJjaGl0ZWN0Jyk7XG5cdGlmIChidWlsZGluZ3NPd25lZCA+PSAxMDAwKSBTaW1XaW4oJ0VuZ2luZWVyJyk7XG5cdGlmIChidWlsZGluZ3NPd25lZCA+PSAyMDAwKSBTaW1XaW4oJ0xvcmQgb2YgQ29uc3RydWN0cycpO1xuXHRpZiAoYnVpbGRpbmdzT3duZWQgPj0gNDAwMCkgU2ltV2luKCdHcmFuZCBkZXNpZ24nKTtcblx0aWYgKGJ1aWxkaW5nc093bmVkID49IDgwMDApIFNpbVdpbignRWN1bWVub3BvbGlzJyk7XG5cblx0aWYgKFNpbVVwZ3JhZGVzT3duZWQgPj0gMjApIFNpbVdpbignRW5oYW5jZXInKTtcblx0aWYgKFNpbVVwZ3JhZGVzT3duZWQgPj0gNTApIFNpbVdpbignQXVnbWVudGVyJyk7XG5cdGlmIChTaW1VcGdyYWRlc093bmVkID49IDEwMCkgU2ltV2luKCdVcGdyYWRlcicpO1xuXHRpZiAoU2ltVXBncmFkZXNPd25lZCA+PSAyMDApIFNpbVdpbignTG9yZCBvZiBQcm9ncmVzcycpO1xuXHRpZiAoU2ltVXBncmFkZXNPd25lZCA+PSAzMDApIFNpbVdpbignVGhlIGZ1bGwgcGljdHVyZScpO1xuXHRpZiAoU2ltVXBncmFkZXNPd25lZCA+PSA0MDApIFNpbVdpbignV2hlbiB0aGVyZVxcJ3Mgbm90aGluZyBsZWZ0IHRvIGFkZCcpO1xuXG5cdGlmIChidWlsZGluZ3NPd25lZCA+PSA0MDAwICYmIFNpbVVwZ3JhZGVzT3duZWQgPj0gMzAwKSBTaW1XaW4oJ1BvbHltYXRoJyk7XG5cdGlmIChidWlsZGluZ3NPd25lZCA+PSA4MDAwICYmIFNpbVVwZ3JhZGVzT3duZWQgPj0gNDAwKSBTaW1XaW4oJ1JlbmFpc3NhbmNlIGJha2VyJyk7XG5cblx0aWYgKFNpbU9iamVjdHMuQ3Vyc29yLmFtb3VudCArIFNpbU9iamVjdHMuR3JhbmRtYS5hbW91bnQgPj0gNzc3KSBTaW1XaW4oJ1RoZSBlbGRlciBzY3JvbGxzJyk7XG5cblx0bGV0IGhhc0FsbEhhbGxvQ29vayA9IHRydWU7XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhIYWxsb0Nvb2tpZXMpKSB7XG5cdFx0aWYgKCFTaW1IYXMoSGFsbG9Db29raWVzW2ldKSkgaGFzQWxsSGFsbG9Db29rID0gZmFsc2U7XG5cdH1cblx0aWYgKGhhc0FsbEhhbGxvQ29vaykgU2ltV2luKCdTcG9va3kgY29va2llcycpO1xuXG5cdGxldCBoYXNBbGxDaHJpc3RDb29rID0gdHJ1ZTtcblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKENocmlzdENvb2tpZXMpKSB7XG5cdFx0aWYgKCFTaW1IYXMoQ2hyaXN0Q29va2llc1tpXSkpIGhhc0FsbENocmlzdENvb2sgPSBmYWxzZTtcblx0fVxuXHRpZiAoaGFzQWxsQ2hyaXN0Q29vaykgU2ltV2luKCdMZXQgaXQgc25vdycpO1xuXG5cdGlmIChTaW1IYXMoJ0ZvcnR1bmUgY29va2llcycpKSB7XG5cdFx0Y29uc3QgbGlzdCA9IEdhbWUuVGllcnMuZm9ydHVuZS51cGdyYWRlcztcblx0XHRsZXQgZm9ydHVuZXMgPSAwO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhsaXN0KSkge1xuXHRcdFx0aWYgKFNpbUhhcyhsaXN0W2ldLm5hbWUpKSBmb3J0dW5lcysrO1xuXHRcdH1cblx0XHRpZiAoZm9ydHVuZXMgPj0gbGlzdC5sZW5ndGgpIFNpbVdpbignTyBGb3J0dW5hJyk7XG5cdH1cbn1cbiIsImltcG9ydCBDYWxjdWxhdGVHYWlucyBmcm9tICcuLi9DYWxjdWxhdGlvbnMvQ2FsY3VsYXRlR2FpbnMnO1xuaW1wb3J0IENoZWNrT3RoZXJBY2hpZXYgZnJvbSAnLi4vQ2FsY3VsYXRpb25zL0NoZWNrT3RoZXJBY2hpZXYnO1xuaW1wb3J0IENvcHlEYXRhIGZyb20gJy4uL1NpbXVsYXRpb25EYXRhL0NvcHlEYXRhJztcbmltcG9ydCBTaW1XaW4gZnJvbSAnLi4vU2ltdWxhdGlvbkRhdGEvU2ltV2luJztcbmltcG9ydCB7IFNpbUFjaGlldmVtZW50c093bmVkLCBTaW1Db29raWVzUHMsIFNpbU9iamVjdHMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIGJvbnVzIGluY29tZSBvZiBidXlpbmcgYSBidWlsZGluZ1xuICogSXQgaXMgY2FsbGVkIGJ5IENNLkNhY2hlLkNhY2hlQnVpbGRpbmdJbmNvbWUoKVxuICogQHBhcmFtXHR7c3RyaW5nfVx0YnVpbGRpbmdcdFRoZSBuYW1lIG9mIHRoZSBidWlsZGluZyB0byBiZSBib3VnaHRcbiAqIEBwYXJhbVx0e251bWJlcn1cdGFtb3VudFx0XHRUaGUgYW1vdW50IHRvIGJlIGJvdWdodFxuICogQHJldHVybnMge251bWJlcn1cdFx0XHRcdFRoZSBib251cyBpbmNvbWUgb2YgdGhlIGJ1aWxkaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJ1eUJ1aWxkaW5nc0JvbnVzSW5jb21lKGJ1aWxkaW5nLCBhbW91bnQpIHtcblx0Q29weURhdGEoKTtcblx0Y29uc3QgbWUgPSBTaW1PYmplY3RzW2J1aWxkaW5nXTtcblx0bWUuYW1vdW50ICs9IGFtb3VudDtcblxuXHRpZiAoYnVpbGRpbmcgPT09ICdDdXJzb3InKSB7XG5cdFx0aWYgKG1lLmFtb3VudCA+PSAxKSBTaW1XaW4oJ0NsaWNrJyk7XG5cdFx0aWYgKG1lLmFtb3VudCA+PSAyKSBTaW1XaW4oJ0RvdWJsZS1jbGljaycpO1xuXHRcdGlmIChtZS5hbW91bnQgPj0gNTApIFNpbVdpbignTW91c2Ugd2hlZWwnKTtcblx0XHRpZiAobWUuYW1vdW50ID49IDEwMCkgU2ltV2luKCdPZiBNaWNlIGFuZCBNZW4nKTtcblx0XHRpZiAobWUuYW1vdW50ID49IDIwMCkgU2ltV2luKCdUaGUgRGlnaXRhbCcpO1xuXHRcdGlmIChtZS5hbW91bnQgPj0gMzAwKSBTaW1XaW4oJ0V4dHJlbWUgcG9seWRhY3R5bHknKTtcblx0XHRpZiAobWUuYW1vdW50ID49IDQwMCkgU2ltV2luKCdEci4gVCcpO1xuXHRcdGlmIChtZS5hbW91bnQgPj0gNTAwKSBTaW1XaW4oJ1RodW1icywgcGhhbGFuZ2VzLCBtZXRhY2FycGFscycpO1xuXHRcdGlmIChtZS5hbW91bnQgPj0gNjAwKSBTaW1XaW4oJ1dpdGggaGVyIGZpbmdlciBhbmQgaGVyIHRodW1iJyk7XG5cdFx0aWYgKG1lLmFtb3VudCA+PSA3MDApIFNpbVdpbignR290dGEgaGFuZCBpdCB0byB5b3UnKTtcblx0XHRpZiAobWUuYW1vdW50ID49IDgwMCkgU2ltV2luKCdUaGUgZGV2aWxcXCdzIHdvcmtzaG9wJyk7XG5cdH0gZWxzZSB7XG5cdFx0Zm9yIChjb25zdCBqIGluIEdhbWUuT2JqZWN0c1ttZS5uYW1lXS50aWVyZWRBY2hpZXZzKSB7XG5cdFx0XHRpZiAobWUuYW1vdW50ID49IEdhbWUuVGllcnNbR2FtZS5PYmplY3RzW21lLm5hbWVdLnRpZXJlZEFjaGlldnNbal0udGllcl0uYWNoaWV2VW5sb2NrKSB7XG5cdFx0XHRcdFNpbVdpbihHYW1lLk9iamVjdHNbbWUubmFtZV0udGllcmVkQWNoaWV2c1tqXS5uYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjb25zdCBsYXN0QWNoaWV2ZW1lbnRzT3duZWQgPSBTaW1BY2hpZXZlbWVudHNPd25lZDtcblxuXHRDYWxjdWxhdGVHYWlucygpO1xuXG5cdENoZWNrT3RoZXJBY2hpZXYoKTtcblxuXHRpZiAobGFzdEFjaGlldmVtZW50c093bmVkICE9PSBTaW1BY2hpZXZlbWVudHNPd25lZCkge1xuXHRcdENhbGN1bGF0ZUdhaW5zKCk7XG5cdH1cblxuXHRyZXR1cm4gU2ltQ29va2llc1BzIC0gR2FtZS5jb29raWVzUHM7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IENhbGN1bGF0ZUdhaW5zIGZyb20gJy4uL0NhbGN1bGF0aW9ucy9DYWxjdWxhdGVHYWlucyc7XG5pbXBvcnQgQ2hlY2tPdGhlckFjaGlldiBmcm9tICcuLi9DYWxjdWxhdGlvbnMvQ2hlY2tPdGhlckFjaGlldic7XG5pbXBvcnQgU2ltQXVyYU11bHQgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUF1cmFNdWx0JztcbmltcG9ydCBTaW1FZmYgZnJvbSAnLi4vUmVwbGFjZWRHYW1lRnVuY3Rpb25zL1NpbUVmZic7XG5pbXBvcnQgU2ltSGFzIGZyb20gJy4uL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1IYXMnO1xuaW1wb3J0IFNpbUhhc0dvZCBmcm9tICcuLi9SZXBsYWNlZEdhbWVGdW5jdGlvbnMvU2ltSGFzR29kJztcbmltcG9ydCBDb3B5RGF0YSBmcm9tICcuLi9TaW11bGF0aW9uRGF0YS9Db3B5RGF0YSc7XG5pbXBvcnQgU2ltV2luIGZyb20gJy4uL1NpbXVsYXRpb25EYXRhL1NpbVdpbic7XG5pbXBvcnQge1xuXHRTaW1BY2hpZXZlbWVudHNPd25lZCwgU2ltQ29va2llc1BzLCBTaW1PYmplY3RzLCBTaW1QbGVkZ2VzLCBTaW1VcGdyYWRlcywgU2ltVXBncmFkZXNPd25lZCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSBib251cyBpbmNvbWUgb2YgYnV5aW5nIGEgYnVpbGRpbmdcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5DYWNoZS5DYWNoZUJ1aWxkaW5nSW5jb21lKClcbiAqIEBwYXJhbVx0e3N0cmluZ31cdFx0XHRcdGJ1aWxkaW5nXHRUaGUgbmFtZSBvZiB0aGUgdXBncmFkZSB0byBiZSBib3VnaHRcbiAqIEByZXR1cm5zIHtbe251bWJlciwgbnVtYmVyfV19XHRcdFx0XHRUaGUgYm9udXMgaW5jb21lIG9mIHRoZSB1cGdyYWRlIGFuZCB0aGUgZGlmZmVyZW5jZSBpbiBNb3VzZUNQU1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdXlVcGdyYWRlc0JvbnVzSW5jb21lKHVwZ3JhZGUpIHtcblx0aWYgKEdhbWUuVXBncmFkZXNbdXBncmFkZV0ucG9vbCA9PT0gJ3RvZ2dsZScgfHwgKEdhbWUuVXBncmFkZXNbdXBncmFkZV0uYm91Z2h0ID09PSAwICYmIEdhbWUuVXBncmFkZXNbdXBncmFkZV0udW5sb2NrZWQgJiYgR2FtZS5VcGdyYWRlc1t1cGdyYWRlXS5wb29sICE9PSAncHJlc3RpZ2UnKSkge1xuXHRcdENvcHlEYXRhKCk7XG5cdFx0Y29uc3QgbWUgPSBTaW1VcGdyYWRlc1t1cGdyYWRlXTtcblx0XHRpZiAobWUubmFtZSA9PT0gJ1NoaW1tZXJpbmcgdmVpbCBbb25dJykge1xuXHRcdFx0U2ltVXBncmFkZXNbJ1NoaW1tZXJpbmcgdmVpbCBbb2ZmXSddLmJvdWdodCA9IDA7XG5cdFx0fSBlbHNlIGlmIChtZS5uYW1lID09PSAnR29sZGVuIHN3aXRjaCBbb25dJykge1xuXHRcdFx0U2ltVXBncmFkZXNbJ0dvbGRlbiBzd2l0Y2ggW29mZl0nXS5ib3VnaHQgPSAwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZS5ib3VnaHQgPSAobWUuYm91Z2h0ICsgMSkgJSAyO1xuXHRcdH1cblx0XHRpZiAoR2FtZS5Db3VudHNBc1VwZ3JhZGVPd25lZChHYW1lLlVwZ3JhZGVzW3VwZ3JhZGVdLnBvb2wpKSBTaW1VcGdyYWRlc093bmVkKys7XG5cblx0XHRpZiAodXBncmFkZSA9PT0gJ0VsZGVyIFBsZWRnZScpIHtcblx0XHRcdFNpbVBsZWRnZXMrKztcblx0XHRcdGlmIChTaW1QbGVkZ2VzID4gMCkgU2ltV2luKCdFbGRlciBuYXAnKTtcblx0XHRcdGlmIChTaW1QbGVkZ2VzID49IDUpIFNpbVdpbignRWxkZXIgc2x1bWJlcicpO1xuXHRcdH0gZWxzZSBpZiAodXBncmFkZSA9PT0gJ0VsZGVyIENvdmVuYW50Jykge1xuXHRcdFx0U2ltV2luKCdFbGRlciBjYWxtJyk7XG5cdFx0fSBlbHNlIGlmICh1cGdyYWRlID09PSAnUHJpc20gaGVhcnQgYmlzY3VpdHMnKSB7XG5cdFx0XHRTaW1XaW4oJ0xvdmVseSBjb29raWVzJyk7XG5cdFx0fSBlbHNlIGlmICh1cGdyYWRlID09PSAnSGVhdmVubHkga2V5Jykge1xuXHRcdFx0U2ltV2luKCdXaG9sZXNvbWUnKTtcblx0XHR9XG5cblx0XHRjb25zdCBsYXN0QWNoaWV2ZW1lbnRzT3duZWQgPSBTaW1BY2hpZXZlbWVudHNPd25lZDtcblxuXHRcdENhbGN1bGF0ZUdhaW5zKCk7XG5cblx0XHRDaGVja090aGVyQWNoaWV2KCk7XG5cblx0XHRpZiAobGFzdEFjaGlldmVtZW50c093bmVkICE9PSBTaW1BY2hpZXZlbWVudHNPd25lZCkge1xuXHRcdFx0Q2FsY3VsYXRlR2FpbnMoKTtcblx0XHR9XG5cblx0XHRjb25zdCBkaWZmTW91c2VDUFMgPSBNb3VzZUNwcygpIC0gR2FtZS5jb21wdXRlZE1vdXNlQ3BzO1xuXHRcdGlmIChkaWZmTW91c2VDUFMpIHtcblx0XHRcdHJldHVybiBbU2ltQ29va2llc1BzIC0gR2FtZS5jb29raWVzUHMsIGRpZmZNb3VzZUNQU107XG5cdFx0fVxuXHRcdHJldHVybiBbU2ltQ29va2llc1BzIC0gR2FtZS5jb29raWVzUHNdO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgY29va2llcyBwZXIgY2xpY2tcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5TaW0uQnV5VXBncmFkZXNCb251c0luY29tZSgpIHdoZW4gYW4gdXBncmFkZXMgaGFzIG5vIGJvbnVzLWluY29tZSAoYW5kIGlzIHRodXMgYSBjbGlja2luZy11cGdyYWRlKVxuICogQHJldHVybnNcdHtudW1iZXJ9XHRvdXRcdFRoZSBjbGlja2luZyBwb3dlclxuICovXG5mdW5jdGlvbiBNb3VzZUNwcygpIHtcblx0bGV0IGFkZCA9IDA7XG5cdGlmIChTaW1IYXMoJ1Rob3VzYW5kIGZpbmdlcnMnKSkgYWRkICs9IDAuMTtcblx0aWYgKFNpbUhhcygnTWlsbGlvbiBmaW5nZXJzJykpIGFkZCAqPSA1O1xuXHRpZiAoU2ltSGFzKCdCaWxsaW9uIGZpbmdlcnMnKSkgYWRkICo9IDEwO1xuXHRpZiAoU2ltSGFzKCdUcmlsbGlvbiBmaW5nZXJzJykpIGFkZCAqPSAyMDtcblx0aWYgKFNpbUhhcygnUXVhZHJpbGxpb24gZmluZ2VycycpKSBhZGQgKj0gMjA7XG5cdGlmIChTaW1IYXMoJ1F1aW50aWxsaW9uIGZpbmdlcnMnKSkgYWRkICo9IDIwO1xuXHRpZiAoU2ltSGFzKCdTZXh0aWxsaW9uIGZpbmdlcnMnKSkgYWRkICo9IDIwO1xuXHRpZiAoU2ltSGFzKCdTZXB0aWxsaW9uIGZpbmdlcnMnKSkgYWRkICo9IDIwO1xuXHRpZiAoU2ltSGFzKCdPY3RpbGxpb24gZmluZ2VycycpKSBhZGQgKj0gMjA7XG5cdGlmIChTaW1IYXMoJ05vbmlsbGlvbiBmaW5nZXJzJykpIGFkZCAqPSAyMDtcblx0bGV0IG51bSA9IDA7XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhTaW1PYmplY3RzKSkgeyBudW0gKz0gU2ltT2JqZWN0c1tpXS5hbW91bnQ7IH1cblx0bnVtIC09IFNpbU9iamVjdHMuQ3Vyc29yLmFtb3VudDtcblx0YWRkICo9IG51bTtcblxuXHQvLyBDYW4gdXNlIFNpbUNvb2tpZXNQcyBhcyBmdW5jdGlvbiBpcyBhbHdheXMgY2FsbGVkIGFmdGVyIENNLlNpbS5DYWxjdWxhdGVHYWlucygpXG5cdGlmIChTaW1IYXMoJ1BsYXN0aWMgbW91c2UnKSkgYWRkICs9IFNpbUNvb2tpZXNQcyAqIDAuMDE7XG5cdGlmIChTaW1IYXMoJ0lyb24gbW91c2UnKSkgYWRkICs9IFNpbUNvb2tpZXNQcyAqIDAuMDE7XG5cdGlmIChTaW1IYXMoJ1RpdGFuaXVtIG1vdXNlJykpIGFkZCArPSBTaW1Db29raWVzUHMgKiAwLjAxO1xuXHRpZiAoU2ltSGFzKCdBZGFtYW50aXVtIG1vdXNlJykpIGFkZCArPSBTaW1Db29raWVzUHMgKiAwLjAxO1xuXHRpZiAoU2ltSGFzKCdVbm9idGFpbml1bSBtb3VzZScpKSBhZGQgKz0gU2ltQ29va2llc1BzICogMC4wMTtcblx0aWYgKFNpbUhhcygnRWx1ZGl1bSBtb3VzZScpKSBhZGQgKz0gU2ltQ29va2llc1BzICogMC4wMTtcblx0aWYgKFNpbUhhcygnV2lzaGFsbG95IG1vdXNlJykpIGFkZCArPSBTaW1Db29raWVzUHMgKiAwLjAxO1xuXHRpZiAoU2ltSGFzKCdGYW50YXN0ZWVsIG1vdXNlJykpIGFkZCArPSBTaW1Db29raWVzUHMgKiAwLjAxO1xuXHRpZiAoU2ltSGFzKCdOZXZlcmNyYWNrIG1vdXNlJykpIGFkZCArPSBTaW1Db29raWVzUHMgKiAwLjAxO1xuXHRpZiAoU2ltSGFzKCdBcm15dGhyaWwgbW91c2UnKSkgYWRkICs9IFNpbUNvb2tpZXNQcyAqIDAuMDE7XG5cdGlmIChTaW1IYXMoJ1RlY2hub2JzaWRpYW4gbW91c2UnKSkgYWRkICs9IFNpbUNvb2tpZXNQcyAqIDAuMDE7XG5cdGlmIChTaW1IYXMoJ1BsYXNtYXJibGUgbW91c2UnKSkgYWRkICs9IFNpbUNvb2tpZXNQcyAqIDAuMDE7XG5cdGlmIChTaW1IYXMoJ01pcmFjdWxpdGUgbW91c2UnKSkgYWRkICs9IFNpbUNvb2tpZXNQcyAqIDAuMDE7XG5cblx0aWYgKFNpbUhhcygnRm9ydHVuZSAjMTA0JykpIGFkZCArPSBTaW1Db29raWVzUHMgKiAwLjAxO1xuXG5cdGxldCBtdWx0ID0gMTtcblx0aWYgKFNpbUhhcygnU2FudGFcXCdzIGhlbHBlcnMnKSkgbXVsdCAqPSAxLjE7XG5cdGlmIChTaW1IYXMoJ0Nvb2tpZSBlZ2cnKSkgbXVsdCAqPSAxLjE7XG5cdGlmIChTaW1IYXMoJ0hhbG8gZ2xvdmVzJykpIG11bHQgKj0gMS4xO1xuXHRpZiAoU2ltSGFzKCdEcmFnb24gY2xhdycpKSBtdWx0ICo9IDEuMDM7XG5cblx0aWYgKFNpbUhhcygnQXVyYSBnbG92ZXMnKSkge1xuXHRcdG11bHQgKj0gMSArIDAuMDUgKiBNYXRoLm1pbihHYW1lLk9iamVjdHMuQ3Vyc29yLmxldmVsLCBTaW1IYXMoJ0x1bWlub3VzIGdsb3ZlcycpID8gMjAgOiAxMCk7XG5cdH1cblxuXHRtdWx0ICo9IFNpbUVmZignY2xpY2snKTtcblx0aWYgKFNpbU9iamVjdHMuVGVtcGxlLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0aWYgKFNpbUhhc0dvZCkge1xuXHRcdFx0Y29uc3QgZ29kTHZsID0gU2ltSGFzR29kKCdsYWJvcicpO1xuXHRcdFx0aWYgKGdvZEx2bCA9PT0gMSkgbXVsdCAqPSAxLjE1O1xuXHRcdFx0ZWxzZSBpZiAoZ29kTHZsID09PSAyKSBtdWx0ICo9IDEuMTtcblx0XHRcdGVsc2UgaWYgKGdvZEx2bCA9PT0gMykgbXVsdCAqPSAxLjA1O1xuXHRcdH1cblx0fVxuXG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLmJ1ZmZzKSkge1xuXHRcdGlmICh0eXBlb2YgR2FtZS5idWZmc1tpXS5tdWx0Q2xpY2sgIT09ICd1bmRlZmluZWQnKSBtdWx0ICo9IEdhbWUuYnVmZnNbaV0ubXVsdENsaWNrO1xuXHR9XG5cblx0Ly8gaWYgKENNLlNpbS5hdXJhTXVsdCgnRHJhZ29uIEN1cnNvcicpKSBtdWx0Kj0xLjA1O1xuXHRtdWx0ICo9IDEgKyBTaW1BdXJhTXVsdCgnRHJhZ29uIEN1cnNvcicpICogMC4wNTtcblxuXHQvLyBObyBuZWVkIHRvIG1ha2UgdGhpcyBmdW5jdGlvbiBhIENNIGZ1bmN0aW9uXG5cdGxldCBvdXQgPSBtdWx0ICogR2FtZS5Db21wdXRlQ3BzKDEsIFNpbUhhcygnUmVpbmZvcmNlZCBpbmRleCBmaW5nZXInKSArIFNpbUhhcygnQ2FycGFsIHR1bm5lbCBwcmV2ZW50aW9uIGNyZWFtJykgKyBTaW1IYXMoJ0FtYmlkZXh0cm91cycpLCBhZGQpO1xuXG5cdG91dCA9IEdhbWUucnVuTW9kSG9va09uVmFsdWUoJ2Nvb2tpZXNQZXJDbGljaycsIG91dCk7XG5cblx0aWYgKEdhbWUuaGFzQnVmZignQ3Vyc2VkIGZpbmdlcicpKSBvdXQgPSBHYW1lLmJ1ZmZzWydDdXJzZWQgZmluZ2VyJ10ucG93ZXI7XG5cblx0cmV0dXJuIG91dDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiogU2VjdGlvbjogRnVuY3Rpb25zIHJlbGF0ZWQgdG8gY2FjaGluZyBpbmNvbWUgKi9cblxuaW1wb3J0IEJ1aWxkaW5nR2V0UHJpY2UgZnJvbSAnLi4vLi4vU2ltL1NpbXVsYXRpb25FdmVudHMvQnV5QnVpbGRpbmcnO1xuaW1wb3J0IEJ1eUJ1aWxkaW5nc0JvbnVzSW5jb21lIGZyb20gJy4uLy4uL1NpbS9TaW11bGF0aW9uRXZlbnRzL0J1eUJ1aWxkaW5nQm9udXNJbmNvbWUnO1xuaW1wb3J0IEJ1eVVwZ3JhZGVzQm9udXNJbmNvbWUgZnJvbSAnLi4vLi4vU2ltL1NpbXVsYXRpb25FdmVudHMvQnV5VXBncmFkZXMnO1xuaW1wb3J0IHtcblx0Q2FjaGVEb1JlbWFrZUJ1aWxkUHJpY2VzLCBDYWNoZU9iamVjdHMxLCBDYWNoZU9iamVjdHMxMCwgQ2FjaGVPYmplY3RzMTAwLCBDYWNoZVVwZ3JhZGVzLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjYWNoZXMgdGhlIGluY29tZSBnYWluIG9mIGVhY2ggYnVpbGRpbmcgYW5kIHVwZ3JhZGUgYW5kIHN0b3JlcyBpdCBpbiB0aGUgY2FjaGVcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5NYWluLkxvb3AoKSBhbmQgQ00uQ2FjaGUuSW5pdENhY2hlKClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhY2hlSW5jb21lKCkge1xuXHQvLyBTaW11bGF0ZSBCdWlsZGluZyBCdXlzIGZvciAxLCAxMCBhbmQgMTAwIGFtb3VudFxuXHRDYWNoZU9iamVjdHMxID0gQ2FjaGVCdWlsZGluZ0luY29tZSgxKTtcblx0Q2FjaGVPYmplY3RzMTAgPSBDYWNoZUJ1aWxkaW5nSW5jb21lKDEwKTtcblx0Q2FjaGVPYmplY3RzMTAwID0gQ2FjaGVCdWlsZGluZ0luY29tZSgxMDApO1xuXG5cdC8vIFNpbXVsYXRlIFVwZ3JhZGUgQnV5c1xuXHRDYWNoZVVwZ3JhZGVJbmNvbWUoKTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBzdGFydHMgdGhlIGNhbGN1bGF0aW9uL3NpbXVsYXRpb24gb2YgdGhlIGJvbnVzIGluY29tZSBvZiBidWlsZGluZ3NcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5DYWNoZS5DYWNoZUluY29tZSgpXG4gKiBAcGFyYW1cdHthbW91bnR9XHRhbW91bnRcdEFtb3VudCB0byBiZSBib3VnaHRcbiAqIEBwYXJlbVx0e3N0cmluZ31cdHRhcmdldFx0VGhlIHRhcmdldCBDYWNoZSBvYmplY3QgKFwiT2JqZWN0czFcIiwgXCJPYmplY3RzMTBcIiBvciBcIk9iamVjdHMxMDBcIilcbiAqL1xuZnVuY3Rpb24gQ2FjaGVCdWlsZGluZ0luY29tZShhbW91bnQsIHRhcmdldCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuT2JqZWN0cykpIHtcblx0XHRyZXN1bHRbaV0gPSB7fTtcblx0XHRyZXN1bHRbaV0uYm9udXMgPSBCdXlCdWlsZGluZ3NCb251c0luY29tZShpLCBhbW91bnQpO1xuXHRcdGlmIChhbW91bnQgIT09IDEpIHtcblx0XHRcdENhY2hlRG9SZW1ha2VCdWlsZFByaWNlcyA9IDE7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgc3RhcnRzIHRoZSBjYWxjdWxhdGlvbi9zaW11bGF0aW9uIG9mIHRoZSBib251cyBpbmNvbWUgb2YgdXBncmFkZXNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5DYWNoZS5DYWNoZUluY29tZSgpXG4gKi9cbmZ1bmN0aW9uIENhY2hlVXBncmFkZUluY29tZSgpIHtcblx0Q2FjaGVVcGdyYWRlcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5VcGdyYWRlcykpIHtcblx0XHRjb25zdCBib251c0luY29tZSA9IEJ1eVVwZ3JhZGVzQm9udXNJbmNvbWUoaSk7XG5cdFx0Q2FjaGVVcGdyYWRlc1tpXSA9IHt9O1xuXHRcdGlmIChib251c0luY29tZVswXSkgQ2FjaGVVcGdyYWRlc1tpXS5ib251cyA9IGJvbnVzSW5jb21lWzBdO1xuXHRcdGlmIChib251c0luY29tZVsxXSkgQ2FjaGVVcGdyYWRlc1tpXS5ib251c01vdXNlID0gYm9udXNJbmNvbWVbMV07XG5cdH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjYWNoZXMgdGhlIHByaWNlIG9mIGVhY2ggYnVpbGRpbmcgYW5kIHN0b3JlcyBpdCBpbiB0aGUgY2FjaGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhY2hlQnVpbGRpbmdzUHJpY2VzKCkge1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5PYmplY3RzKSkge1xuXHRcdENhY2hlT2JqZWN0czFbaV0ucHJpY2UgPSBCdWlsZGluZ0dldFByaWNlKEdhbWUuT2JqZWN0c1tpXSwgR2FtZS5PYmplY3RzW2ldLmJhc2VQcmljZSwgR2FtZS5PYmplY3RzW2ldLmFtb3VudCwgR2FtZS5PYmplY3RzW2ldLmZyZWUsIDEpO1xuXHRcdENhY2hlT2JqZWN0czEwW2ldLnByaWNlID0gQnVpbGRpbmdHZXRQcmljZShHYW1lLk9iamVjdHNbaV0sIEdhbWUuT2JqZWN0c1tpXS5iYXNlUHJpY2UsIEdhbWUuT2JqZWN0c1tpXS5hbW91bnQsIEdhbWUuT2JqZWN0c1tpXS5mcmVlLCAxMCk7XG5cdFx0Q2FjaGVPYmplY3RzMTAwW2ldLnByaWNlID0gQnVpbGRpbmdHZXRQcmljZShHYW1lLk9iamVjdHNbaV0sIEdhbWUuT2JqZWN0c1tpXS5iYXNlUHJpY2UsIEdhbWUuT2JqZWN0c1tpXS5hbW91bnQsIEdhbWUuT2JqZWN0c1tpXS5mcmVlLCAxMDApO1xuXHR9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IEdldENQU0J1ZmZNdWx0IGZyb20gJy4uL0NQUy9HZXRDUFNCdWZmTXVsdCc7XG5pbXBvcnQge1xuXHRDYWNoZUNoYWluRnJlbnp5TWF4UmV3YXJkLCBDYWNoZUNoYWluRnJlbnp5UmVxdWlyZWQsIENhY2hlQ2hhaW5GcmVuenlSZXF1aXJlZE5leHQsIENhY2hlQ2hhaW5GcmVuenlXcmF0aE1heFJld2FyZCwgQ2FjaGVDaGFpbkZyZW56eVdyYXRoUmVxdWlyZWQsIENhY2hlQ2hhaW5GcmVuenlXcmF0aFJlcXVpcmVkTmV4dCwgQ2FjaGVDaGFpbk1heFJld2FyZCwgQ2FjaGVDaGFpblJlcXVpcmVkLCBDYWNoZUNoYWluUmVxdWlyZWROZXh0LCBDYWNoZUNoYWluV3JhdGhNYXhSZXdhcmQsIENhY2hlQ2hhaW5XcmF0aFJlcXVpcmVkLCBDYWNoZUNoYWluV3JhdGhSZXF1aXJlZE5leHQsIENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudCwgQ2FjaGVHb2xkZW5Db29raWVzTXVsdCwgQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMsIENhY2hlV3JhdGhDb29raWVzTXVsdCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FsY3VsYXRlcyB0aGUgbWF4IHBvc3NpYmxlIHBheW91dCBnaXZlbiBhIHNldCBvZiB2YXJpYWJsZXNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5EaXNwLkNyZWF0ZVN0YXRzQ2hhaW5TZWN0aW9uKCkgYW5kIENNLkNhY2hlLkNhY2hlQ2hhaW4oKVxuICogQHBhcmFtXHR7bnVtYmVyfVx0XHRcdFx0XHRkaWdpdFx0XHROdW1iZXIgb2YgR29sZGVuIENvb2tpZXMgaW4gY2hhaW5cbiAqIEBwYXJhbVx0e251bWJlcn1cdFx0XHRcdFx0bWF4UGF5b3V0XHRNYXhpbXVtIHBheW91dFxuICogQHBhcmFtXHR7bnVtYmVyfVx0XHRcdFx0XHRtdWx0XHRcdE11bHRpcGxpZXJcbiAqIEByZXR1cm5zXHRbe251bWJlciwgbnVtYmVyLCBudW1iZXJ9XVx0XHRcdFx0VG90YWwgY29va2llcyBlYXJuZWQsIGNvb2tpZSBuZWVkZWQgZm9yIHRoaXMgYW5kIG5leHQgbGV2ZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1heENoYWluQ29va2llUmV3YXJkKGRpZ2l0LCBtYXhQYXlvdXQsIG11bHQpIHtcblx0bGV0IHRvdGFsRnJvbUNoYWluID0gMDtcblx0bGV0IG1vbmkgPSAwO1xuXHRsZXQgbmV4dE1vbmkgPSAwO1xuXHRsZXQgbmV4dFJlcXVpcmVkID0gMDtcblx0bGV0IGNoYWluID0gMSArIE1hdGgubWF4KDAsIE1hdGguY2VpbChNYXRoLmxvZyhHYW1lLmNvb2tpZXMpIC8gTWF0aC5MTjEwKSAtIDEwKTtcblx0d2hpbGUgKG5leHRNb25pIDwgbWF4UGF5b3V0KSB7XG5cdFx0bW9uaSA9IE1hdGgubWF4KGRpZ2l0LCBNYXRoLm1pbihNYXRoLmZsb29yKDEgLyA5ICogMTAgKiogY2hhaW4gKiBkaWdpdCAqIG11bHQpLCBtYXhQYXlvdXQgKiBtdWx0KSk7XG5cdFx0bmV4dE1vbmkgPSBNYXRoLm1heChkaWdpdCwgTWF0aC5taW4oTWF0aC5mbG9vcigxIC8gOSAqIDEwICoqIChjaGFpbiArIDEpICogZGlnaXQgKiBtdWx0KSwgbWF4UGF5b3V0ICogbXVsdCkpO1xuXHRcdG5leHRSZXF1aXJlZCA9IE1hdGguZmxvb3IoMSAvIDkgKiAxMCAqKiAoY2hhaW4gKyAxKSAqIGRpZ2l0ICogbXVsdCk7XG5cdFx0dG90YWxGcm9tQ2hhaW4gKz0gbW9uaTtcblx0XHRjaGFpbisrO1xuXHR9XG5cdHJldHVybiBbdG90YWxGcm9tQ2hhaW4sIG1vbmksIG5leHRSZXF1aXJlZF07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIGRhdGEgcmVsYXRlZCB0byBDaGFpbiBDb29raWVzIHJld2FyZCBmcm9tIEdvbGRlbiBDb29raW9lc1xuICogSXQgaXMgY2FsbGVkIGJ5IENNLk1haW4uTG9vcCgpIHVwb24gY2hhbmdlcyB0byBjcHMgYW5kIENNLkNhY2hlLkluaXRDYWNoZSgpXG4gKiBAZ2xvYmFsXHRbe251bWJlciwgbnVtYmVyfV1cdENNLkNhY2hlLkNoYWluTWF4UmV3YXJkXHRcdFx0VG90YWwgY29va2llcyBlYXJuZWQsIGFuZCBjb29raWVzIG5lZWRlZCBmb3IgbmV4dCBsZXZlbCBmb3Igbm9ybWFsIGNoYWluXG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0XHRcdENNLkNhY2hlLkNoYWluUmVxdWlyZWRcdFx0XHRDb29raWVzIG5lZWRlZCBmb3IgbWF4aW11bSByZXdhcmQgZm9yIG5vcm1hbCBjaGFpblxuICogQGdsb2JhbFx0e251bWJlcn1cdFx0XHRDTS5DYWNoZS5DaGFpblJlcXVpcmVkTmV4dFx0XHRUb3RhbCBjb29raWVzIG5lZWRlZCBmb3IgbmV4dCBsZXZlbCBmb3Igbm9ybWFsIGNoYWluXG4gKiBAZ2xvYmFsXHRbe251bWJlciwgbnVtYmVyfV1cdENNLkNhY2hlLkNoYWluTWF4V3JhdGhSZXdhcmRcdFx0XHRUb3RhbCBjb29raWVzIGVhcm5lZCwgYW5kIGNvb2tpZXMgbmVlZGVkIGZvciBuZXh0IGxldmVsIGZvciB3cmF0aCBjaGFpblxuICogQGdsb2JhbFx0e251bWJlcn1cdFx0XHRDTS5DYWNoZS5DaGFpbldyYXRoUmVxdWlyZWRcdFx0XHRDb29raWVzIG5lZWRlZCBmb3IgbWF4aW11bSByZXdhcmQgZm9yIHdyYXRoIGNoYWluXG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0XHRcdENNLkNhY2hlLkNoYWluV3JhdGhSZXF1aXJlZE5leHRcdFx0VG90YWwgY29va2llcyBuZWVkZWQgZm9yIG5leHQgbGV2ZWwgZm9yIHdyYXRoIGNoYWluXG4gKiBAZ2xvYmFsXHRbe251bWJlciwgbnVtYmVyfV1cdENNLkNhY2hlLkNoYWluRnJlbnp5TWF4UmV3YXJkXHRcdFx0VG90YWwgY29va2llcyBlYXJuZWQsIGFuZCBjb29raWVzIG5lZWRlZCBmb3IgbmV4dCBsZXZlbCBmb3Igbm9ybWFsIGZyZW56eSBjaGFpblxuICogQGdsb2JhbFx0e251bWJlcn1cdFx0XHRDTS5DYWNoZS5DaGFpbkZyZW56eVJlcXVpcmVkXHRcdFx0Q29va2llcyBuZWVkZWQgZm9yIG1heGltdW0gcmV3YXJkIGZvciBub3JtYWwgZnJlbnp5IGNoYWluXG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0XHRcdENNLkNhY2hlLkNoYWluRnJlbnp5UmVxdWlyZWROZXh0XHRcdFRvdGFsIGNvb2tpZXMgbmVlZGVkIGZvciBuZXh0IGxldmVsIGZvciBub3JtYWwgZnJlbnp5IGNoYWluXG4gKiBAZ2xvYmFsXHRbe251bWJlciwgbnVtYmVyfV1cdENNLkNhY2hlLkNoYWluRnJlbnp5V3JhdGhNYXhSZXdhcmRcdFx0XHRUb3RhbCBjb29raWVzIGVhcm5lZCwgYW5kIGNvb2tpZXMgbmVlZGVkIGZvciBuZXh0IGxldmVsIGZvciB3cmF0aCBmcmVuenkgY2hhaW5cbiAqIEBnbG9iYWxcdHtudW1iZXJ9XHRcdFx0Q00uQ2FjaGUuQ2hhaW5GcmVuenlXcmF0aFJlcXVpcmVkXHRcdFx0Q29va2llcyBuZWVkZWQgZm9yIG1heGltdW0gcmV3YXJkIGZvciB3cmF0aCBmcmVuenkgY2hhaW5cbiAqIEBnbG9iYWxcdHtudW1iZXJ9XHRcdFx0Q00uQ2FjaGUuQ2hhaW5GcmVuenlXcmF0aFJlcXVpcmVkTmV4dFx0XHRUb3RhbCBjb29raWVzIG5lZWRlZCBmb3IgbmV4dCBsZXZlbCBmb3Igd3JhdGggZnJlbnp5IGNoYWluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDYWNoZUNoYWluKCkge1xuXHRsZXQgbWF4UGF5b3V0ID0gQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMgKiA2MCAqIDYwICogNiAqIENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudDtcblx0Ly8gUmVtb3ZlcyBlZmZlY3Qgb2YgRnJlbnp5IGV0Yy5cblx0Y29uc3QgY3BzQnVmZk11bHQgPSBHZXRDUFNCdWZmTXVsdCgpO1xuXHRpZiAoY3BzQnVmZk11bHQgPiAwKSBtYXhQYXlvdXQgLz0gY3BzQnVmZk11bHQ7XG5cdGVsc2UgbWF4UGF5b3V0ID0gMDtcblxuXHRDYWNoZUNoYWluTWF4UmV3YXJkID0gTWF4Q2hhaW5Db29raWVSZXdhcmQoNywgbWF4UGF5b3V0LCBDYWNoZUdvbGRlbkNvb2tpZXNNdWx0KTtcblx0Q2FjaGVDaGFpblJlcXVpcmVkID0gQ2FjaGVDaGFpbk1heFJld2FyZFsxXSAqIDIgLyBDYWNoZUdvbGRlbkNvb2tpZXNNdWx0O1xuXHRDYWNoZUNoYWluUmVxdWlyZWROZXh0ID0gQ2FjaGVDaGFpbk1heFJld2FyZFsyXSAvIDYwIC8gNjAgLyA2IC8gQ2FjaGVEcmFnb25zRm9ydHVuZU11bHRBZGp1c3RtZW50O1xuXG5cdENhY2hlQ2hhaW5XcmF0aE1heFJld2FyZCA9IE1heENoYWluQ29va2llUmV3YXJkKDYsIG1heFBheW91dCwgQ2FjaGVXcmF0aENvb2tpZXNNdWx0KTtcblx0Q2FjaGVDaGFpbldyYXRoUmVxdWlyZWQgPSBDYWNoZUNoYWluV3JhdGhNYXhSZXdhcmRbMV0gKiAyIC8gQ2FjaGVXcmF0aENvb2tpZXNNdWx0O1xuXHRDYWNoZUNoYWluV3JhdGhSZXF1aXJlZE5leHQgPSBDYWNoZUNoYWluV3JhdGhNYXhSZXdhcmRbMl0gLyA2MCAvIDYwIC8gNiAvIENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudDtcblxuXHRDYWNoZUNoYWluRnJlbnp5TWF4UmV3YXJkID0gTWF4Q2hhaW5Db29raWVSZXdhcmQoNywgbWF4UGF5b3V0ICogNywgQ2FjaGVHb2xkZW5Db29raWVzTXVsdCk7XG5cdENhY2hlQ2hhaW5GcmVuenlSZXF1aXJlZCA9IENhY2hlQ2hhaW5GcmVuenlNYXhSZXdhcmRbMV0gKiAyIC8gQ2FjaGVHb2xkZW5Db29raWVzTXVsdDtcblx0Q2FjaGVDaGFpbkZyZW56eVJlcXVpcmVkTmV4dCA9IENhY2hlQ2hhaW5GcmVuenlNYXhSZXdhcmRbMl0gLyA2MCAvIDYwIC8gNiAvIENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudDtcblxuXHRDYWNoZUNoYWluRnJlbnp5V3JhdGhNYXhSZXdhcmQgPSBNYXhDaGFpbkNvb2tpZVJld2FyZCg2LCBtYXhQYXlvdXQgKiA3LCBDYWNoZVdyYXRoQ29va2llc011bHQpO1xuXHRDYWNoZUNoYWluRnJlbnp5V3JhdGhSZXF1aXJlZCA9IENhY2hlQ2hhaW5GcmVuenlXcmF0aE1heFJld2FyZFsxXSAqIDIgLyBDYWNoZVdyYXRoQ29va2llc011bHQ7XG5cdENhY2hlQ2hhaW5GcmVuenlXcmF0aFJlcXVpcmVkTmV4dCA9IENhY2hlQ2hhaW5GcmVuenlXcmF0aE1heFJld2FyZFsyXSAvIDYwIC8gNjAgLyA2IC8gQ2FjaGVEcmFnb25zRm9ydHVuZU11bHRBZGp1c3RtZW50O1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7XG5cdENhY2hlSENQZXJTZWNvbmQsIENhY2hlTGFzdEhlYXZlbmx5Q2hlY2ssIENhY2hlTGFzdEhlYXZlbmx5Q2hpcHMsIEhlYXZlbmx5Q2hpcHNEaWZmLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjYWNoZXMgdGhlIGhlYXZlbmx5IGNoaXBzIHBlciBzZWNvbmQgaW4gdGhlIGxhc3QgZml2ZSBzZWNvbmRzXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuTG9vcENhY2hlKClcbiAqIEBnbG9iYWxcdHtudW1iZXJ9XHRDTS5DYWNoZS5IQ1BlclNlY29uZFx0VGhlIEhlYXZlbmx5IENoaXBzIHBlciBzZWNvbmQgaW4gdGhlIGxhc3QgZml2ZSBzZWNvbmRzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlSGVhdmVubHlDaGlwc1BTKCkge1xuXHRjb25zdCBjdXJyRGF0ZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuXHQvLyBPbmx5IGNhbGN1bGF0ZSBldmVyeSBuZXcgc2Vjb25kXG5cdGlmICgoR2FtZS5UIC8gR2FtZS5mcHMpICUgMSA9PT0gMCkge1xuXHRcdGNvbnN0IGNoaXBzT3duZWQgPSBHYW1lLkhvd011Y2hQcmVzdGlnZShHYW1lLmNvb2tpZXNSZXNldCk7XG5cdFx0Y29uc3QgYXNjZW5kTm93VG9Pd24gPSBNYXRoLmZsb29yKEdhbWUuSG93TXVjaFByZXN0aWdlKEdhbWUuY29va2llc1Jlc2V0ICsgR2FtZS5jb29raWVzRWFybmVkKSk7XG5cdFx0Y29uc3QgYXNjZW5kTm93VG9HZXQgPSBhc2NlbmROb3dUb093biAtIE1hdGguZmxvb3IoY2hpcHNPd25lZCk7XG5cblx0XHQvLyBBZGQgcmVjZW50IGdhaW5zIHRvIEF2Z1F1ZXVlJ3Ncblx0XHRjb25zdCB0aW1lRGlmZiA9IGN1cnJEYXRlIC0gQ2FjaGVMYXN0SGVhdmVubHlDaGVjaztcblx0XHRjb25zdCBoZWF2ZW5seUNoaXBzRGlmZkF2ZyA9IE1hdGgubWF4KDAsIChhc2NlbmROb3dUb0dldCAtIENhY2hlTGFzdEhlYXZlbmx5Q2hpcHMpKSAvIHRpbWVEaWZmO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGltZURpZmY7IGkrKykge1xuXHRcdFx0SGVhdmVubHlDaGlwc0RpZmYuYWRkTGF0ZXN0KGhlYXZlbmx5Q2hpcHNEaWZmQXZnKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSBjdXJyZW50IGRhdGEgZm9yIG5leHQgbG9vcFxuXHRcdENhY2hlTGFzdEhlYXZlbmx5Q2hlY2sgPSBjdXJyRGF0ZTtcblx0XHRDYWNoZUxhc3RIZWF2ZW5seUNoaXBzID0gYXNjZW5kTm93VG9HZXQ7XG5cblx0XHQvLyBHZXQgYXZlcmFnZSBnYWluIG92ZXIgcGVyaW9kIG9mIDUgc2Vjb25kc1xuXHRcdENhY2hlSENQZXJTZWNvbmQgPSBIZWF2ZW5seUNoaXBzRGlmZi5jYWxjQXZlcmFnZSg1KTtcblx0fVxufVxuIiwiLyoqIEZ1bmN0aW9ucyByZWxhdGVkIHRvIGRpc3BsYXlpbmcgdGhlIG1pc3NpbmcgdXBncmFkZXMgaW4gdGhlIFN0YXRpc3RpY3MgcGFnZSAqL1xuXG5pbXBvcnQgeyBDYWNoZU1pc3NpbmdVcGdyYWRlcywgQ2FjaGVNaXNzaW5nVXBncmFkZXNDb29raWVzLCBDYWNoZU1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHRoZSBtaXNzaW5nIHVwZ3JhZGVzIHNlY3Rpb25zIGZvciBwcmVzdGlnZSwgbm9ybWFsIGFuZCBjb29raWUgdXBncmFkZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZE1pc3NpbmdVcGdyYWRlcygpIHtcblx0Zm9yIChjb25zdCBtZW51U2VjdGlvbiBvZiAobCgnbWVudScpLmNoaWxkcmVuKSkge1xuXHRcdGlmIChtZW51U2VjdGlvbi5jaGlsZHJlblswXSkge1xuXHRcdFx0aWYgKG1lbnVTZWN0aW9uLmNoaWxkcmVuWzBdLmlubmVySFRNTCA9PT0gJ1ByZXN0aWdlJyAmJiBDYWNoZU1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlKSB7XG5cdFx0XHRcdGNvbnN0IHByZXN0aWdlVXBncmFkZXNNaXNzaW5nID0gQ2FjaGVNaXNzaW5nVXBncmFkZXNQcmVzdGlnZS5tYXRjaChuZXcgUmVnRXhwKCdkaXYnLCAnZycpIHx8IFtdKS5sZW5ndGggLyAyO1xuXHRcdFx0XHRjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHR0aXRsZS5pZCA9ICdDTU1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlVGl0bGUnO1xuXHRcdFx0XHR0aXRsZS5jbGFzc05hbWUgPSAnbGlzdGluZyc7XG5cdFx0XHRcdGNvbnN0IHRpdGxlZnJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHR0aXRsZWZyYWcuaW5uZXJIVE1MID0gYDxiPk1pc3NpbmcgUHJlc3RpZ2UgdXBncmFkZXM6PC9iPiAke3ByZXN0aWdlVXBncmFkZXNNaXNzaW5nfS8ke0dhbWUuUHJlc3RpZ2VVcGdyYWRlcy5sZW5ndGh9ICgke01hdGguZmxvb3IoKHByZXN0aWdlVXBncmFkZXNNaXNzaW5nIC8gR2FtZS5QcmVzdGlnZVVwZ3JhZGVzLmxlbmd0aCkgKiAxMDApfSUpYDtcblx0XHRcdFx0dGl0bGUuYXBwZW5kQ2hpbGQodGl0bGVmcmFnKTtcblx0XHRcdFx0bWVudVNlY3Rpb24uYXBwZW5kQ2hpbGQodGl0bGUpO1xuXHRcdFx0XHRjb25zdCB1cGdyYWRlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHR1cGdyYWRlcy5jbGFzc05hbWUgPSAnbGlzdGluZyBjcmF0ZUJveCc7XG5cdFx0XHRcdHVwZ3JhZGVzLmlubmVySFRNTCA9IENhY2hlTWlzc2luZ1VwZ3JhZGVzUHJlc3RpZ2U7XG5cdFx0XHRcdG1lbnVTZWN0aW9uLmFwcGVuZENoaWxkKHVwZ3JhZGVzKTtcblx0XHRcdH0gZWxzZSBpZiAobWVudVNlY3Rpb24uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID09PSAnVXBncmFkZXMnKSB7XG5cdFx0XHRcdGlmIChDYWNoZU1pc3NpbmdVcGdyYWRlcykge1xuXHRcdFx0XHRcdGNvbnN0IG5vcm1hbFVwZ3JhZGVzTWlzc2luZyA9IENhY2hlTWlzc2luZ1VwZ3JhZGVzLm1hdGNoKG5ldyBSZWdFeHAoJ2RpdicsICdnJykgfHwgW10pLmxlbmd0aCAvIDI7XG5cdFx0XHRcdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0XHR0aXRsZS5pZCA9ICdDTU1pc3NpbmdVcGdyYWRlc1RpdGxlJztcblx0XHRcdFx0XHR0aXRsZS5jbGFzc05hbWUgPSAnbGlzdGluZyc7XG5cdFx0XHRcdFx0Y29uc3QgdGl0bGVmcmFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdFx0dGl0bGVmcmFnLmlubmVySFRNTCA9IGA8Yj5NaXNzaW5nIG5vcm1hbCB1cGdyYWRlczo8L2I+ICR7bm9ybWFsVXBncmFkZXNNaXNzaW5nfS8ke0dhbWUuVXBncmFkZXNCeVBvb2xbJyddLmxlbmd0aCArIEdhbWUuVXBncmFkZXNCeVBvb2wudGVjaC5sZW5ndGh9ICgke01hdGguZmxvb3IoKG5vcm1hbFVwZ3JhZGVzTWlzc2luZyAvIChHYW1lLlVwZ3JhZGVzQnlQb29sWycnXS5sZW5ndGggKyBHYW1lLlVwZ3JhZGVzQnlQb29sLnRlY2gubGVuZ3RoKSkgKiAxMDApfSUpYDtcblx0XHRcdFx0XHR0aXRsZS5hcHBlbmRDaGlsZCh0aXRsZWZyYWcpO1xuXHRcdFx0XHRcdG1lbnVTZWN0aW9uLmluc2VydEJlZm9yZSh0aXRsZSwgbWVudVNlY3Rpb24uY2hpbGROb2Rlc1szXSk7XG5cdFx0XHRcdFx0Y29uc3QgdXBncmFkZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0XHR1cGdyYWRlcy5jbGFzc05hbWUgPSAnbGlzdGluZyBjcmF0ZUJveCc7XG5cdFx0XHRcdFx0dXBncmFkZXMuaW5uZXJIVE1MID0gQ2FjaGVNaXNzaW5nVXBncmFkZXM7XG5cdFx0XHRcdFx0bWVudVNlY3Rpb24uaW5zZXJ0QmVmb3JlKHVwZ3JhZGVzLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ01NaXNzaW5nVXBncmFkZXNUaXRsZScpLm5leHRTaWJsaW5nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoQ2FjaGVNaXNzaW5nVXBncmFkZXNDb29raWVzKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29va2llVXBncmFkZXNNaXNzaW5nID0gQ2FjaGVNaXNzaW5nVXBncmFkZXNDb29raWVzLm1hdGNoKG5ldyBSZWdFeHAoJ2RpdicsICdnJykgfHwgW10pLmxlbmd0aCAvIDI7XG5cdFx0XHRcdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0XHR0aXRsZS5pZCA9ICdDTU1pc3NpbmdVcGdyYWRlc0Nvb2tpZXNUaXRsZSc7XG5cdFx0XHRcdFx0dGl0bGUuY2xhc3NOYW1lID0gJ2xpc3RpbmcnO1xuXHRcdFx0XHRcdGNvbnN0IHRpdGxlZnJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRcdHRpdGxlZnJhZy5pbm5lckhUTUwgPSBgPGI+TWlzc2luZyBDb29raWUgdXBncmFkZXM6PC9iPiAke2Nvb2tpZVVwZ3JhZGVzTWlzc2luZ30vJHtHYW1lLlVwZ3JhZGVzQnlQb29sLmNvb2tpZS5sZW5ndGh9ICgke01hdGguZmxvb3IoKGNvb2tpZVVwZ3JhZGVzTWlzc2luZyAvIEdhbWUuVXBncmFkZXNCeVBvb2wuY29va2llLmxlbmd0aCkgKiAxMDApfSUpYDtcblx0XHRcdFx0XHR0aXRsZS5hcHBlbmRDaGlsZCh0aXRsZWZyYWcpO1xuXHRcdFx0XHRcdG1lbnVTZWN0aW9uLmFwcGVuZENoaWxkKHRpdGxlKTtcblx0XHRcdFx0XHRjb25zdCB1cGdyYWRlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRcdHVwZ3JhZGVzLmNsYXNzTmFtZSA9ICdsaXN0aW5nIGNyYXRlQm94Jztcblx0XHRcdFx0XHR1cGdyYWRlcy5pbm5lckhUTUwgPSBDYWNoZU1pc3NpbmdVcGdyYWRlc0Nvb2tpZXM7XG5cdFx0XHRcdFx0bWVudVNlY3Rpb24uYXBwZW5kQ2hpbGQodXBncmFkZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBcImNyYXRlc1wiIChpY29ucykgZm9yIG1pc3NpbmcgdXBncmFkZXMgaW4gdGhlIHN0YXRzIHNlY3Rpb25zXG4gKiBJdCByZXR1cm5zIGEgaHRtbCBzdHJpbmcgdGhhdCBnZXRzIGFwcGVuZGVkIHRvIHRoZSByZXNwZWN0aXZlIENNLkNhY2hlLk1pc3NpbmdVcGdyYWRlcy12YXJpYWJsZSBieSBDTS5DYWNoZS5DYWNoZU1pc3NpbmdVcGdyYWRlcygpXG4gKiBAcGFyYW1cdHtvYmplY3R9XHRtZVx0VGhlIHVwZ3JhZGUgb2JqZWN0XG4gKiBAcmV0dXJuc1x0e3N0cmluZ31cdD9cdFRoZSBIVE1MIHN0cmluZyB0aGF0IGNyZWF0ZXMgdGhlIGljb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmF0ZU1pc3NpbmcobWUpIHtcblx0bGV0IGNsYXNzZXMgPSAnY3JhdGUgdXBncmFkZSBtaXNzaW5nJztcblx0aWYgKG1lLnBvb2wgPT09ICdwcmVzdGlnZScpIGNsYXNzZXMgKz0gJyBoZWF2ZW5seSc7XG5cblx0bGV0IG5vRnJhbWUgPSAwO1xuXHRpZiAoIUdhbWUucHJlZnMuY3JhdGVzKSBub0ZyYW1lID0gMTtcblx0aWYgKG5vRnJhbWUpIGNsYXNzZXMgKz0gJyBub0ZyYW1lJztcblxuXHRsZXQgaWNvbiA9IG1lLmljb247XG5cdGlmIChtZS5pY29uRnVuY3Rpb24pIGljb24gPSBtZS5pY29uRnVuY3Rpb24oKTtcblx0Y29uc3QgdG9vbHRpcCA9IGBmdW5jdGlvbigpIHtyZXR1cm4gR2FtZS5jcmF0ZVRvb2x0aXAoR2FtZS5VcGdyYWRlc0J5SWRbJHttZS5pZH1dLCAnc3RhdHMnKTt9YDtcblx0cmV0dXJuIGA8ZGl2IGNsYXNzPVwiJHtjbGFzc2VzfVwiXG5cdCR7R2FtZS5nZXREeW5hbWljVG9vbHRpcCh0b29sdGlwLCAndG9wJywgdHJ1ZSl9XG5cdHN0eWxlID0gXCIkeyhgJHtpY29uWzJdID8gYGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2ljb25bMl19KTtgIDogJyd9YmFja2dyb3VuZC1wb3NpdGlvbjokey1pY29uWzBdICogNDh9cHggJHstaWNvblsxXSAqIDQ4fXB4YCl9O1wiPlxuXHQ8L2Rpdj5gO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IGNyYXRlTWlzc2luZyB9IGZyb20gJy4uLy4uL0Rpc3AvTWVudVNlY3Rpb25zL0NyZWF0ZU1pc3NpbmdVcGdyYWRlcyc7XG5pbXBvcnQgeyBDYWNoZU1pc3NpbmdVcGdyYWRlcywgQ2FjaGVNaXNzaW5nVXBncmFkZXNDb29raWVzLCBDYWNoZU1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHZhcmlhYmxlcyByZWxhdGVkIHRvIG1pc3NpbmcgdXBncmFkZXNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5NYWluLkxvb3AoKSBhbmQgQ00uQ2FjaGUuSW5pdENhY2hlKClcbiAqIEBnbG9iYWxcdHtzdHJpbmd9XHRDTS5DYWNoZS5NaXNzaW5nVXBncmFkZXNcdFx0XHRTdHJpbmcgY29udGFpbmlnIHRoZSBIVE1MIHRvIGNyZWF0ZSB0aGUgXCJjcmF0ZXNcIiBmb3IgbWlzc2luZyBub3JtYWwgdXBncmFkZXNcbiAqIEBnbG9iYWxcdHtzdHJpbmd9XHRDTS5DYWNoZS5NaXNzaW5nVXBncmFkZXNDb29raWVzXHRcdFN0cmluZyBjb250YWluaWcgdGhlIEhUTUwgdG8gY3JlYXRlIHRoZSBcImNyYXRlc1wiIGZvciBtaXNzaW5nIGNvb2tpZSB1cGdyYWRlc1xuICogQGdsb2JhbFx0e3N0cmluZ31cdENNLkNhY2hlLk1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlXHRTdHJpbmcgY29udGFpbmlnIHRoZSBIVE1MIHRvIGNyZWF0ZSB0aGUgXCJjcmF0ZXNcIiBmb3IgbWlzc2luZyBwcmVzdGlnZSB1cGdyYWRlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYWNoZUFsbE1pc3NpbmdVcGdyYWRlcygpIHtcblx0Q2FjaGVNaXNzaW5nVXBncmFkZXMgPSAnJztcblx0Q2FjaGVNaXNzaW5nVXBncmFkZXNDb29raWVzID0gJyc7XG5cdENhY2hlTWlzc2luZ1VwZ3JhZGVzUHJlc3RpZ2UgPSAnJztcblx0Y29uc3QgbGlzdCA9IFtdO1xuXHQvLyBzb3J0IHRoZSB1cGdyYWRlc1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5VcGdyYWRlcykpIHtcblx0XHRsaXN0LnB1c2goR2FtZS5VcGdyYWRlc1tpXSk7XG5cdH1cblx0Y29uc3Qgc29ydE1hcCA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0aWYgKGEub3JkZXIgPiBiLm9yZGVyKSByZXR1cm4gMTtcblx0XHRlbHNlIGlmIChhLm9yZGVyIDwgYi5vcmRlcikgcmV0dXJuIC0xO1xuXHRcdHJldHVybiAwO1xuXHR9O1xuXHRsaXN0LnNvcnQoc29ydE1hcCk7XG5cblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKGxpc3QpKSB7XG5cdFx0Y29uc3QgbWUgPSBsaXN0W2ldO1xuXG5cdFx0aWYgKG1lLmJvdWdodCA9PT0gMCkge1xuXHRcdFx0bGV0IHN0ciA9ICcnO1xuXG5cdFx0XHRzdHIgKz0gY3JhdGVNaXNzaW5nKG1lKTtcblx0XHRcdGlmIChtZS5wb29sID09PSAncHJlc3RpZ2UnKSBDYWNoZU1pc3NpbmdVcGdyYWRlc1ByZXN0aWdlICs9IHN0cjtcblx0XHRcdGVsc2UgaWYgKG1lLnBvb2wgPT09ICdjb29raWUnKSBDYWNoZU1pc3NpbmdVcGdyYWRlc0Nvb2tpZXMgKz0gc3RyO1xuXHRcdFx0ZWxzZSBpZiAobWUucG9vbCAhPT0gJ3RvZ2dsZScgJiYgbWUucG9vbCAhPT0gJ3VudXNlZCcgJiYgbWUucG9vbCAhPT0gJ2RlYnVnJykgQ2FjaGVNaXNzaW5nVXBncmFkZXMgKz0gc3RyO1xuXHRcdH1cblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENhY2hlU2VhU3BlYyB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNhY2hlcyB0aGUgcmV3YXJkIG9mIHBvcHBpbmcgYSByZWluZGVlclxuICogSXQgaXMgY2FsbGVkIGJ5IENNLk1haW4uTG9vcCgpIGFuZCBDTS5DYWNoZS5Jbml0Q2FjaGUoKVxuICogQGdsb2JhbFx0e251bWJlcn1cdENNLkNhY2hlLlNlYVNwZWNcdFRoZSByZXdhcmQgZm9yIHBvcHBpbmcgYSByZWluZGVlclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYWNoZVNlYXNvblNwZWMoKSB7XG5cdGlmIChHYW1lLnNlYXNvbiA9PT0gJ2NocmlzdG1hcycpIHtcblx0XHRsZXQgdmFsID0gR2FtZS5jb29raWVzUHMgKiA2MDtcblx0XHRpZiAoR2FtZS5oYXNCdWZmKCdFbGRlciBmcmVuenknKSkgdmFsICo9IDAuNTtcblx0XHRpZiAoR2FtZS5oYXNCdWZmKCdGcmVuenknKSkgdmFsICo9IDAuNzU7XG5cdFx0Q2FjaGVTZWFTcGVjID0gTWF0aC5tYXgoMjUsIHZhbCk7XG5cdFx0aWYgKEdhbWUuSGFzKCdIbyBobyBoby1mbGF2b3JlZCBmcm9zdGluZycpKSBDYWNoZVNlYVNwZWMgKj0gMjtcblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qKiBGdW5jdGlvbnMgcmVsYXRlZCB0byBDYWNoaW5nIHN0YXRzICovXG5cbmltcG9ydCBTaW1IYXMgZnJvbSAnLi4vLi4vU2ltL1JlcGxhY2VkR2FtZUZ1bmN0aW9ucy9TaW1IYXMnO1xuaW1wb3J0IEdldENQU0J1ZmZNdWx0IGZyb20gJy4uL0NQUy9HZXRDUFNCdWZmTXVsdCc7XG5pbXBvcnQge1xuXHRDYWNoZUNvbmp1cmUsIENhY2hlQ29uanVyZVJld2FyZCwgQ2FjaGVEcmFnb25zRm9ydHVuZU11bHRBZGp1c3RtZW50LCBDYWNoZUVkaWZpY2UsIENhY2hlRWRpZmljZUJ1aWxkaW5nLCBDYWNoZUdvbGRlbkNvb2tpZXNNdWx0LCBDYWNoZUx1Y2t5LCBDYWNoZUx1Y2t5RnJlbnp5LCBDYWNoZUx1Y2t5UmV3YXJkLCBDYWNoZUx1Y2t5UmV3YXJkRnJlbnp5LCBDYWNoZUx1Y2t5V3JhdGhSZXdhcmQsIENhY2hlTHVja3lXcmF0aFJld2FyZEZyZW56eSwgQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMsIENhY2hlV3JhdGhDb29raWVzTXVsdCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHZhcmlhYmxlcyByZWxhdGVkIHRvIHRoZSBzdGF0cyBwYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDYWNoZVN0YXRzQ29va2llcygpIHtcblx0Q2FjaGVMdWNreSA9IChDYWNoZU5vR29sZFN3aXRjaENvb2tpZXNQUyAqIDkwMCkgLyAwLjE1O1xuXHRDYWNoZUx1Y2t5ICo9IENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudDtcblx0Y29uc3QgY3BzQnVmZk11bHQgPSBHZXRDUFNCdWZmTXVsdCgpO1xuXHRpZiAoY3BzQnVmZk11bHQgPiAwKSBDYWNoZUx1Y2t5IC89IGNwc0J1ZmZNdWx0O1xuXHRlbHNlIENhY2hlTHVja3kgPSAwO1xuXHRDYWNoZUx1Y2t5UmV3YXJkID0gQ2FjaGVHb2xkZW5Db29raWVzTXVsdCAqIChDYWNoZUx1Y2t5ICogMC4xNSkgKyAxMztcblx0Q2FjaGVMdWNreVdyYXRoUmV3YXJkID0gQ2FjaGVXcmF0aENvb2tpZXNNdWx0ICogKENhY2hlTHVja3kgKiAwLjE1KSArIDEzO1xuXHRDYWNoZUx1Y2t5RnJlbnp5ID0gQ2FjaGVMdWNreSAqIDc7XG5cdENhY2hlTHVja3lSZXdhcmRGcmVuenkgPSBDYWNoZUdvbGRlbkNvb2tpZXNNdWx0ICogKENhY2hlTHVja3lGcmVuenkgKiAwLjE1KSArIDEzO1xuXHRDYWNoZUx1Y2t5V3JhdGhSZXdhcmRGcmVuenkgPSBDYWNoZVdyYXRoQ29va2llc011bHQgKiAoQ2FjaGVMdWNreUZyZW56eSAqIDAuMTUpICsgMTM7XG5cdENhY2hlQ29uanVyZSA9IENhY2hlTHVja3kgKiAyO1xuXHRDYWNoZUNvbmp1cmVSZXdhcmQgPSBDYWNoZUNvbmp1cmUgKiAwLjE1O1xuXG5cdENhY2hlRWRpZmljZSA9IDA7XG5cdGxldCBtYXggPSAwO1xuXHRsZXQgbiA9IDA7XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHMpKSB7XG5cdFx0aWYgKEdhbWUuT2JqZWN0c1tpXS5hbW91bnQgPiBtYXgpIG1heCA9IEdhbWUuT2JqZWN0c1tpXS5hbW91bnQ7XG5cdFx0aWYgKEdhbWUuT2JqZWN0c1tpXS5hbW91bnQgPiAwKSBuKys7XG5cdH1cblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuT2JqZWN0cykpIHtcblx0XHRpZiAoKEdhbWUuT2JqZWN0c1tpXS5hbW91bnQgPCBtYXggfHwgbiA9PT0gMSlcblx0XHRcdCYmIEdhbWUuT2JqZWN0c1tpXS5hbW91bnQgPCA0MDBcblx0XHRcdCYmIEdhbWUuT2JqZWN0c1tpXS5wcmljZSAqIDIgPiBDYWNoZUVkaWZpY2UpIHtcblx0XHRcdENhY2hlRWRpZmljZSA9IEdhbWUuT2JqZWN0c1tpXS5wcmljZSAqIDI7XG5cdFx0XHRDYWNoZUVkaWZpY2VCdWlsZGluZyA9IGk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FsY3VsYXRlcyB0aGUgbXVsdGlwbGllcnMgb2YgR29sZGVuIGFuZCBXcmF0aCBjb29raWUgcmV3YXJkc1xuICovXG5leHBvcnQgZnVuY3Rpb24gQ2FjaGVHb2xkZW5BbmRXcmF0aENvb2tpZXNNdWx0cygpIHtcblx0bGV0IGdvbGRlbk11bHQgPSAxO1xuXHRsZXQgd3JhdGhNdWx0ID0gMTtcblx0bGV0IG11bHQgPSAxO1xuXG5cdC8vIEZhY3RvciBhdXJhcyBhbmQgdXBncmFkZSBpbiBtdWx0c1xuXHRpZiAoU2ltSGFzKCdHcmVlbiB5ZWFzdCBkaWdlc3RpdmVzJykpIG11bHQgKj0gMS4wMTtcblx0aWYgKFNpbUhhcygnRHJhZ29uIGZhbmcnKSkgbXVsdCAqPSAxLjAzO1xuXG5cdGdvbGRlbk11bHQgKj0gMSArIEdhbWUuYXVyYU11bHQoJ0FuY2VzdHJhbCBNZXRhbW9ycGhvc2lzJykgKiAwLjE7XG5cdGdvbGRlbk11bHQgKj0gR2FtZS5lZmYoJ2dvbGRlbkNvb2tpZUdhaW4nKTtcblx0d3JhdGhNdWx0ICo9IDEgKyBHYW1lLmF1cmFNdWx0KCdVbmhvbHkgRG9taW5pb24nKSAqIDAuMTtcblx0d3JhdGhNdWx0ICo9IEdhbWUuZWZmKCd3cmF0aENvb2tpZUdhaW4nKTtcblxuXHQvLyBDYWxjdWxhdGUgZmluYWwgZ29sZGVuIGFuZCB3cmF0aCBtdWx0aXBsaWVyc1xuXHRDYWNoZUdvbGRlbkNvb2tpZXNNdWx0ID0gbXVsdCAqIGdvbGRlbk11bHQ7XG5cdENhY2hlV3JhdGhDb29raWVzTXVsdCA9IG11bHQgKiB3cmF0aE11bHQ7XG5cblx0Ly8gQ2FsY3VsYXRlIERyYWdvbidzIEZvcnR1bmUgbXVsdGlwbGllciBhZGp1c3RtZW50OlxuXHQvLyBJZiBEcmFnb24ncyBGb3J0dW5lIChvciBSZWFsaXR5IEJlbmRpbmcpIGF1cmEgaXMgYWN0aXZlIGFuZCB0aGVyZSBhcmUgY3VycmVudGx5IG5vIGdvbGRlbiBjb29raWVzLFxuXHQvLyBjb21wdXRlIGEgbXVsdGlwbGllciBhZGp1c3RtZW50IHRvIGFwcGx5IG9uIHRoZSBjdXJyZW50IENQUyB0byBzaW11bGF0ZSAxIGdvbGRlbiBjb29raWUgb24gc2NyZWVuLlxuXHQvLyBPdGhlcndpc2UsIHRoZSBhdXJhIGVmZmVjdCB3aWxsIGJlIGZhY3RvcmVkIGluIHRoZSBiYXNlIENQUyBtYWtpbmcgdGhlIG11bHRpcGxpZXIgbm90IHJlcXVpcmluZyBhZGp1c3RtZW50LlxuXHRDYWNoZURyYWdvbnNGb3J0dW5lTXVsdEFkanVzdG1lbnQgPSAxO1xuXHRpZiAoR2FtZS5zaGltbWVyVHlwZXMuZ29sZGVuLm4gPT09IDApIHtcblx0XHRDYWNoZURyYWdvbnNGb3J0dW5lTXVsdEFkanVzdG1lbnQgKj0gMSArIEdhbWUuYXVyYU11bHQoJ0RyYWdvblxcJ3MgRm9ydHVuZScpICogMS4yMztcblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qKiBDYWNoZXMgZGF0YSByZWxhdGVkIHRvIFdyaW5rbGVycyAqL1xuXG5pbXBvcnQgeyBTaW1PYmplY3RzIH0gZnJvbSAnLi4vLi4vU2ltL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgV3JpbmtsZXJzRmF0dGVzdCwgV3JpbmtsZXJzTm9ybWFsLCBXcmlua2xlcnNUb3RhbCB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNhY2hlcyBkYXRhIHJlbGF0ZWQgdG8gV3JpbmtsZXJzXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuTG9vcENhY2hlKCkgYW5kIENNLkNhY2hlLkluaXRDYWNoZSgpXG4gKiBAZ2xvYmFsXHR7bnVtYmVyfVx0XHRcdFx0Q00uQ2FjaGUuV3JpbmtsZXJzVG90YWxcdFx0VGhlIGNvb2tpZXMgb2YgYWxsIHdyaW5rbGVyc1xuICogQGdsb2JhbFx0e251bWJlcn1cdFx0XHRcdENNLkNhY2hlLldyaW5rbGVyc05vcm1hbFx0VGhlIGNvb2tpZXMgb2YgYWxsIG5vcm1hbCB3cmlua2xlcnNcbiAqIEBnbG9iYWxcdHtbe251bWJlcn0sIHtudW1iZXJ9XX1cdENNLkNhY2hlLldyaW5rbGVyc0ZhdHRlc3RcdEEgbGlzdCBjb250YWluaW5nIHRoZSBjb29raWVzIGFuZCB0aGUgaWQgb2YgdGhlIGZhdHRlc3Qgbm9uLXNoaW55IHdyaW5rbGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlV3JpbmtsZXJzKCkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IEdhbWUud3JpbmtsZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0bGV0IHN1Y2tlZCA9IEdhbWUud3JpbmtsZXJzW2ldLnN1Y2tlZDtcblx0XHRsZXQgdG9TdWNrID0gMS4xO1xuXHRcdGlmIChHYW1lLkhhcygnU2FjcmlsZWdpb3VzIGNvcnJ1cHRpb24nKSkgdG9TdWNrICo9IDEuMDU7XG5cdFx0aWYgKEdhbWUud3JpbmtsZXJzW2ldLnR5cGUgPT09IDEpIHRvU3VjayAqPSAzOyAvLyBTaGlueSB3cmlua2xlcnNcblx0XHRzdWNrZWQgKj0gdG9TdWNrO1xuXHRcdGlmIChHYW1lLkhhcygnV3JpbmtsZXJzcGF3bicpKSBzdWNrZWQgKj0gMS4wNTtcblx0XHRpZiAoU2ltT2JqZWN0cy5UZW1wbGUubWluaWdhbWVMb2FkZWQpIHtcblx0XHRcdGNvbnN0IGdvZEx2bCA9IEdhbWUuaGFzR29kKCdzY29ybicpO1xuXHRcdFx0aWYgKGdvZEx2bCA9PT0gMSkgc3Vja2VkICo9IDEuMTU7XG5cdFx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDIpIHN1Y2tlZCAqPSAxLjE7XG5cdFx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDMpIHN1Y2tlZCAqPSAxLjA1O1xuXHRcdH1cblx0XHRXcmlua2xlcnNUb3RhbCArPSBzdWNrZWQ7XG5cdFx0aWYgKEdhbWUud3JpbmtsZXJzW2ldLnR5cGUgPT09IDApIHtcblx0XHRcdFdyaW5rbGVyc05vcm1hbCArPSBzdWNrZWQ7XG5cdFx0XHRpZiAoc3Vja2VkID4gV3JpbmtsZXJzRmF0dGVzdFswXSkgV3JpbmtsZXJzRmF0dGVzdCA9IFtzdWNrZWQsIGldO1xuXHRcdH1cblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENNQXZnUXVldWUsIEluaXRDb29raWVzRGlmZiB9IGZyb20gJy4vQ1BTL0F2ZXJhZ2VRdWV1ZSc7XG5pbXBvcnQgQ2FjaGVBdmdDUFMgZnJvbSAnLi9DUFMvQ1BTJztcbmltcG9ydCBDYWNoZURyYWdvbkF1cmFzIGZyb20gJy4vRHJhZ29uL0NhY2hlRHJhZ29uQXVyYXMnO1xuaW1wb3J0IENhY2hlUFAgZnJvbSAnLi9QUC9QUCc7XG5pbXBvcnQgeyBDYWNoZUJ1aWxkaW5nc1ByaWNlcywgQ2FjaGVJbmNvbWUgfSBmcm9tICcuL1ByaWNlQW5kSW5jb21lL1ByaWNlQW5kSW5jb21lJztcbmltcG9ydCB7IENhY2hlQ2hhaW4gfSBmcm9tICcuL1N0YXRzL0NoYWluQ29va2llcyc7XG5pbXBvcnQgQ2FjaGVIZWF2ZW5seUNoaXBzUFMgZnJvbSAnLi9TdGF0cy9IZWF2ZW5seUNoaXBzJztcbmltcG9ydCBDYWNoZUFsbE1pc3NpbmdVcGdyYWRlcyBmcm9tICcuL1N0YXRzL01pc3NpbmdVcGdyYWRlcyc7XG5pbXBvcnQgQ2FjaGVTZWFzb25TcGVjIGZyb20gJy4vU3RhdHMvUmVpbmRlZXInO1xuaW1wb3J0IHsgQ2FjaGVHb2xkZW5BbmRXcmF0aENvb2tpZXNNdWx0cywgQ2FjaGVTdGF0c0Nvb2tpZXMgfSBmcm9tICcuL1N0YXRzL1N0YXRzJztcbmltcG9ydCB7IEhlYXZlbmx5Q2hpcHNEaWZmIH0gZnJvbSAnLi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBDYWNoZVdyaW5rbGVycyBmcm9tICcuL1dyaW5rbGVycy9Xcmlua2xlcnMnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIHJ1bnMgYWxsIGNhY2hlLWZ1bmN0aW9ucyB0byBnZW5lcmF0ZSBhbGwgXCJmdWxsXCIgY2FjaGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5pdENhY2hlKCkge1xuXHRDYWNoZURyYWdvbkF1cmFzKCk7XG5cdENhY2hlV3JpbmtsZXJzKCk7XG5cdENhY2hlU3RhdHNDb29raWVzKCk7XG5cdENhY2hlR29sZGVuQW5kV3JhdGhDb29raWVzTXVsdHMoKTtcblx0Q2FjaGVDaGFpbigpO1xuXHRDYWNoZUFsbE1pc3NpbmdVcGdyYWRlcygpO1xuXHRDYWNoZVNlYXNvblNwZWMoKTtcblx0SW5pdENvb2tpZXNEaWZmKCk7XG5cdEhlYXZlbmx5Q2hpcHNEaWZmID0gbmV3IENNQXZnUXVldWUoNSk7IC8vIFVzZWQgYnkgQ00uQ2FjaGUuQ2FjaGVIZWF2ZW5seUNoaXBzUFMoKVxuXHRDYWNoZUhlYXZlbmx5Q2hpcHNQUygpO1xuXHRDYWNoZUF2Z0NQUygpO1xuXHRDYWNoZUluY29tZSgpO1xuXHRDYWNoZUJ1aWxkaW5nc1ByaWNlcygpO1xuXHRDYWNoZVBQKCk7XG59XG4iLCIvKiogVGhpcyBhcnJheSBkZXNjcmliZXMgYWxsIGRlZmF1bHQgc2V0dGluZ3MgKi9cbmNvbnN0IENvbmZpZ0RlZmF1bHQgPSB7XG5cdEJvdEJhcjogMSxcblx0VGltZXJCYXI6IDEsXG5cdFRpbWVyQmFyUG9zOiAwLFxuXHRUaW1lckJhck92ZXJsYXk6IDIsXG5cdEJ1aWxkQ29sb3I6IDEsXG5cdEJ1bGtCdWlsZENvbG9yOiAwLFxuXHRVcEJhckNvbG9yOiAxLFxuXHRVcGdyYWRlQmFyRml4ZWRQb3M6IDEsXG5cdENhbGNXcmluazogMCxcblx0Q1BTTW9kZTogMSxcblx0QXZnQ1BTSGlzdDogMyxcblx0QXZnQ2xpY2tzSGlzdDogMCxcblx0Q29sb3JQUEJ1bGtNb2RlOiAxLFxuXHRQUEV4Y2x1ZGVUb3A6IDAsXG5cdFBQU2Vjb25kc0xvd2VyTGltaXQ6IDAsXG5cdFBQT25seUNvbnNpZGVyQnV5YWJsZTogMCxcblx0VG9vbFdhcm5Cb246IDAsXG5cdFRpdGxlOiAxLFxuXHRHZW5lcmFsU291bmQ6IDEsXG5cdEdDTm90aWZpY2F0aW9uOiAwLFxuXHRHQ0ZsYXNoOiAxLFxuXHRHQ1NvdW5kOiAxLFxuXHRHQ1ZvbHVtZTogMTAwLFxuXHRHQ1NvdW5kVVJMOiAnaHR0cHM6Ly9mcmVlc291bmQub3JnL2RhdGEvcHJldmlld3MvNjYvNjY3MTdfOTMxNjU1LWxxLm1wMycsXG5cdEZvcnR1bmVOb3RpZmljYXRpb246IDAsXG5cdEZvcnR1bmVGbGFzaDogMSxcblx0Rm9ydHVuZVNvdW5kOiAxLFxuXHRGb3J0dW5lVm9sdW1lOiAxMDAsXG5cdEZvcnR1bmVTb3VuZFVSTDogJ2h0dHBzOi8vZnJlZXNvdW5kLm9yZy9kYXRhL3ByZXZpZXdzLzE3NC8xNzQwMjdfMzI0MjQ5NC1scS5tcDMnLFxuXHRTZWFOb3RpZmljYXRpb246IDAsXG5cdFNlYUZsYXNoOiAxLFxuXHRTZWFTb3VuZDogMSxcblx0U2VhVm9sdW1lOiAxMDAsXG5cdFNlYVNvdW5kVVJMOiAnaHR0cHM6Ly93d3cuZnJlZXNvdW5kLm9yZy9kYXRhL3ByZXZpZXdzLzEyMS8xMjEwOTlfMjE5MzI2Ni1scS5tcDMnLFxuXHRHYXJkRmxhc2g6IDEsXG5cdEdhcmRTb3VuZDogMSxcblx0R2FyZFZvbHVtZTogMTAwLFxuXHRHYXJkU291bmRVUkw6ICdodHRwczovL2ZyZWVzb3VuZC5vcmcvZGF0YS9wcmV2aWV3cy8xMDMvMTAzMDQ2Xzg2MTcxNC1scS5tcDMnLFxuXHRNYWdpY05vdGlmaWNhdGlvbjogMCxcblx0TWFnaWNGbGFzaDogMSxcblx0TWFnaWNTb3VuZDogMSxcblx0TWFnaWNWb2x1bWU6IDEwMCxcblx0TWFnaWNTb3VuZFVSTDogJ2h0dHBzOi8vZnJlZXNvdW5kLm9yZy9kYXRhL3ByZXZpZXdzLzIyMS8yMjE2ODNfMTAxNTI0MC1scS5tcDMnLFxuXHRXcmlua2xlck5vdGlmaWNhdGlvbjogMCxcblx0V3JpbmtsZXJGbGFzaDogMSxcblx0V3JpbmtsZXJTb3VuZDogMSxcblx0V3JpbmtsZXJWb2x1bWU6IDEwMCxcblx0V3JpbmtsZXJTb3VuZFVSTDogJ2h0dHBzOi8vZnJlZXNvdW5kLm9yZy9kYXRhL3ByZXZpZXdzLzEyNC8xMjQxODZfODA0My1scS5tcDMnLFxuXHRXcmlua2xlck1heE5vdGlmaWNhdGlvbjogMCxcblx0V3JpbmtsZXJNYXhGbGFzaDogMSxcblx0V3JpbmtsZXJNYXhTb3VuZDogMSxcblx0V3JpbmtsZXJNYXhWb2x1bWU6IDEwMCxcblx0V3JpbmtsZXJNYXhTb3VuZFVSTDogJ2h0dHBzOi8vZnJlZXNvdW5kLm9yZy9kYXRhL3ByZXZpZXdzLzE1Mi8xNTI3NDNfMTU2NjMtbHEubXAzJyxcblx0VG9vbHRpcEJ1aWxkVXBncmFkZTogMSxcblx0VG9vbHRpcEFtb3I6IDAsXG5cdFRvb2xXYXJuTHVja3k6IDEsXG5cdFRvb2xXYXJuTHVja3lGcmVuenk6IDEsXG5cdFRvb2xXYXJuQ29uanVyZTogMSxcblx0VG9vbFdhcm5Db25qdXJlRnJlbnp5OiAxLFxuXHRUb29sV2FybkVkaWZpY2U6IDEsXG5cdFRvb2xXYXJuVXNlcjogMCxcblx0VG9vbFdhcm5Qb3M6IDEsXG5cdFRvb2x0aXBHcmltOiAxLFxuXHRUb29sdGlwV3Jpbms6IDEsXG5cdFRvb2x0aXBMdW1wOiAxLFxuXHRUb29sdGlwUGxvdHM6IDEsXG5cdERyYWdvbkF1cmFJbmZvOiAxLFxuXHRUb29sdGlwQXNjZW5kQnV0dG9uOiAxLFxuXHRTdGF0czogMSxcblx0TWlzc2luZ1VwZ3JhZGVzOiAxLFxuXHRVcFN0YXRzOiAxLFxuXHRUaW1lRm9ybWF0OiAwLFxuXHREZXRhaWxlZFRpbWU6IDEsXG5cdEdyaW1vaXJlQmFyOiAxLFxuXHRIZWF2ZW5seUNoaXBzVGFyZ2V0OiAxLFxuXHRTaG93TWlzc2VkR0M6IDEsXG5cdFNjYWxlOiAyLFxuXHRTY2FsZURlY2ltYWxzOiAyLFxuXHRTY2FsZVNlcGFyYXRvcjogMCxcblx0U2NhbGVDdXRvZmY6IDk5OTk5OSxcblx0Q29sb3JzOiB7XG5cdFx0Qmx1ZTogJyM0YmI4ZjAnLCBHcmVlbjogJyMwMGZmMDAnLCBZZWxsb3c6ICcjZmZmZjAwJywgT3JhbmdlOiAnI2ZmN2YwMCcsIFJlZDogJyNmZjAwMDAnLCBQdXJwbGU6ICcjZmYwMGZmJywgR3JheTogJyNiM2IzYjMnLCBQaW5rOiAnI2ZmMTQ5MycsIEJyb3duOiAnIzhiNDUxMycsXG5cdH0sXG5cdFNvcnRCdWlsZGluZ3M6IDAsXG5cdFNvcnRVcGdyYWRlczogMCxcblx0R0NUaW1lcjogMSxcblx0RmF2aWNvbjogMSxcblx0V3JpbmtsZXJCdXR0b25zOiAxLFxuXHRCdWxrQnV5QmxvY2s6IDAsXG5cdEhlYWRlcjoge1xuXHRcdEJhcnNDb2xvcnM6IDEsIENhbGN1bGF0aW9uOiAxLCBOb3RpZmljYXRpb246IDEsIE5vdGlmaWNhdGlvbkdlbmVyYWw6IDEsIE5vdGlmaWNhdGlvbkdDOiAxLCBOb3RpZmljYXRpb25GQzogMSwgTm90aWZpY2F0aW9uU2VhOiAxLCBOb3RpZmljYXRpb25HYXJkOiAxLCBOb3RpZmljYXRpb25NYWdpOiAxLCBOb3RpZmljYXRpb25XcmluazogMSwgTm90aWZpY2F0aW9uV3JpbmtNYXg6IDEsIFRvb2x0aXA6IDEsIFN0YXRpc3RpY3M6IDEsIE5vdGF0aW9uOiAxLCBNaXNjZWxsYW5lb3VzOiAxLCBMdWNreTogMSwgQ2hhaW46IDEsIFNwZWxsczogMSwgR2FyZGVuOiAxLCBQcmVzdGlnZTogMSwgV3Jpbms6IDEsIFNlYTogMSwgTWlzYzogMSwgSW5mb1RhYjogMSxcblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZ0RlZmF1bHQ7XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSB1c2VyIGhhcyBnaXZlbiBwZXJtaXNzaW9ucyBmb3Igbm90aWZpY2F0aW9uc1xuICogSXQgaXMgY2FsbGVkIGJ5IGEgY2hhbmdlIGluIGFueSBvZiB0aGUgbm90aWZpY2F0aW9uIG9wdGlvbnNcbiAqIE5vdGUgdGhhdCBtb3N0IGJyb3dzZXJzIHdpbGwgc3RvcCBhc2tpbmcgaWYgdGhlIHVzZXIgaGFzIGlnbm9yZWQgdGhlIHByb21wdCBhcm91bmQgNiB0aW1lc1xuICogQHBhcmFtIFx0e251bWJlcn1cdFRvZ2dsZU9uT2ZmXHRcdEEgbnVtYmVyIGluZGljYXRpbmcgd2hldGhlciB0aGUgb3B0aW9uIGhhcyBiZWVuIHR1cm5lZCBvZmYgKDApIG9yIG9uICgxKVxuICovXG5mdW5jdGlvbiBDaGVja05vdGlmaWNhdGlvblBlcm1pc3Npb25zKFRvZ2dsZU9uT2ZmKSB7XG5cdGlmIChUb2dnbGVPbk9mZiA9PT0gMSlcdHtcblx0XHQvLyBDaGVjayBpZiBicm93c2VyIHN1cHBvcnQgUHJvbWlzZSB2ZXJzaW9uIG9mIE5vdGlmaWNhdGlvbiBQZXJtaXNzaW9uc1xuXHRcdGNvbnN0IGNoZWNrTm90aWZpY2F0aW9uUHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fTtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIG5vdGlmaWNhdGlvbnMgYW5kIHdoaWNoIHR5cGVcblx0XHRpZiAoISgnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cpKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgbm90aWZpY2F0aW9ucy4nKTtcblx0XHR9IGVsc2UgaWYgKGNoZWNrTm90aWZpY2F0aW9uUHJvbWlzZSgpKSB7XG5cdFx0XHROb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKS50aGVuKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGVja05vdGlmaWNhdGlvblBlcm1pc3Npb25zO1xuIiwiaW1wb3J0IHsgVXBkYXRlQm90QmFyIH0gZnJvbSAnLi4vLi4vRGlzcC9JbmZvQmFycy9Cb3R0b21CYXInO1xuaW1wb3J0IHsgVXBkYXRlQm90VGltZXJCYXJQb3NpdGlvbiB9IGZyb20gJy4uL1NwZWNpZmljVG9nZ2xlcyc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRvZ2dsZSB0aGUgYm90dG9tIGJhclxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuVXBkYXRlQXNjZW5kU3RhdGUoKSBhbmQgYSBjaGFuZ2UgaW4gQ01PcHRpb25zLkJvdEJhclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2dnbGVCb3RCYXIoKSB7XG5cdGlmIChDTU9wdGlvbnMuQm90QmFyID09PSAxKSB7XG5cdFx0bCgnQ01Cb3RCYXInKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0VXBkYXRlQm90QmFyKCk7XG5cdH0gZWxzZSB7XG5cdFx0bCgnQ01Cb3RCYXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHR9XG5cdFVwZGF0ZUJvdFRpbWVyQmFyUG9zaXRpb24oKTtcbn1cbiIsImltcG9ydCB7IENNU2F5VGltZSB9IGZyb20gJy4uLy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBCYWNrdXBGdW5jdGlvbnMgfSBmcm9tICcuLi8uLi9NYWluL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGFuZ2VzIHNvbWUgb2YgdGhlIHRpbWUtZGlzcGxheXMgaW4gdGhlIGdhbWUgdG8gYmUgbW9yZSBkZXRhaWxlZFxuICogSXQgaXMgY2FsbGVkIGJ5IGEgY2hhbmdlIGluIENNLk9wdGlvbnMuRGV0YWlsZWRUaW1lXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvZ2dsZURldGFpbGVkVGltZSgpIHtcblx0aWYgKENNT3B0aW9ucy5EZXRhaWxlZFRpbWUgPT09IDEpIEdhbWUuc2F5VGltZSA9IENNU2F5VGltZTtcblx0ZWxzZSBHYW1lLnNheVRpbWUgPSBCYWNrdXBGdW5jdGlvbnMuc2F5VGltZTtcbn1cbiIsImltcG9ydCB7IENhY2hlR29sZGVuU2hpbW1lcnNCeUlEIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBHQ1RpbWVycyB9IGZyb20gJy4uLy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRvZ2dsZXMgR0MgVGltZXJzIGFyZSB2aXNpYmxlXG4gKiBJdCBpcyBjYWxsZWQgYnkgYSBjaGFuZ2UgaW4gQ00uT3B0aW9ucy5HQ1RpbWVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvZ2dsZUdDVGltZXIoKSB7XG5cdGlmIChDTU9wdGlvbnMuR0NUaW1lciA9PT0gMSkge1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHQ1RpbWVycykpIHtcblx0XHRcdEdDVGltZXJzW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0R0NUaW1lcnNbaV0uc3R5bGUubGVmdCA9IENhY2hlR29sZGVuU2hpbW1lcnNCeUlEW2ldLmwuc3R5bGUubGVmdDtcblx0XHRcdEdDVGltZXJzW2ldLnN0eWxlLnRvcCA9IENhY2hlR29sZGVuU2hpbW1lcnNCeUlEW2ldLmwuc3R5bGUudG9wO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR0NUaW1lcnMpKSBHQ1RpbWVyc1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHR9XG59XG4iLCJpbXBvcnQgVXBkYXRlVXBncmFkZXMgZnJvbSAnLi4vLi4vRGlzcC9CdWlsZGluZ3NVcGdyYWRlcy9VcGdyYWRlcyc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBTZWN0aW9uOiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgVXBncmFkZSBCYXJcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRvZ2dsZXMgdGhlIHVwZ3JhZGUgYmFyIGFuZCB0aGUgY29sb3VycyBvZiB1cGdyYWRlc1xuICogSXQgaXMgY2FsbGVkIGJ5IGEgY2hhbmdlIGluIENNLk9wdGlvbnMuVXBCYXJDb2xvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2dnbGVVcGdyYWRlQmFyQW5kQ29sb3IoKSB7XG5cdGlmIChDTU9wdGlvbnMuVXBCYXJDb2xvciA9PT0gMSkgeyAvLyBDb2xvdXJzIGFuZCBiYXIgb25cblx0XHRsKCdDTVVwZ3JhZGVCYXInKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0VXBkYXRlVXBncmFkZXMoKTtcblx0fSBlbHNlIGlmIChDTU9wdGlvbnMuVXBCYXJDb2xvciA9PT0gMikgeyAvLyBDb2xvdXJzIG9uIGFuZCBiYXIgb2ZmXG5cdFx0bCgnQ01VcGdyYWRlQmFyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRVcGRhdGVVcGdyYWRlcygpO1xuXHR9IGVsc2UgeyAvLyBDb2xvdXJzIGFuZCBiYXIgb2ZmXG5cdFx0bCgnQ01VcGdyYWRlQmFyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRHYW1lLlJlYnVpbGRVcGdyYWRlcygpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRvZ2dsZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSB1cGdyYWRlIGJhciBmcm9tIGZpeGVkIG9yIG5vbi1maXhlZCBtb2RlXG4gKiBJdCBpcyBjYWxsZWQgYnkgYSBjaGFuZ2UgaW4gQ00uT3B0aW9ucy5VcGdyYWRlQmFyRml4ZWRQb3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG9nZ2xlVXBncmFkZUJhckZpeGVkUG9zKCkge1xuXHRpZiAoQ01PcHRpb25zLlVwZ3JhZGVCYXJGaXhlZFBvcyA9PT0gMSkgeyAvLyBGaXggdG8gdG9wIG9mIHNjcmVlbiB3aGVuIHNjcm9sbGluZ1xuXHRcdGwoJ0NNVXBncmFkZUJhcicpLnN0eWxlLnBvc2l0aW9uID0gJ3N0aWNreSc7XG5cdFx0bCgnQ01VcGdyYWRlQmFyJykuc3R5bGUudG9wID0gJzBweCc7XG5cdH0gZWxzZSB7XG5cdFx0bCgnQ01VcGdyYWRlQmFyJykuc3R5bGUucG9zaXRpb24gPSAnJzsgLy8gUG9zc2libGUgdG8gc2Nyb2xsIG9mZnNjcmVlblxuXHR9XG59XG4iLCJpbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIGRpc3BsYXkgc2V0dGluZyBvZiB0aGUgdHdvIG9iamVjdHMgY3JlYXRlZCBieSBDTS5EaXNwLkNyZWF0ZVdyaW5rbGVyQnV0dG9ucygpXG4gKiBJdCBpcyBjYWxsZWQgYnkgY2hhbmdlcyBpbiBDTS5PcHRpb25zLldyaW5rbGVyQnV0dG9uc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2dnbGVXcmlua2xlckJ1dHRvbnMoKSB7XG5cdGlmIChDTU9wdGlvbnMuV3JpbmtsZXJCdXR0b25zKSB7XG5cdFx0bCgnUG9wQWxsTm9ybWFsV3JpbmtsZXJCdXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0bCgnUG9wRmF0dGVzdFdyaW5rbGVyQnV0dG9uJykuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHR9IGVsc2Uge1xuXHRcdGwoJ1BvcEFsbE5vcm1hbFdyaW5rbGVyQnV0dG9uJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRsKCdQb3BGYXR0ZXN0V3JpbmtsZXJCdXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHR9XG59XG4iLCJpbXBvcnQgVXBkYXRlQnVpbGRpbmdzIGZyb20gJy4uL0J1aWxkaW5nc1VwZ3JhZGVzL0J1aWxkaW5ncyc7XG5pbXBvcnQgVXBkYXRlVXBncmFkZXMgZnJvbSAnLi4vQnVpbGRpbmdzVXBncmFkZXMvVXBncmFkZXMnO1xuaW1wb3J0IHsgVXBkYXRlQm90QmFyIH0gZnJvbSAnLi4vSW5mb0JhcnMvQm90dG9tQmFyJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlZnJlc2hlcyBhbGwgbnVtYmVycyBhZnRlciBhIGNoYW5nZSBpbiBzY2FsZS1zZXR0aW5nXG4gKiBJdCBpcyB0aGVyZWZvcmUgY2FsbGVkIGJ5IGEgY2hhbmdlcyBpbiBDTS5PcHRpb25zLlNjYWxlLCBDTS5PcHRpb25zLlNjYWxlRGVjaW1hbHMsIENNLk9wdGlvbnMuU2NhbGVTZXBhcmF0b3IgYW5kIENNLk9wdGlvbnMuU2NhbGVDdXRvZmZcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVmcmVzaFNjYWxlKCkge1xuXHRCZWF1dGlmeUFsbCgpO1xuXHRHYW1lLlJlZnJlc2hTdG9yZSgpO1xuXHRHYW1lLlJlYnVpbGRVcGdyYWRlcygpO1xuXG5cdFVwZGF0ZUJvdEJhcigpO1xuXHRVcGRhdGVCdWlsZGluZ3MoKTtcblx0VXBkYXRlVXBncmFkZXMoKTtcbn1cbiIsImltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBVcGRhdGVCdWlsZGluZ3MgZnJvbSAnLi4vQnVpbGRpbmdzVXBncmFkZXMvQnVpbGRpbmdzJztcbmltcG9ydCB7XG5cdENvbG9yQmFja1ByZSwgQ29sb3JCb3JkZXJQcmUsIENvbG9ycywgQ29sb3JUZXh0UHJlLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoYW5nZXMvcmVmcmVzaGVzIGNvbG91cnMgaWYgdGhlIHVzZXIgaGFzIHNldCBuZXcgc3RhbmRhcmQgY29sb3Vyc1xuICogVGhlIGZ1bmN0aW9uIGlzIHRoZXJlZm9yZSBjYWxsZWQgYnkgYSBjaGFuZ2UgaW4gQ00uT3B0aW9ucy5Db2xvcnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlQ29sb3JzKCkge1xuXHRsZXQgc3RyID0gJyc7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgQ29sb3JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c3RyICs9IGAuJHtDb2xvclRleHRQcmV9JHtDb2xvcnNbaV19IHsgY29sb3I6ICR7Q01PcHRpb25zLkNvbG9yc1tDb2xvcnNbaV1dfTsgfVxcbmA7XG5cdH1cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBDb2xvcnMubGVuZ3RoOyBpKyspIHtcblx0XHRzdHIgKz0gYC4ke0NvbG9yQmFja1ByZX0ke0NvbG9yc1tpXX0geyBiYWNrZ3JvdW5kLWNvbG9yOiAke0NNT3B0aW9ucy5Db2xvcnNbQ29sb3JzW2ldXX07IH1cXG5gO1xuXHR9XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgQ29sb3JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c3RyICs9IGAuJHtDb2xvckJvcmRlclByZX0ke0NvbG9yc1tpXX0geyBib3JkZXI6IDFweCBzb2xpZCAke0NNT3B0aW9ucy5Db2xvcnNbQ29sb3JzW2ldXX07IH1cXG5gO1xuXHR9XG5cdGwoJ0NNQ1NTJykudGV4dENvbnRlbnQgPSBzdHI7XG5cdFVwZGF0ZUJ1aWxkaW5ncygpOyAvLyBDbGFzcyBoYXMgYmVlbiBhbHJlYWR5IHNldFxufVxuIiwiaW1wb3J0IHsgQ2FjaGVTcGF3bmVkR29sZGVuU2hpbW1lciB9IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgTGFzdEdvbGRlbkNvb2tpZVN0YXRlIH0gZnJvbSAnLi4vLi4vTWFpbi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIEZhdmljb24sIGl0IGlzIGNhbGxlZCBieSBDTS5NYWluLkRlbGF5SW5pdCgpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVGYXZpY29uKCkge1xuXHRjb25zdCBGYXZpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXHRGYXZpY29uLmlkID0gJ0NNRmF2aWNvbic7XG5cdEZhdmljb24ucmVsID0gJ3Nob3J0Y3V0IGljb24nO1xuXHRGYXZpY29uLmhyZWYgPSAnaHR0cHM6Ly9vcnRlaWwuZGFzaG5ldC5vcmcvY29va2llY2xpY2tlci9mYXZpY29uLmljbyc7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoRmF2aWNvbik7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBGYXZpY29uIGRlcGVuZGluZyBvbiB3aGV0aGVyIGEgR29sZGVuIENvb2tpZSBoYXMgc3Bhd25lZFxuICogQnkgcmVseWluZyBvbiBDTS5DYWNoZS5zcGF3bmVkR29sZGVuU2hpbW1lciBpdCBvbmx5IGNoYW5nZXMgZm9yIG5vbi11c2VyIHNwYXduZWQgY29va2llXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVGYXZpY29uKCkge1xuXHRpZiAoQ01PcHRpb25zLkZhdmljb24gPT09IDEgJiYgTGFzdEdvbGRlbkNvb2tpZVN0YXRlID4gMCkge1xuXHRcdGlmIChDYWNoZVNwYXduZWRHb2xkZW5TaGltbWVyLndyYXRoKSBsKCdDTUZhdmljb24nKS5ocmVmID0gJ2h0dHBzOi8vYWt0YW51c2EuZ2l0aHViLmlvL0Nvb2tpZU1vbnN0ZXIvZmF2aWNvbi93cmF0aENvb2tpZS5pY28nO1xuXHRcdGVsc2UgbCgnQ01GYXZpY29uJykuaHJlZiA9ICdodHRwczovL2FrdGFudXNhLmdpdGh1Yi5pby9Db29raWVNb25zdGVyL2Zhdmljb24vZ29sZGVuQ29va2llLmljbyc7XG5cdH0gZWxzZSBsKCdDTUZhdmljb24nKS5ocmVmID0gJ2h0dHBzOi8vb3J0ZWlsLmRhc2huZXQub3JnL2Nvb2tpZWNsaWNrZXIvZmF2aWNvbi5pY28nO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWNsYXNzZXMtcGVyLWZpbGUgKi9cbi8qKiBUaGlzIGRlc2NyaWJlcyBhbGwgZm9ybXMgb2Ygc2V0dGluZ3MgdXNlZCBieSBDb29raWUgTW9uc3RlciAqL1xuXG4vKiogVGhlIGJhc2ljIHNldHRpbmcgY2xhc3MgKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5nIHtcblx0Y29uc3RydWN0b3IodHlwZSwgZ3JvdXApIHtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdHRoaXMuZ3JvdXAgPSBncm91cDtcblx0fVxufVxuXG4vKiogVGhlIHN0YW5kYXJkIHRvZ2dsZSBzZXR0aW5nIGNsYXNzICovXG5leHBvcnQgY2xhc3MgU2V0dGluZ1N0YW5kYXJkIGV4dGVuZHMgU2V0dGluZyB7XG5cdGNvbnN0cnVjdG9yKHR5cGUsIGdyb3VwLCBsYWJlbCwgZGVzYywgdG9nZ2xlLCBmdW5jID0gbnVsbCkge1xuXHRcdHN1cGVyKHR5cGUsIGdyb3VwKTtcblx0XHR0aGlzLmxhYmVsID0gbGFiZWw7XG5cdFx0dGhpcy5kZXNjID0gZGVzYztcblx0XHR0aGlzLnRvZ2dsZSA9IHRvZ2dsZTtcblx0XHRpZiAoZnVuYykge1xuXHRcdFx0dGhpcy5mdW5jID0gZnVuYztcblx0XHR9XG5cdH1cbn1cbi8qKiBUaGUgY29sb3VyIHBpY2tlciBzZXR0aW5nIGNsYXNzICovXG5leHBvcnQgY2xhc3MgU2V0dGluZ0NvbG91cnMgZXh0ZW5kcyBTZXR0aW5nIHtcblx0Y29uc3RydWN0b3IodHlwZSwgZ3JvdXAsIGRlc2MsIGZ1bmMpIHtcblx0XHRzdXBlcih0eXBlLCBncm91cCk7XG5cdFx0dGhpcy5kZXNjID0gZGVzYztcblx0XHR0aGlzLmZ1bmMgPSBmdW5jO1xuXHR9XG59XG5cbi8qKiBUaGUgdm9sdW1lIGxldmVsIHNldHRpbmcgY2xhc3MgKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5nVm9sdW1lIGV4dGVuZHMgU2V0dGluZyB7XG5cdGNvbnN0cnVjdG9yKHR5cGUsIGdyb3VwLCBsYWJlbCwgZGVzYykge1xuXHRcdHN1cGVyKHR5cGUsIGdyb3VwKTtcblx0XHR0aGlzLmxhYmVsID0gbGFiZWw7XG5cdFx0dGhpcy5kZXNjID0gZGVzYztcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDEwMTsgaSsrKSB7XG5cdFx0XHR0aGlzLmxhYmVsW2ldID0gYCR7aX0lYDtcblx0XHR9XG5cdH1cbn1cblxuLyoqIFRoZSBudW1iZXIgaW5wdXQgc2V0dGluZyBjbGFzcyAqL1xuZXhwb3J0IGNsYXNzIFNldHRpbmdJbnB1dE51bWJlciBleHRlbmRzIFNldHRpbmcge1xuXHRjb25zdHJ1Y3Rvcih0eXBlLCBncm91cCwgbGFiZWwsIGRlc2MsIG1pbiwgbWF4KSB7XG5cdFx0c3VwZXIodHlwZSwgZ3JvdXApO1xuXHRcdHRoaXMubGFiZWwgPSBsYWJlbDtcblx0XHR0aGlzLmRlc2MgPSBkZXNjO1xuXHRcdHRoaXMubWluID0gbWluO1xuXHRcdHRoaXMubWF4ID0gbWF4O1xuXHR9XG59XG4iLCJpbXBvcnQgQ2FjaGVQUCBmcm9tICcuLi9DYWNoZS9QUC9QUCc7XG5pbXBvcnQgQ2hlY2tOb3RpZmljYXRpb25QZXJtaXNzaW9ucyBmcm9tICcuLi9Db25maWcvQ2hlY2tOb3RpZmljYXRpb25QZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyBUb2dnbGVUaW1lckJhciwgVG9nZ2xlVGltZXJCYXJQb3MgfSBmcm9tICcuLi9Db25maWcvU3BlY2lmaWNUb2dnbGVzJztcbmltcG9ydCBUb2dnbGVCb3RCYXIgZnJvbSAnLi4vQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlQm90QmFyJztcbmltcG9ydCBUb2dnbGVEZXRhaWxlZFRpbWUgZnJvbSAnLi4vQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlRGV0YWlsZWRUaW1lJztcbmltcG9ydCBUb2dnbGVHQ1RpbWVyIGZyb20gJy4uL0NvbmZpZy9Ub2dnbGVzL1RvZ2dsZUdDVGltZXInO1xuaW1wb3J0IFRvZ2dsZVRvb2xXYXJuUG9zIGZyb20gJy4uL0NvbmZpZy9Ub2dnbGVzL1RvZ2dsZVRvb2xXYXJuUG9zJztcbmltcG9ydCBUb2dnbGVVcGdyYWRlQmFyQW5kQ29sb3IgZnJvbSAnLi4vQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlVXBncmFkZUJhckFuZENvbG9yJztcbmltcG9ydCBUb2dnbGVVcGdyYWRlQmFyRml4ZWRQb3MgZnJvbSAnLi4vQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlVXBncmFkZUJhckZpeGVkUG9zJztcbmltcG9ydCBUb2dnbGVXcmlua2xlckJ1dHRvbnMgZnJvbSAnLi4vQ29uZmlnL1RvZ2dsZXMvVG9nZ2xlV3JpbmtsZXJCdXR0b25zJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBVcGRhdGVCdWlsZGluZ3MgZnJvbSAnLi4vRGlzcC9CdWlsZGluZ3NVcGdyYWRlcy9CdWlsZGluZ3MnO1xuaW1wb3J0IFVwZGF0ZVVwZ3JhZGVzIGZyb20gJy4uL0Rpc3AvQnVpbGRpbmdzVXBncmFkZXMvVXBncmFkZXMnO1xuaW1wb3J0IFJlZnJlc2hTY2FsZSBmcm9tICcuLi9EaXNwL0hlbHBlckZ1bmN0aW9ucy9SZWZyZXNoU2NhbGUnO1xuaW1wb3J0IFVwZGF0ZUNvbG9ycyBmcm9tICcuLi9EaXNwL0hlbHBlckZ1bmN0aW9ucy9VcGRhdGVDb2xvcnMnO1xuaW1wb3J0IHsgVXBkYXRlRmF2aWNvbiB9IGZyb20gJy4uL0Rpc3AvVGFiVGl0bGUvRmF2SWNvbic7XG5pbXBvcnQge1xuXHRTZXR0aW5nU3RhbmRhcmQsIFNldHRpbmdDb2xvdXJzLCBTZXR0aW5nVm9sdW1lLCBTZXR0aW5nSW5wdXROdW1iZXIsXG59IGZyb20gJy4vU2V0dGluZ0NsYXNzZXMnO1xuXG4vKiogVGhpcyBpbmNsdWRlcyBhbGwgb3B0aW9ucyBvZiBDb29raWVNb25zdGVyIGFuZCB0aGVpciByZWxldmFudCBkYXRhICovXG5jb25zdCBDb25maWcgPSB7XG5cdC8vIEJhcnNjb2xvcnNcblx0Qm90QmFyOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQmFyc0NvbG9ycycsXG5cdFx0WydCb3R0b20gQmFyIE9GRicsICdCb3R0b20gQmFyIE9OJ10sXG5cdFx0J0J1aWxkaW5nIEluZm9ybWF0aW9uJyxcblx0XHR0cnVlLFxuXHRcdGZ1bmN0aW9uICgpIHsgVG9nZ2xlQm90QmFyKCk7IH0sXG5cdCksXG5cdFRpbWVyQmFyOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQmFyc0NvbG9ycycsXG5cdFx0WydUaW1lciBCYXIgT0ZGJywgJ1RpbWVyIEJhciBPTiddLFxuXHRcdCdUaW1lcnMgb2YgR29sZGVuIENvb2tpZSwgU2Vhc29uIFBvcHVwLCBGcmVuenkgKE5vcm1hbCwgQ2xvdCwgRWxkZXIpLCBDbGljayBGcmVuenknLFxuXHRcdHRydWUsXG5cdFx0ZnVuY3Rpb24gKCkgeyBUb2dnbGVUaW1lckJhcigpOyB9LFxuXHQpLFxuXHRUaW1lckJhclBvczogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J0JhcnNDb2xvcnMnLFxuXHRcdFsnVGltZXIgQmFyIFBvc2l0aW9uIChUb3AgTGVmdCknLCAnVGltZXIgQmFyIFBvc2l0aW9uIChCb3R0b20pJ10sXG5cdFx0J1BsYWNlbWVudCBvZiB0aGUgVGltZXIgQmFyJyxcblx0XHRmYWxzZSxcblx0XHRmdW5jdGlvbiAoKSB7IFRvZ2dsZVRpbWVyQmFyUG9zKCk7IH0sXG5cdCksXG5cdFRpbWVyQmFyT3ZlcmxheTogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J0JhcnNDb2xvcnMnLFxuXHRcdFsnVGltZXIgQmFyIE92ZXJsYXkgT0ZGJywgJ1RpbWVyIEJhciBPdmVybGF5IE9ubHkgU2Vjb25kcycsICdUaW1lciBCYXIgT3ZlcmxheSBGdWxsJ10sXG5cdFx0J092ZXJsYXkgb24gdGltZXJzIGRpc3BsYXlpbmcgc2Vjb25kcyBhbmQvb3IgcGVyY2VudGFnZSBsZWZ0Jyxcblx0XHR0cnVlLFxuXHQpLFxuXHRTb3J0QnVpbGRpbmdzOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQmFyc0NvbG9ycycsXG5cdFx0WydTb3J0IEJ1aWxkaW5nczogRGVmYXVsdCcsICdTb3J0IEJ1aWxkaW5nczogUFAnXSxcblx0XHQnU29ydCB0aGUgZGlzcGxheSBvZiBidWlsZGluZ3MgaW4gZWl0aGVyIGRlZmF1bHQgb3JkZXIgb3IgYnkgUFAnLFxuXHRcdGZhbHNlLFxuXHRcdGZ1bmN0aW9uICgpIHsgVXBkYXRlQnVpbGRpbmdzKCk7IH0sXG5cdCksXG5cdFNvcnRVcGdyYWRlczogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J0JhcnNDb2xvcnMnLFxuXHRcdFsnU29ydCBVcGdyYWRlczogRGVmYXVsdCcsICdTb3J0IFVwZ3JhZGVzOiBQUCddLFxuXHRcdCdTb3J0IHRoZSBkaXNwbGF5IG9mIHVwZ3JhZGVzIGluIGVpdGhlciBkZWZhdWx0IG9yZGVyIG9yIGJ5IFBQJyxcblx0XHRmYWxzZSxcblx0XHRmdW5jdGlvbiAoKSB7IFVwZGF0ZVVwZ3JhZGVzKCk7IH0sXG5cdCksXG5cdEJ1aWxkQ29sb3I6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdCYXJzQ29sb3JzJyxcblx0XHRbJ0J1aWxkaW5nIENvbG9ycyBPRkYnLCAnQnVpbGRpbmcgQ29sb3JzIE9OJ10sXG5cdFx0J0NvbG9yIGNvZGUgYnVpbGRpbmdzJyxcblx0XHR0cnVlLFxuXHRcdGZ1bmN0aW9uICgpIHsgVXBkYXRlQnVpbGRpbmdzKCk7IH0sXG5cdCksXG5cdEJ1bGtCdWlsZENvbG9yOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQmFyc0NvbG9ycycsXG5cdFx0WydCdWxrIEJ1aWxkaW5nIENvbG9ycyAoU2luZ2xlIEJ1aWxkaW5nIENvbG9yKScsICdCdWxrIEJ1aWxkaW5nIENvbG9ycyAoQ2FsY3VsYXRlZCBCdWxrIENvbG9yKSddLFxuXHRcdCdDb2xvciBjb2RlIGJ1bGsgYnVpbGRpbmdzIGJhc2VkIG9uIHNpbmdsZSBidWlsZGluZ3MgY29sb3Igb3IgY2FsY3VsYXRlZCBidWxrIHZhbHVlIGNvbG9yJyxcblx0XHRmYWxzZSxcblx0XHRmdW5jdGlvbiAoKSB7IFVwZGF0ZUJ1aWxkaW5ncygpOyB9LFxuXHQpLFxuXHRVcEJhckNvbG9yOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQmFyc0NvbG9ycycsXG5cdFx0WydVcGdyYWRlIENvbG9ycy9CYXIgT0ZGJywgJ1VwZ3JhZGUgQ29sb3JzIHdpdGggQmFyIE9OJywgJ1VwZ3JhZGUgQ29sb3JzIHdpdGhvdXQgQmFyIE9OJ10sXG5cdFx0J0NvbG9yIGNvZGUgdXBncmFkZXMgYW5kIG9wdGlvbmFsbHkgYWRkIGEgY291bnRlciBiYXInLFxuXHRcdGZhbHNlLFxuXHRcdGZ1bmN0aW9uICgpIHsgVG9nZ2xlVXBncmFkZUJhckFuZENvbG9yKCk7IH0sXG5cdCksXG5cdENvbG9yczogbmV3IFNldHRpbmdDb2xvdXJzKFxuXHRcdCdjb2xvcicsXG5cdFx0J0JhcnNDb2xvcnMnLFxuXHRcdHtcblx0XHRcdEJsdWU6ICdDb2xvciBCbHVlLiAgVXNlZCB0byBzaG93IGJldHRlciB0aGFuIGJlc3QgUFAgYnVpbGRpbmcsIGZvciBDbGljayBGcmVuenkgYmFyLCBhbmQgZm9yIHZhcmlvdXMgbGFiZWxzJyxcblx0XHRcdEdyZWVuOiAnQ29sb3IgR3JlZW4uICBVc2VkIHRvIHNob3cgYmVzdCBQUCBidWlsZGluZywgZm9yIEJsb29kIEZyZW56eSBiYXIsIGFuZCBmb3IgdmFyaW91cyBsYWJlbHMnLFxuXHRcdFx0WWVsbG93OiAnQ29sb3IgWWVsbG93LiAgVXNlZCB0byBzaG93IGJldHdlZW4gYmVzdCBhbmQgd29yc3QgUFAgYnVpbGRpbmdzIGNsb3NlciB0byBiZXN0LCBmb3IgRnJlbnp5IGJhciwgYW5kIGZvciB2YXJpb3VzIGxhYmVscycsXG5cdFx0XHRPcmFuZ2U6ICdDb2xvciBPcmFuZ2UuICBVc2VkIHRvIHNob3cgYmV0d2VlbiBiZXN0IGFuZCB3b3JzdCBQUCBidWlsZGluZ3MgY2xvc2VyIHRvIHdvcnN0LCBmb3IgTmV4dCBSZWluZGVlciBiYXIsIGFuZCBmb3IgdmFyaW91cyBsYWJlbHMnLFxuXHRcdFx0UmVkOiAnQ29sb3IgUmVkLiAgVXNlZCB0byBzaG93IHdvcnN0IFBQIGJ1aWxkaW5nLCBmb3IgQ2xvdCBiYXIsIGFuZCBmb3IgdmFyaW91cyBsYWJlbHMnLFxuXHRcdFx0UHVycGxlOiAnQ29sb3IgUHVycGxlLiAgVXNlZCB0byBzaG93IHdvcnNlIHRoYW4gd29yc3QgUFAgYnVpbGRpbmcsIGZvciBOZXh0IENvb2tpZSBiYXIsIGFuZCBmb3IgdmFyaW91cyBsYWJlbHMnLFxuXHRcdFx0R3JheTogJ0NvbG9yIEdyYXkuICBVc2VkIHRvIHNob3cgbmVnYXRpdmUgb3IgaW5maW5pdHkgUFAsIGFuZCBmb3IgTmV4dCBDb29raWUvTmV4dCBSZWluZGVlciBiYXInLFxuXHRcdFx0UGluazogJ0NvbG9yIFBpbmsuICBVc2VkIGZvciBEcmFnb25mbGlnaHQgYmFyJyxcblx0XHRcdEJyb3duOiAnQ29sb3IgQnJvd24uICBVc2VkIGZvciBEcmFnb24gSGFydmVzdCBiYXInLFxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24gKCkgeyBVcGRhdGVDb2xvcnMoKTsgfSxcblx0KSxcblx0VXBncmFkZUJhckZpeGVkUG9zOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQmFyc0NvbG9ycycsXG5cdFx0WydVcGdyYWRlIEJhciBGaXhlZCBQb3NpdGlvbiBPRkYnLCAnVXBncmFkZSBCYXIgRml4ZWQgUG9zaXRpb24gT04nXSxcblx0XHQnTG9jayB0aGUgdXBncmFkZSBiYXIgYXQgdG9wIG9mIHRoZSBzY3JlZW4gdG8gcHJldmVudCBpdCBmcm9tIG1vdmluZyBvZnNjcmVlbiB3aGVuIHNjcm9sbGluZycsXG5cdFx0dHJ1ZSxcblx0XHRmdW5jdGlvbiAoKSB7IFRvZ2dsZVVwZ3JhZGVCYXJGaXhlZFBvcygpOyB9LFxuXHQpLFxuXG5cdC8vIENhbGN1bGF0aW9uXG5cdENhbGNXcmluazogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J0NhbGN1bGF0aW9uJyxcblx0XHRbJ0NhbGN1bGF0ZSB3aXRoIFdyaW5rbGVycyBPRkYnLCAnQ2FsY3VsYXRlIHdpdGggV3JpbmtsZXJzIE9OJywgJ0NhbGN1bGF0ZSB3aXRoIFNpbmdsZSBGYXR0ZXN0IFdyaW5rbGVyIE9OJ10sXG5cdFx0J0NhbGN1bGF0ZSB0aW1lcyBhbmQgYXZlcmFnZSBDb29raWVzIFBlciBTZWNvbmQgd2l0aCAob25seSB0aGUgc2luZ2xlIG5vbi1zaGlueSBmYXR0ZXN0KSBXcmlua2xlcnMnLFxuXHRcdHRydWUsXG5cdCksXG5cdENQU01vZGU6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdDYWxjdWxhdGlvbicsXG5cdFx0WydDdXJyZW50IENvb2tpZXMgUGVyIFNlY29uZCcsICdBdmVyYWdlIENvb2tpZXMgUGVyIFNlY29uZCddLFxuXHRcdCdDYWxjdWxhdGUgdGltZXMgdXNpbmcgY3VycmVudCBDb29raWVzIFBlciBTZWNvbmQgb3IgYXZlcmFnZSBDb29raWVzIFBlciBTZWNvbmQnLFxuXHRcdGZhbHNlLFxuXHQpLFxuXHRBdmdDUFNIaXN0OiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQ2FsY3VsYXRpb24nLFxuXHRcdFsnQXZlcmFnZSBDUFMgZm9yIHBhc3QgMTBzJywgJ0F2ZXJhZ2UgQ1BTIGZvciBwYXN0IDE1cycsICdBdmVyYWdlIENQUyBmb3IgcGFzdCAzMHMnLCAnQXZlcmFnZSBDUFMgZm9yIHBhc3QgMW0nLCAnQXZlcmFnZSBDUFMgZm9yIHBhc3QgNW0nLCAnQXZlcmFnZSBDUFMgZm9yIHBhc3QgMTBtJywgJ0F2ZXJhZ2UgQ1BTIGZvciBwYXN0IDE1bScsICdBdmVyYWdlIENQUyBmb3IgcGFzdCAzMG0nXSxcblx0XHQnSG93IG11Y2ggdGltZSBhdmVyYWdlIENvb2tpZXMgUGVyIFNlY29uZCBzaG91bGQgY29uc2lkZXInLFxuXHRcdGZhbHNlLFxuXHQpLFxuXHRBdmdDbGlja3NIaXN0OiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQ2FsY3VsYXRpb24nLFxuXHRcdFsnQXZlcmFnZSBDb29raWUgQ2xpY2tzIGZvciBwYXN0IDFzJywgJ0F2ZXJhZ2UgQ29va2llIENsaWNrcyBmb3IgcGFzdCA1cycsICdBdmVyYWdlIENvb2tpZSBDbGlja3MgZm9yIHBhc3QgMTBzJywgJ0F2ZXJhZ2UgQ29va2llIENsaWNrcyBmb3IgcGFzdCAxNXMnLCAnQXZlcmFnZSBDb29raWUgQ2xpY2tzIGZvciBwYXN0IDMwcyddLFxuXHRcdCdIb3cgbXVjaCB0aW1lIGF2ZXJhZ2UgQ29va2llIENsaWNrcyBzaG91bGQgY29uc2lkZXInLFxuXHRcdGZhbHNlLFxuXHQpLFxuXHRDb2xvclBQQnVsa01vZGU6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdDYWxjdWxhdGlvbicsXG5cdFx0WydDb2xvciBvZiBQUCAoQ29tcGFyZWQgdG8gU2luZ2xlKScsICdDb2xvciBvZiBQUCAoQ29tcGFyZWQgdG8gQnVsayknXSxcblx0XHQnQ29sb3IgUFAtdmFsdWVzIGJhc2VkIG9uIGNvbXBhcmlzb24gd2l0aCBzaW5nbGUgcHVyY2hhc2Ugb3Igd2l0aCBzZWxlY3RlZCBidWxrLWJ1eSBtb2RlJyxcblx0XHRmYWxzZSxcblx0XHRmdW5jdGlvbiAoKSB7IENhY2hlUFAoKTsgfSxcblx0KSxcblx0UFBFeGNsdWRlVG9wOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQ2FsY3VsYXRpb24nLFxuXHRcdFtcIkRvbid0IElnbm9yZSBBbnlcIiwgJ0lnbm9yZSAxc3QgQmVzdCcsICdJZ25vcmUgMXN0IGFuZCAybmQgQmVzdCcsICdJZ25vcmUgMXN0LCAybmQgYW5kIDNyZCBCZXN0J10sXG5cdFx0J01ha2VzIENvb2tpZU1vbnN0ZXIgaWdub3JlIHRoZSAxc3QsIDJuZCBvciAzcmQgYmVzdCBidWlsZGluZ3MgaW4gbGFiZWxpbmcgYW5kIGNvbG91cmluZyBQUCB2YWx1ZXMnLFxuXHRcdHRydWUsXG5cdCksXG5cdFBQU2Vjb25kc0xvd2VyTGltaXQ6IG5ldyBTZXR0aW5nSW5wdXROdW1iZXIoXG5cdFx0J251bXNjYWxlJyxcblx0XHQnQ2FsY3VsYXRpb24nLFxuXHRcdCdMb3dlciBsaW1pdCBmb3IgUFAgKGluIHNlY29uZHMpOiAnLFxuXHRcdCdJZiBhIGJ1aWxkaW5nIG9yIHVwZ3JhZGUgY29zdHMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQgc2Vjb25kcyBvZiBDUFMgaXQgd2lsbCBhbHNvIGJlIGNvbnNpZGVyZWQgb3B0aW1hbCBhbmQgbGFiZWwgaXQgYXMgc3VjaCAoXCJQUCBpcyBsZXNzIHRoYW4geHggc2Vjb25kcyBvZiBDUFNcIik7IHNldHRpbmcgdG8gMCBpZ25vcmVzIHRoaXMgb3B0aW9uJyxcblx0XHQwLFxuXHRcdEluZmluaXR5LFxuXHQpLFxuXHRQUE9ubHlDb25zaWRlckJ1eWFibGU6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdDYWxjdWxhdGlvbicsXG5cdFx0W1wiRG9uJ3QgSWdub3JlIE5vbi1CdXlhYmxlXCIsICdJZ25vcmUgTm9uLUJ1eWFibGUnXSxcblx0XHRcIk1ha2VzIENvb2tpZU1vbnN0ZXIgbGFiZWwgYnVpbGRpbmdzIGFuZCB1cGdyYWRlcyB5b3UgY2FuJ3QgYnV5IHJpZ2h0IG5vdyByZWQsIHVzZWZ1bCBpbiB0aG9zZSBzaXR1YXRpb25zIHdoZXJlIHlvdSBqdXN0IHdhbnQgdG8gc3BlbmQgeW91ciBmdWxsIGJhbmsgJ21vc3Qgb3B0aW1hbGx5J1wiLFxuXHRcdHRydWUsXG5cdCksXG5cdFRvb2xXYXJuQm9uOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnQ2FsY3VsYXRpb24nLFxuXHRcdFsnQ2FsY3VsYXRlIFRvb2x0aXAgV2FybmluZyBXaXRoIEJvbnVzIENQUyBPRkYnLCAnQ2FsY3VsYXRlIFRvb2x0aXAgV2FybmluZyBXaXRoIEJvbnVzIENQUyBPTiddLFxuXHRcdCdDYWxjdWxhdGUgdGhlIHdhcm5pbmcgd2l0aCBvciB3aXRob3V0IHRoZSBib251cyBDUFMgeW91IGdldCBmcm9tIGJ1eWluZycsXG5cdFx0dHJ1ZSxcblx0KSxcblxuXHQvLyBOb3RpZmljYXRpb25cblx0VGl0bGU6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25HZW5lcmFsJyxcblx0XHRbJ1RpdGxlIE9GRicsICdUaXRsZSBPTicsICdUaXRsZSBQaW5uZWQgVGFiIEhpZ2hsaWdodCddLFxuXHRcdCdVcGRhdGUgdGl0bGUgd2l0aCBHb2xkZW4gQ29va2llL1NlYXNvbiBQb3B1cCB0aW1lcnM7IHBpbm5lZCB0YWIgaGlnaGxpZ2h0IG9ubHkgY2hhbmdlcyB0aGUgdGl0bGUgd2hlbiBhIEdvbGRlbiBDb29raWUvU2Vhc29uIFBvcHVwIHNwYXduczsgXCIhXCIgbWVhbnMgdGhhdCBHb2xkZW4gQ29va2llL1JlaW5kZWVyIGNhbiBzcGF3bicsXG5cdFx0dHJ1ZSxcblx0KSxcblx0R2VuZXJhbFNvdW5kOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uR2VuZXJhbCcsXG5cdFx0WydDb25zaWRlciBHYW1lIFZvbHVtZSBTZXR0aW5nIE9GRicsICdDb25zaWRlciBHYW1lIFZvbHVtZSBTZXR0aW5nIE9OJ10sXG5cdFx0J1R1cm5pbmcgdGhpcyB0b2dnbGUgdG8gXCJvZmZcIiBtYWtlcyBDb29raWUgTW9uc3RlciBubyBsb25nZXIgY29uc2lkZXIgdGhlIHZvbHVtZSBzZXR0aW5nIG9mIHRoZSBiYXNlIGdhbWUsIGFsbG93aW5nIG1vZCBub3RpZmljYXRpb25zIHRvIHBsYXkgd2l0aCBiYXNlIGdhbWUgdm9sdW1lIHR1cm5lZCBkb3duJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRHQ05vdGlmaWNhdGlvbjogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbkdDJyxcblx0XHRbJ05vdGlmaWNhdGlvbiBPRkYnLCAnTm90aWZpY2F0aW9uIE9OJ10sXG5cdFx0J0NyZWF0ZSBhIG5vdGlmaWNhdGlvbiB3aGVuIEdvbGRlbiBDb29raWUgc3Bhd25zJyxcblx0XHR0cnVlLFxuXHRcdGZ1bmN0aW9uICgpIHsgQ2hlY2tOb3RpZmljYXRpb25QZXJtaXNzaW9ucyhDTU9wdGlvbnMuR0NOb3RpZmljYXRpb24pOyB9LFxuXHQpLFxuXHRHQ0ZsYXNoOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uR0MnLFxuXHRcdFsnRmxhc2ggT0ZGJywgJ0ZsYXNoIE9OJ10sXG5cdFx0J0ZsYXNoIHNjcmVlbiBvbiBHb2xkZW4gQ29va2llJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRHQ1NvdW5kOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uR0MnLFxuXHRcdFsnU291bmQgT0ZGJywgJ1NvdW5kIE9OJ10sXG5cdFx0J1BsYXkgYSBzb3VuZCBvbiBHb2xkZW4gQ29va2llJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRHQ1ZvbHVtZTogbmV3IFNldHRpbmdWb2x1bWUoXG5cdFx0J3ZvbCcsXG5cdFx0J05vdGlmaWNhdGlvbkdDJyxcblx0XHRbXSxcblx0XHQnVm9sdW1lJyxcblx0KSxcblx0R0NTb3VuZFVSTDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQndXJsJyxcblx0XHQnTm90aWZpY2F0aW9uR0MnLFxuXHRcdCdTb3VuZCBVUkw6Jyxcblx0XHQnVVJMIG9mIHRoZSBzb3VuZCB0byBiZSBwbGF5ZWQgd2hlbiBhIEdvbGRlbiBDb29raWUgc3Bhd25zJyxcblx0KSxcblx0Rm9ydHVuZU5vdGlmaWNhdGlvbjogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbkZDJyxcblx0XHRbJ05vdGlmaWNhdGlvbiBPRkYnLCAnTm90aWZpY2F0aW9uIE9OJ10sXG5cdFx0J0NyZWF0ZSBhIG5vdGlmaWNhdGlvbiB3aGVuIEZvcnR1bmUgQ29va2llIGlzIG9uIHRoZSBUaWNrZXInLFxuXHRcdHRydWUsXG5cdFx0ZnVuY3Rpb24gKCkgeyBDaGVja05vdGlmaWNhdGlvblBlcm1pc3Npb25zKENNT3B0aW9ucy5Gb3J0dW5lTm90aWZpY2F0aW9uKTsgfSxcblx0KSxcblx0Rm9ydHVuZUZsYXNoOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uRkMnLFxuXHRcdFsnRmxhc2ggT0ZGJywgJ0ZsYXNoIE9OJ10sXG5cdFx0J0ZsYXNoIHNjcmVlbiBvbiBGb3J0dW5lIENvb2tpZScsXG5cdFx0dHJ1ZSxcblx0KSxcblx0Rm9ydHVuZVNvdW5kOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uRkMnLFxuXHRcdFsnU291bmQgT0ZGJywgJ1NvdW5kIE9OJ10sXG5cdFx0J1BsYXkgYSBzb3VuZCBvbiBGb3J0dW5lIENvb2tpZScsXG5cdFx0dHJ1ZSxcblx0KSxcblx0Rm9ydHVuZVZvbHVtZTogbmV3IFNldHRpbmdWb2x1bWUoXG5cdFx0J3ZvbCcsXG5cdFx0J05vdGlmaWNhdGlvbkZDJyxcblx0XHRbXSxcblx0XHQnVm9sdW1lJyxcblx0KSxcblxuXHRGb3J0dW5lU291bmRVUkw6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J3VybCcsXG5cdFx0J05vdGlmaWNhdGlvbkZDJyxcblx0XHQnU291bmQgVVJMOicsXG5cdFx0J1VSTCBvZiB0aGUgc291bmQgdG8gYmUgcGxheWVkIHdoZW4gdGhlIFRpY2tlciBoYXMgYSBGb3J0dW5lIENvb2tpZScsXG5cdCksXG5cdFNlYU5vdGlmaWNhdGlvbjogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvblNlYScsXG5cdFx0WydOb3RpZmljYXRpb24gT0ZGJywgJ05vdGlmaWNhdGlvbiBPTiddLFxuXHRcdCdDcmVhdGUgYSBub3RpZmljYXRpb24gb24gU2Vhc29uIFBvcHVwJyxcblx0XHR0cnVlLFxuXHRcdGZ1bmN0aW9uICgpIHsgQ2hlY2tOb3RpZmljYXRpb25QZXJtaXNzaW9ucyhDTU9wdGlvbnMuU2VhTm90aWZpY2F0aW9uKTsgfSxcblx0KSxcblx0U2VhRmxhc2g6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25TZWEnLFxuXHRcdFsnRmxhc2ggT0ZGJywgJ0ZsYXNoIE9OJ10sXG5cdFx0J0ZsYXNoIHNjcmVlbiBvbiBTZWFzb24gUG9wdXAnLFxuXHRcdHRydWUsXG5cdCksXG5cdFNlYVNvdW5kOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uU2VhJyxcblx0XHRbJ1NvdW5kIE9GRicsICdTb3VuZCBPTiddLFxuXHRcdCdQbGF5IGEgc291bmQgb24gU2Vhc29uIFBvcHVwJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRTZWFWb2x1bWU6IG5ldyBTZXR0aW5nVm9sdW1lKFxuXHRcdCd2b2wnLFxuXHRcdCdOb3RpZmljYXRpb25TZWEnLFxuXHRcdFtdLFxuXHRcdCdWb2x1bWUnLFxuXHQpLFxuXHRTZWFTb3VuZFVSTDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQndXJsJyxcblx0XHQnTm90aWZpY2F0aW9uU2VhJyxcblx0XHQnU291bmQgVVJMOicsXG5cdFx0J1VSTCBvZiB0aGUgc291bmQgdG8gYmUgcGxheWVkIHdoZW4gYSBTZWFzb24gU3BlY2lhbCBzcGF3bnMnLFxuXHQpLFxuXHRHYXJkRmxhc2g6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25HYXJkJyxcblx0XHRbJ0dhcmRlbiBUaWNrIEZsYXNoIE9GRicsICdGbGFzaCBPTiddLFxuXHRcdCdGbGFzaCBzY3JlZW4gb24gR2FyZGVuIFRpY2snLFxuXHRcdHRydWUsXG5cdCksXG5cdEdhcmRTb3VuZDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbkdhcmQnLFxuXHRcdFsnU291bmQgT0ZGJywgJ1NvdW5kIE9OJ10sXG5cdFx0J1BsYXkgYSBzb3VuZCBvbiBHYXJkZW4gVGljaycsXG5cdFx0dHJ1ZSxcblx0KSxcblx0R2FyZFZvbHVtZTogbmV3IFNldHRpbmdWb2x1bWUoXG5cdFx0J3ZvbCcsXG5cdFx0J05vdGlmaWNhdGlvbkdhcmQnLFxuXHRcdFtdLFxuXHRcdCdWb2x1bWUnLFxuXHQpLFxuXHRHYXJkU291bmRVUkw6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J3VybCcsXG5cdFx0J05vdGlmaWNhdGlvbkdhcmQnLFxuXHRcdCdHYXJkZW4gVGljayBTb3VuZCBVUkw6Jyxcblx0XHQnVVJMIG9mIHRoZSBzb3VuZCB0byBiZSBwbGF5ZWQgd2hlbiB0aGUgZ2FyZGVuIHRpY2tzJyxcblx0KSxcblx0TWFnaWNOb3RpZmljYXRpb246IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25NYWdpJyxcblx0XHRbJ05vdGlmaWNhdGlvbiBPRkYnLCAnTm90aWZpY2F0aW9uIE9OJ10sXG5cdFx0J0NyZWF0ZSBhIG5vdGlmaWNhdGlvbiB3aGVuIG1hZ2ljIHJlYWNoZXMgbWF4aW11bScsXG5cdFx0dHJ1ZSxcblx0XHRmdW5jdGlvbiAoKSB7IENoZWNrTm90aWZpY2F0aW9uUGVybWlzc2lvbnMoQ01PcHRpb25zLk1hZ2ljTm90aWZpY2F0aW9uKTsgfSxcblx0KSxcblx0TWFnaWNGbGFzaDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbk1hZ2knLFxuXHRcdFsnRmxhc2ggT0ZGJywgJ0ZsYXNoIE9OJ10sXG5cdFx0J0ZsYXNoIHNjcmVlbiB3aGVuIG1hZ2ljIHJlYWNoZXMgbWF4aW11bScsXG5cdFx0dHJ1ZSxcblx0KSxcblx0TWFnaWNTb3VuZDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbk1hZ2knLFxuXHRcdFsnU291bmQgT0ZGJywgJ1NvdW5kIE9OJ10sXG5cdFx0J1BsYXkgYSBzb3VuZCB3aGVuIG1hZ2ljIHJlYWNoZXMgbWF4aW11bScsXG5cdFx0dHJ1ZSxcblx0KSxcblx0TWFnaWNWb2x1bWU6IG5ldyBTZXR0aW5nVm9sdW1lKFxuXHRcdCd2b2wnLFxuXHRcdCdOb3RpZmljYXRpb25NYWdpJyxcblx0XHRbXSxcblx0XHQnVm9sdW1lJyxcblx0KSxcblx0TWFnaWNTb3VuZFVSTDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQndXJsJyxcblx0XHQnTm90aWZpY2F0aW9uTWFnaScsXG5cdFx0J1NvdW5kIFVSTDonLFxuXHRcdCdVUkwgb2YgdGhlIHNvdW5kIHRvIGJlIHBsYXllZCB3aGVuIG1hZ2ljIHJlYWNoZXMgbWF4aXVtJyxcblx0KSxcblx0V3JpbmtsZXJOb3RpZmljYXRpb246IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25XcmluaycsXG5cdFx0WydOb3RpZmljYXRpb24gT0ZGJywgJ05vdGlmaWNhdGlvbiBPTiddLFxuXHRcdCdDcmVhdGUgYSBub3RpZmljYXRpb24gd2hlbiBhIFdyaW5rbGVyIGFwcGVhcnMnLFxuXHRcdHRydWUsXG5cdFx0ZnVuY3Rpb24gKCkgeyBDaGVja05vdGlmaWNhdGlvblBlcm1pc3Npb25zKENNT3B0aW9ucy5Xcmlua2xlck5vdGlmaWNhdGlvbik7IH0sXG5cdCksXG5cdFdyaW5rbGVyRmxhc2g6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25XcmluaycsXG5cdFx0WydGbGFzaCBPRkYnLCAnRmxhc2ggT04nXSxcblx0XHQnRmxhc2ggc2NyZWVuIHdoZW4gYSBXcmlua2xlciBhcHBlYXJzJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRXcmlua2xlclNvdW5kOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTm90aWZpY2F0aW9uV3JpbmsnLFxuXHRcdFsnU291bmQgT0ZGJywgJ1NvdW5kIE9OJ10sXG5cdFx0J1BsYXkgYSBzb3VuZCB3aGVuIGEgV3JpbmtsZXIgYXBwZWFycycsXG5cdFx0dHJ1ZSxcblx0KSxcblx0V3JpbmtsZXJWb2x1bWU6IG5ldyBTZXR0aW5nVm9sdW1lKFxuXHRcdCd2b2wnLFxuXHRcdCdOb3RpZmljYXRpb25XcmluaycsXG5cdFx0W10sXG5cdFx0J1ZvbHVtZScsXG5cdCksXG5cdFdyaW5rbGVyU291bmRVUkw6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J3VybCcsXG5cdFx0J05vdGlmaWNhdGlvbldyaW5rJyxcblx0XHQnU291bmQgVVJMOicsXG5cdFx0J1VSTCBvZiB0aGUgc291bmQgdG8gYmUgcGxheWVkIHdoZW4gYSBXcmlua2xlciBhcHBlYXJzJyxcblx0KSxcblx0V3JpbmtsZXJNYXhOb3RpZmljYXRpb246IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RpZmljYXRpb25Xcmlua01heCcsXG5cdFx0WydOb3RpZmljYXRpb24gT0ZGJywgJ05vdGlmaWNhdGlvbiBPTiddLFxuXHRcdCdDcmVhdGUgYSBub3RpZmljYXRpb24gd2hlbiB0aGUgbWF4aW11bSBhbW91bnQgb2YgV3JpbmtsZXJzIGhhcyBhcHBlYXJlZCcsXG5cdFx0dHJ1ZSxcblx0XHRmdW5jdGlvbiAoKSB7IENoZWNrTm90aWZpY2F0aW9uUGVybWlzc2lvbnMoQ01PcHRpb25zLldyaW5rbGVyTWF4Tm90aWZpY2F0aW9uKTsgfSxcblx0KSxcblx0V3JpbmtsZXJNYXhGbGFzaDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbldyaW5rTWF4Jyxcblx0XHRbJ0ZsYXNoIE9GRicsICdGbGFzaCBPTiddLFxuXHRcdCdGbGFzaCBzY3JlZW4gd2hlbiB0aGUgbWF4aW11bSBhbW91bnQgb2YgV3JpbmtsZXJzIGhhcyBhcHBlYXJlZCcsXG5cdFx0dHJ1ZSxcblx0KSxcblx0V3JpbmtsZXJNYXhTb3VuZDogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J05vdGlmaWNhdGlvbldyaW5rTWF4Jyxcblx0XHRbJ1NvdW5kIE9GRicsICdTb3VuZCBPTiddLFxuXHRcdCdQbGF5IGEgc291bmQgd2hlbiB0aGUgbWF4aW11bSBhbW91bnQgb2YgV3JpbmtsZXJzIGhhcyBhcHBlYXJlZCcsXG5cdFx0dHJ1ZSxcblx0KSxcblx0V3JpbmtsZXJNYXhWb2x1bWU6IG5ldyBTZXR0aW5nVm9sdW1lKFxuXHRcdCd2b2wnLFxuXHRcdCdOb3RpZmljYXRpb25Xcmlua01heCcsXG5cdFx0W10sXG5cdFx0J1ZvbHVtZScsXG5cdCksXG5cdFdyaW5rbGVyTWF4U291bmRVUkw6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J3VybCcsXG5cdFx0J05vdGlmaWNhdGlvbldyaW5rTWF4Jyxcblx0XHQnU291bmQgVVJMOicsXG5cdFx0J1VSTCBvZiB0aGUgc291bmQgdG8gYmUgcGxheWVkIHdoZW4gdGhlIG1heGltdW0gYW1vdW50IG9mIFdyaW5rbGVycyBoYXMgYXBwZWFyZWQnLFxuXHQpLFxuXG5cdC8vIFRvb2x0aXBcblx0VG9vbHRpcEJ1aWxkVXBncmFkZTogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J1Rvb2x0aXAnLFxuXHRcdFsnQnVpbGRpbmcvVXBncmFkZSBUb29sdGlwIEluZm9ybWF0aW9uIE9GRicsICdCdWlsZGluZy9VcGdyYWRlICBUb29sdGlwIEluZm9ybWF0aW9uIE9OJ10sXG5cdFx0J0V4dHJhIGluZm9ybWF0aW9uIGluIEJ1aWxkaW5nL1VwZ3JhZGUgdG9vbHRpcHMnLFxuXHRcdHRydWUsXG5cdCksXG5cdFRvb2x0aXBBbW9yOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnVG9vbHRpcCcsXG5cdFx0WydCdWlsZGluZ3MgVG9vbHRpcCBBbW9ydGl6YXRpb24gSW5mb3JtYXRpb24gT0ZGJywgJ0J1aWxkaW5ncyBUb29sdGlwIEFtb3J0aXphdGlvbiBJbmZvcm1hdGlvbiBPTiddLFxuXHRcdCdBZGQgYW1vcnRpemF0aW9uIGluZm9ybWF0aW9uIHRvIGJ1aWxkaW5ncyB0b29sdGlwJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sV2Fybkx1Y2t5OiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnVG9vbHRpcCcsXG5cdFx0WydUb29sdGlwIEx1Y2t5IFdhcm5pbmcgT0ZGJywgJ1Rvb2x0aXAgTHVja3kgV2FybmluZyBPTiddLFxuXHRcdCdBIHdhcm5pbmcgd2hlbiBidXlpbmcgaWYgaXQgd2lsbCBwdXQgdGhlIGJhbmsgdW5kZXIgdGhlIGFtb3VudCBuZWVkZWQgZm9yIG1heCBcIkx1Y2t5IVwiIHJld2FyZHMnLFxuXHRcdHRydWUsXG5cdCksXG5cdFRvb2xXYXJuTHVja3lGcmVuenk6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ1Rvb2x0aXAgTHVja3kgRnJlbnp5IFdhcm5pbmcgT0ZGJywgJ1Rvb2x0aXAgTHVja3kgRnJlbnp5IFdhcm5pbmcgT04nXSxcblx0XHQnQSB3YXJuaW5nIHdoZW4gYnV5aW5nIGlmIGl0IHdpbGwgcHV0IHRoZSBiYW5rIHVuZGVyIHRoZSBhbW91bnQgbmVlZGVkIGZvciBtYXggXCJMdWNreSFcIiAoRnJlbnp5KSByZXdhcmRzJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sV2FybkNvbmp1cmU6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ1Rvb2x0aXAgQ29uanVyZSBXYXJuaW5nIE9GRicsICdUb29sdGlwIENvbmp1cmUgV2FybmluZyBPTiddLFxuXHRcdCdBIHdhcm5pbmcgd2hlbiBidXlpbmcgaWYgaXQgd2lsbCBwdXQgdGhlIGJhbmsgdW5kZXIgdGhlIGFtb3VudCBuZWVkZWQgZm9yIG1heCBcIkNvbmp1cmUgQmFrZWQgR29vZHNcIiByZXdhcmRzJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sV2FybkNvbmp1cmVGcmVuenk6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ1Rvb2x0aXAgQ29uanVyZSBGcmVuenkgV2FybmluZyBPRkYnLCAnVG9vbHRpcCBDb25qdXJlIEZyZW56eSBXYXJuaW5nIE9OJ10sXG5cdFx0J0Egd2FybmluZyB3aGVuIGJ1eWluZyBpZiBpdCB3aWxsIHB1dCB0aGUgYmFuayB1bmRlciB0aGUgYW1vdW50IG5lZWRlZCBmb3IgbWF4IFwiQ29uanVyZSBCYWtlZCBHb29kc1wiIHJld2FyZHMgd2l0aCBGcmVuenkgYWN0aXZlJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sV2FybkVkaWZpY2U6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ1Rvb2x0aXAgRWRpZmljZSBXYXJuaW5nIE9GRicsICdUb29sdGlwIEVkaWZpY2UgV2FybmluZyBPTiddLFxuXHRcdCdBIHdhcm5pbmcgd2hlbiBidXlpbmcgaWYgaXQgd2lsbCBwdXQgdGhlIGJhbmsgdW5kZXIgdGhlIGFtb3VudCBuZWVkZWQgZm9yIFwiU3BvbnRhbmVvdXMgRWRpZmljZVwiIHRvIHBvc3NpYmx5IGdpdmUgeW91IHlvdXIgbW9zdCBleHBlbnNpdmUgYnVpbGRpbmcnLFxuXHRcdHRydWUsXG5cdCksXG5cdFRvb2xXYXJuVXNlcjogbmV3IFNldHRpbmdJbnB1dE51bWJlcihcblx0XHQnbnVtc2NhbGUnLFxuXHRcdCdUb29sdGlwJyxcblx0XHQnVG9vbHRpcCBXYXJuaW5nIEF0IHggdGltZXMgQ1BTOiAnLFxuXHRcdCdVc2UgdGhpcyB0byBzaG93IGEgY3VzdG9taXplZCB3YXJuaW5nIGlmIGJ1eWluZyBpdCB3aWxsIHB1dCB0aGUgYmFuayB1bmRlciB0aGUgYW1vdW50IGVxdWFsIHRvIHZhbHVlIHRpbWVzIGNwczsgc2V0dGluZyB0byAwIGRpc2FibGVzIHRoZSBmdW5jdGlvbiBhbHRvZ2V0aGVyJyxcblx0XHQwLFxuXHRcdEluZmluaXR5LFxuXHQpLFxuXHRUb29sV2FyblBvczogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J1Rvb2x0aXAnLFxuXHRcdFsnVG9vbHRpcCBXYXJuaW5nIFBvc2l0aW9uIChMZWZ0KScsICdUb29sdGlwIFdhcm5pbmcgUG9zaXRpb24gKEJvdHRvbSknXSxcblx0XHQnUGxhY2VtZW50IG9mIHRoZSB3YXJuaW5nIGJveGVzJyxcblx0XHRmYWxzZSxcblx0XHRmdW5jdGlvbiAoKSB7IFRvZ2dsZVRvb2xXYXJuUG9zKCk7IH0sXG5cdCksXG5cdFRvb2x0aXBHcmltOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnVG9vbHRpcCcsXG5cdFx0WydHcmltb2lyZSBUb29sdGlwIEluZm9ybWF0aW9uIE9GRicsICdHcmltb2lyZSBUb29sdGlwIEluZm9ybWF0aW9uIE9OJ10sXG5cdFx0J0V4dHJhIGluZm9ybWF0aW9uIGluIHRvb2x0aXAgZm9yIGdyaW1vaXJlJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sdGlwV3Jpbms6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ1dyaW5rbGVyIFRvb2x0aXAgT0ZGJywgJ1dyaW5rbGVyIFRvb2x0aXAgT04nXSxcblx0XHQnU2hvd3MgdGhlIGFtb3VudCBvZiBjb29raWVzIGEgd3JpbmtsZXIgd2lsbCBnaXZlIHdoZW4gcG9wcGluZyBpdCcsXG5cdFx0dHJ1ZSxcblx0KSxcblx0VG9vbHRpcEx1bXA6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ1N1Z2FyIEx1bXAgVG9vbHRpcCBPRkYnLCAnU3VnYXIgTHVtcCBUb29sdGlwIE9OJ10sXG5cdFx0J1Nob3dzIHRoZSBjdXJyZW50IFN1Z2FyIEx1bXAgdHlwZSBpbiBTdWdhciBsdW1wIHRvb2x0aXAuJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sdGlwUGxvdHM6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ0dhcmRlbiBQbG90cyBUb29sdGlwIE9GRicsICdHYXJkZW4gUGxvdHMgVG9vbHRpcCBPTiddLFxuXHRcdCdTaG93cyBhIHRvb2x0aXAgZm9yIHBsYW50cyB0aGF0IGhhdmUgYSBjb29raWUgcmV3YXJkLicsXG5cdFx0dHJ1ZSxcblx0KSxcblx0RHJhZ29uQXVyYUluZm86IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdUb29sdGlwJyxcblx0XHRbJ0V4dHJhIERyYWdvbiBBdXJhIEluZm8gT0ZGJywgJ0V4dHJhIERyYWdvbiBBdXJhIEluZm8gT04nXSxcblx0XHQnU2hvd3MgaW5mb3JtYXRpb24gYWJvdXQgY2hhbmdlcyBpbiBDUFMgYW5kIGNvc3RzIGluIHRoZSBkcmFnb24gYXVyYSBpbnRlcmZhY2UuJyxcblx0XHR0cnVlLFxuXHQpLFxuXHRUb29sdGlwQXNjZW5kQnV0dG9uOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnVG9vbHRpcCcsXG5cdFx0WydTaG93IEV4dHJhIEluZm8gQXNjZW5kIFRvb2x0aXAgT0ZGJywgJ1Nob3cgRXh0cmEgSW5mbyBBc2NlbmQgVG9vbHRpcCBPTiddLFxuXHRcdCdTaG93cyBhZGRpdGlvbmFsIGluZm8gaW4gdGhlIGFzY2VuZCB0b29sdGlwJyxcblx0XHR0cnVlLFxuXHQpLFxuXG5cdC8vIFN0YXRpc3RpY3Ncblx0U3RhdHM6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdTdGF0aXN0aWNzJyxcblx0XHRbJ1N0YXRpc3RpY3MgT0ZGJywgJ1N0YXRpc3RpY3MgT04nXSxcblx0XHQnRXh0cmEgQ29va2llIE1vbnN0ZXIgc3RhdGlzdGljcyEnLFxuXHRcdHRydWUsXG5cdCksXG5cdE1pc3NpbmdVcGdyYWRlczogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J1N0YXRpc3RpY3MnLFxuXHRcdFsnTWlzc2luZyBVcGdyYWRlcyBPRkYnLCAnTWlzc2luZyBVcGdyYWRlcyBPTiddLFxuXHRcdCdTaG93cyBNaXNzaW5nIHVwZ3JhZGVzIGluIFN0YXRzIE1lbnUuIFRoaXMgZmVhdHVyZSBjYW4gYmUgbGFnZ3kgZm9yIHVzZXJzIHdpdGggYSBsb3cgYW1vdW50IG9mIHVubG9ja2VkIGFjaGlldmVtZW50cy4nLFxuXHRcdHRydWUsXG5cdCksXG5cdFVwU3RhdHM6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdTdGF0aXN0aWNzJyxcblx0XHRbJ1N0YXRpc3RpY3MgVXBkYXRlIFJhdGUgKERlZmF1bHQpJywgJ1N0YXRpc3RpY3MgVXBkYXRlIFJhdGUgKDFzKSddLFxuXHRcdCdEZWZhdWx0IEdhbWUgcmF0ZSBpcyBvbmNlIGV2ZXJ5IDUgc2Vjb25kcycsXG5cdFx0ZmFsc2UsXG5cdCksXG5cdFRpbWVGb3JtYXQ6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdTdGF0aXN0aWNzJyxcblx0XHRbJ1RpbWUgWFhkLCBYWGgsIFhYbSwgWFhzJywgJ1RpbWUgWFg6WFg6WFg6WFg6WFgnXSxcblx0XHQnQ2hhbmdlIHRoZSB0aW1lIGZvcm1hdCcsXG5cdFx0ZmFsc2UsXG5cdCksXG5cdERldGFpbGVkVGltZTogbmV3IFNldHRpbmdTdGFuZGFyZChcblx0XHQnYm9vbCcsXG5cdFx0J1N0YXRpc3RpY3MnLFxuXHRcdFsnRGV0YWlsZWQgVGltZSBPRkYnLCAnRGV0YWlsZWQgVGltZSBPTiddLFxuXHRcdCdDaGFuZ2UgaG93IHRpbWUgaXMgZGlzcGxheWVkIGluIGNlcnRhaW4gc3RhdGlzdGljcyBhbmQgdG9vbHRpcHMnLFxuXHRcdHRydWUsXG5cdFx0ZnVuY3Rpb24gKCkgeyBUb2dnbGVEZXRhaWxlZFRpbWUoKTsgfSxcblx0KSxcblx0R3JpbW9pcmVCYXI6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdTdGF0aXN0aWNzJyxcblx0XHRbJ0dyaW1vaXJlIE1hZ2ljIE1ldGVyIFRpbWVyIE9GRicsICdHcmltb2lyZSBNYWdpYyBNZXRlciBUaW1lciBPTiddLFxuXHRcdCdBIHRpbWVyIG9uIGhvdyBsb25nIGJlZm9yZSB0aGUgR3JpbW9pcmUgbWFnaWMgbWV0ZXIgaXMgZnVsbCcsXG5cdFx0dHJ1ZSxcblx0KSxcblx0SGVhdmVubHlDaGlwc1RhcmdldDogbmV3IFNldHRpbmdJbnB1dE51bWJlcihcblx0XHQnbnVtc2NhbGUnLFxuXHRcdCdTdGF0aXN0aWNzJyxcblx0XHQnSGVhdmVubHkgQ2hpcHMgVGFyZ2V0OiAnLFxuXHRcdCdVc2UgdGhpcyB0byBzZXQgYSBIZWF2ZW5seSBDaGlwcyB0YXJnZXQgdGhhdCB3aWxsIGJlIGNvdW50ZWQgdG93YXJkcyBpbiB0aGUgXCJwcmVzdGlnZVwiIHN0YXRzaXN0aWNzIHNlY3Rpb25zJyxcblx0XHQxLFxuXHRcdEluZmluaXR5LFxuXHQpLFxuXHRTaG93TWlzc2VkR0M6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdTdGF0aXN0aWNzJyxcblx0XHRbJ01pc3NlZCBHQyBPRkYnLCAnTWlzc2VkIEdDIE9OJ10sXG5cdFx0J1Nob3cgYSBzdGF0IGluIHRoZSBzdGF0aXN0aWNzIHNjcmVlbiB0aGF0IGNvdW50cyBob3cgbWFueSBHb2xkZW4gQ29va2llcyB5b3UgaGF2ZSBtaXNzZWQnLFxuXHRcdHRydWUsXG5cdCksXG5cblx0Ly8gTm90YXRpb25cblx0U2NhbGU6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RhdGlvbicsXG5cdFx0WydHYW1lXFwncyBTZXR0aW5nIFNjYWxlJywgJ01ldHJpYycsICdTaG9ydCBTY2FsZScsICdTaG9ydCBTY2FsZSAoQWJicmV2aWF0ZWQpJywgJ1NjaWVudGlmaWMgTm90YXRpb24nLCAnRW5naW5lZXJpbmcgTm90YXRpb24nXSxcblx0XHQnQ2hhbmdlIGhvdyBsb25nIG51bWJlcnMgYXJlIGhhbmRsZWQnLFxuXHRcdGZhbHNlLFxuXHRcdGZ1bmN0aW9uICgpIHsgUmVmcmVzaFNjYWxlKCk7IH0sXG5cdCksXG5cdFNjYWxlRGVjaW1hbHM6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RhdGlvbicsXG5cdFx0WycxIGRlY2ltYWxzJywgJzIgZGVjaW1hbHMnLCAnMyBkZWNpbWFscyddLFxuXHRcdCdTZXQgdGhlIG51bWJlciBvZiBkZWNpbWFscyB1c2VkIHdoZW4gYXBwbGljYWJsZScsXG5cdFx0ZmFsc2UsXG5cdFx0ZnVuY3Rpb24gKCkgeyBSZWZyZXNoU2NhbGUoKTsgfSxcblx0KSxcblx0U2NhbGVTZXBhcmF0b3I6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdOb3RhdGlvbicsXG5cdFx0WycuIGZvciBkZWNpbWFscyAoU3RhbmRhcmQpJywgJy4gZm9yIHRob3VzYW5kcyddLFxuXHRcdCdTZXQgdGhlIHNlcGFyYXRvciB1c2VkIGZvciBkZWNpbWFscyBhbmQgdGhvdXNhbmRzJyxcblx0XHRmYWxzZSxcblx0XHRmdW5jdGlvbiAoKSB7IFJlZnJlc2hTY2FsZSgpOyB9LFxuXHQpLFxuXHRTY2FsZUN1dG9mZjogbmV3IFNldHRpbmdJbnB1dE51bWJlcihcblx0XHQnbnVtc2NhbGUnLFxuXHRcdCdOb3RhdGlvbicsXG5cdFx0J05vdGF0aW9uIEN1dC1vZmYgUG9pbnQ6ICcsXG5cdFx0J1RoZSBudW1iZXIgZnJvbSB3aGljaCBDb29raWVNb25zdGVyIHdpbGwgc3RhcnQgZm9ybWF0dGluZyBudW1iZXJzIGJhc2VkIG9uIGNob3NlbiBzY2FsZS4gU3RhbmRhcmQgaXMgOTk5LDk5OS4gU2V0dGluZyB0aGlzIGFib3ZlIDk5OSw5OTksOTk5IG1pZ2h0IGJyZWFrIGNlcnRhaW4gbm90YXRpb25zJyxcblx0XHQxLFxuXHRcdDk5OTk5OTk5OSxcblx0KSxcblxuXHQvLyBNaXNjZWxsYW5lb3VzXG5cdEdDVGltZXI6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdNaXNjZWxsYW5lb3VzJyxcblx0XHRbJ0dvbGRlbiBDb29raWUgVGltZXIgT0ZGJywgJ0dvbGRlbiBDb29raWUgVGltZXIgT04nXSxcblx0XHQnQSB0aW1lciBvbiB0aGUgR29sZGVuIENvb2tpZSB3aGVuIGl0IGhhcyBiZWVuIHNwYXduZWQnLFxuXHRcdHRydWUsXG5cdFx0ZnVuY3Rpb24gKCkgeyBUb2dnbGVHQ1RpbWVyKCk7IH0sXG5cdCksXG5cdEZhdmljb246IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdNaXNjZWxsYW5lb3VzJyxcblx0XHRbJ0Zhdmljb24gT0ZGJywgJ0Zhdmljb24gT04nXSxcblx0XHQnVXBkYXRlIGZhdmljb24gd2l0aCBHb2xkZW4vV3JhdGggQ29va2llJyxcblx0XHR0cnVlLFxuXHRcdGZ1bmN0aW9uICgpIHsgVXBkYXRlRmF2aWNvbigpOyB9LFxuXHQpLFxuXHRXcmlua2xlckJ1dHRvbnM6IG5ldyBTZXR0aW5nU3RhbmRhcmQoXG5cdFx0J2Jvb2wnLFxuXHRcdCdNaXNjZWxsYW5lb3VzJyxcblx0XHRbJ0V4dHJhIEJ1dHRvbnMgT0ZGJywgJ0V4dHJhIEJ1dHRvbnMgT04nXSxcblx0XHQnU2hvdyBidXR0b25zIGZvciBwb3BwaW5nIHdyaW5rbGVycyBhdCBib3R0b20gb2YgY29va2llIHNlY3Rpb24nLFxuXHRcdHRydWUsXG5cdFx0ZnVuY3Rpb24gKCkgeyBUb2dnbGVXcmlua2xlckJ1dHRvbnMoKTsgfSxcblx0KSxcblx0QnVsa0J1eUJsb2NrOiBuZXcgU2V0dGluZ1N0YW5kYXJkKFxuXHRcdCdib29sJyxcblx0XHQnTWlzY2VsbGFuZW91cycsXG5cdFx0WydCbG9jayBCdWxrIEJ1eWluZyBPRkYnLCAnQmxvY2sgQnVsayBCdXlpbmcgT04nXSxcblx0XHRcIkJsb2NrIGNsaWNraW5nIGJ1bGsgYnV5aW5nIHdoZW4geW91IGNhbid0IGJ1eSBhbGwuIFRoaXMgcHJldmVudHMgYnV5aW5nIDcgb2YgYSBidWlsZGluZyB3aGVuIHlvdSBhcmUgaW4gYnV5LTEwIG9yIGJ1eS0xMDAgbW9kZS5cIixcblx0XHR0cnVlLFxuXHQpLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgVmVyc2lvbk1ham9yLCBWZXJzaW9uTWlub3IgfSBmcm9tICcuLi9EYXRhL01vZGRhdGEnO1xuXG4vKipcbiAqIFRoaXMgY3JlYXRlcyBhIHNhdmUgZnVuY3Rpb24gdG8gdGhlIENNIG9iamVjdC4gUGVyIEdhbWUgY29kZS9jb21tZW50czpcbiAqIFwidXNlIHRoaXMgdG8gc3RvcmUgcGVyc2lzdGVudCBkYXRhIGFzc29jaWF0ZWQgd2l0aCB5b3VyIG1vZFxuICogcmV0dXJuICdhIHN0cmluZyB0byBiZSBzYXZlZCc7XCJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2F2ZSgpIHtcblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcblx0XHRzZXR0aW5nczogQ01PcHRpb25zLFxuXHRcdHZlcnNpb246IGAke1ZlcnNpb25NYWpvcn0uJHtWZXJzaW9uTWlub3J9YCxcblx0fSk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgU2ltT2JqZWN0cyB9IGZyb20gJy4uLy4uL1NpbS9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENhY2hlQ3VycldyaW5rbGVyQ291bnQsIENhY2hlQ3VycldyaW5rbGVyQ1BTTXVsdCB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGNhY2hlcyB0aGUgY3VycmVudCBXcmlua2xlciBDUFMgbXVsdGlwbGllclxuICogQGdsb2JhbFx0e251bWJlcn1cdENNLkNhY2hlLkN1cnJXcmlua2xlckNvdW50XHRcdEN1cnJlbnQgbnVtYmVyIG9mIHdyaW5rbGVyc1xuICogQGdsb2JhbFx0e251bWJlcn1cdENNLkNhY2hlLkN1cnJXcmlua2xlckNQU011bHRcdEN1cnJlbnQgbXVsdGlwbGllciBvZiBDUFMgYmVjYXVzZSBvZiB3cmlua2xlcnMgKGV4Y2x1ZGluZyB0aGVpciBuZWdhdGl2ZSBzdWNraW5nIGVmZmVjdClcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FjaGVDdXJyV3JpbmtsZXJDUFMoKSB7XG5cdENhY2hlQ3VycldyaW5rbGVyQ1BTTXVsdCA9IDA7XG5cdGxldCBjb3VudCA9IDA7XG5cdGZvciAoY29uc3QgaSBpbiBHYW1lLndyaW5rbGVycykge1xuXHRcdGlmIChHYW1lLndyaW5rbGVyc1tpXS5waGFzZSA9PT0gMikgY291bnQrKztcblx0fVxuXHRsZXQgZ29kTXVsdCA9IDE7XG5cdGlmIChTaW1PYmplY3RzLlRlbXBsZS5taW5pZ2FtZUxvYWRlZCkge1xuXHRcdGNvbnN0IGdvZEx2bCA9IEdhbWUuaGFzR29kKCdzY29ybicpO1xuXHRcdGlmIChnb2RMdmwgPT09IDEpIGdvZE11bHQgKj0gMS4xNTtcblx0XHRlbHNlIGlmIChnb2RMdmwgPT09IDIpIGdvZE11bHQgKj0gMS4xO1xuXHRcdGVsc2UgaWYgKGdvZEx2bCA9PT0gMykgZ29kTXVsdCAqPSAxLjA1O1xuXHR9XG5cdENhY2hlQ3VycldyaW5rbGVyQ291bnQgPSBjb3VudDtcblx0Q2FjaGVDdXJyV3JpbmtsZXJDUFNNdWx0ID0gY291bnQgKiAoY291bnQgKiAwLjA1ICogMS4xKSAqIChHYW1lLkhhcygnU2FjcmlsZWdpb3VzIGNvcnJ1cHRpb24nKSAqIDAuMDUgKyAxKSAqIChHYW1lLkhhcygnV3JpbmtsZXJzcGF3bicpICogMC4wNSArIDEpICogZ29kTXVsdDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgeyBGb3JtYXRUaW1lIH0gZnJvbSAnLi4vRGlzcC9CZWF1dGlmeUFuZEZvcm1hdHRpbmcvQmVhdXRpZnlGb3JtYXR0aW5nJztcbmltcG9ydCBHZXRDUFMgZnJvbSAnLi4vRGlzcC9IZWxwZXJGdW5jdGlvbnMvR2V0Q1BTJztcbmltcG9ydCBDYWNoZUF2Z0NQUyBmcm9tICcuL0NQUy9DUFMnO1xuaW1wb3J0IENhY2hlQ3VycldyaW5rbGVyQ1BTIGZyb20gJy4vQ1BTL0N1cnJXcmlua2xlckNQUyc7XG5pbXBvcnQgQ2FjaGVQUCBmcm9tICcuL1BQL1BQJztcbmltcG9ydCBDYWNoZUhlYXZlbmx5Q2hpcHNQUyBmcm9tICcuL1N0YXRzL0hlYXZlbmx5Q2hpcHMnO1xuaW1wb3J0IHsgQ2FjaGVUaW1lVGlsbE5leHRQcmVzdGlnZSB9IGZyb20gJy4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgQ2FjaGVXcmlua2xlcnMgZnJvbSAnLi9Xcmlua2xlcnMvV3JpbmtsZXJzJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjYWNoZXMgdmFyaWFibGVzIHRoYXQgYXJlIG5lZWRlZCBldmVyeSBsb29wXG4gKiBAZ2xvYmFsXHR7c3RyaW5nfVx0Q00uQ2FjaGUuVGltZVRpbGxOZXh0UHJlc3RpZ2VcdFRpbWUgcmVxdXJpZWQgdGlsbCBuZXh0IHByZXN0aWdlIGxldmVsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExvb3BDYWNoZSgpIHtcblx0Ly8gVXBkYXRlIFdyaW5rbGVyIEJhbmtcblx0Q2FjaGVXcmlua2xlcnMoKTtcblxuXHRDYWNoZVBQKCk7XG5cdENhY2hlQ3VycldyaW5rbGVyQ1BTKCk7XG5cdENhY2hlQXZnQ1BTKCk7XG5cdENhY2hlSGVhdmVubHlDaGlwc1BTKCk7XG5cblx0Y29uc3QgY29va2llc1RvTmV4dCA9IEdhbWUuSG93TWFueUNvb2tpZXNSZXNldChNYXRoLmZsb29yKEdhbWUuSG93TXVjaFByZXN0aWdlKEdhbWUuY29va2llc1Jlc2V0ICsgR2FtZS5jb29raWVzRWFybmVkKSkgKyAxKSAtIChHYW1lLmNvb2tpZXNFYXJuZWQgKyBHYW1lLmNvb2tpZXNSZXNldCk7XG5cdENhY2hlVGltZVRpbGxOZXh0UHJlc3RpZ2UgPSBGb3JtYXRUaW1lKGNvb2tpZXNUb05leHQgLyBHZXRDUFMoKSk7XG59XG4iLCJpbXBvcnQgQ29weURhdGEgZnJvbSAnLi4vU2ltdWxhdGlvbkRhdGEvQ29weURhdGEnO1xuaW1wb3J0IHsgU2ltQ29va2llc1BzLCBTaW1VcGdyYWRlcyB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IENhbGN1bGF0ZUdhaW5zIGZyb20gJy4vQ2FsY3VsYXRlR2FpbnMnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBDUFMgd2l0aG91dCB0aGUgR29sZGVuIFN3aXRjaFxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkNhY2hlLk5vR29sZFN3aXRjaENQUygpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbGNOb0dvbGRTd2l0Y2hDUFMoKSB7XG5cdENvcHlEYXRhKCk7XG5cdFNpbVVwZ3JhZGVzWydHb2xkZW4gc3dpdGNoIFtvZmZdJ10uYm91Z2h0ID0gMDtcblx0Q2FsY3VsYXRlR2FpbnMoKTtcblx0cmV0dXJuIFNpbUNvb2tpZXNQcztcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgQ2FsY05vR29sZFN3aXRjaENQUyBmcm9tICcuLi8uLi9TaW0vQ2FsY3VsYXRpb25zL05vR29sZGVuU3dpdGNoQ2FsYyc7XG5pbXBvcnQgeyBDYWNoZU5vR29sZFN3aXRjaENvb2tpZXNQUyB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBDUFMgd2l0aG91dCB0aGUgR29sZGVuIFN3aXRjaCBhcyBpdCBtaWdodCBiZSBuZWVkZWQgaW4gb3RoZXIgZnVuY3Rpb25zXG4gKiBJZiBzbyBpdCBDTS5TaW0uV2luKCkncyB0aGVtIGFuZCB0aGUgY2FsbGVyIGZ1bmN0aW9uIHdpbGwga25vdyB0byByZWNhbGwgQ00uU2ltLkNhbGN1bGF0ZUdhaW5zKClcbiAqIEl0IGlzIGNhbGxlZCBhdCB0aGUgZW5kIG9mIGFueSBmdW5jdGlvbnMgdGhhdCBzaW11bGF0ZXMgY2VydGFpbiBiZWhhdmlvdXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FjaGVOb0dvbGRTd2l0Y2hDUFMoKSB7XG5cdGlmIChHYW1lLkhhcygnR29sZGVuIHN3aXRjaCBbb2ZmXScpKSB7XG5cdFx0Q2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMgPSBDYWxjTm9Hb2xkU3dpdGNoQ1BTKCk7XG5cdH0gZWxzZSBDYWNoZU5vR29sZFN3aXRjaENvb2tpZXNQUyA9IEdhbWUuY29va2llc1BzO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCBDb3B5RGF0YSBmcm9tICcuLi9TaW11bGF0aW9uRGF0YS9Db3B5RGF0YSc7XG5pbXBvcnQge1xuXHRTaW1CdWlsZGluZ3NPd25lZCwgU2ltRHJhZ29uQXVyYSwgU2ltRHJhZ29uQXVyYTIsIFNpbU9iamVjdHMsXG59IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEJ1aWxkaW5nU2VsbCBmcm9tICcuL1NlbGxCdWlsZGluZyc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSBtYXhpbXVtIGNvb2tpZXMgb2J0YWluZWQgZnJvbSBzZWxsaW5nIGJ1aWxkaW5ncyBqdXN0IGJlZm9yZSBwdXJjaGFzaW5nIHRoZSBjaG9jb2xhdGUgZWdnXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ2FjaGUuQ2FjaGVTZWxsRm9yQ2hvRWdnKClcbiAqIEByZXR1cm5zXHR7bnVtYmVyfVx0c2VsbFRvdGFsXHRUaGUgbWF4aW11bSBjb29raWVzIHRvIGJlIGVhcm5lZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxsQnVpbGRpbmdzRm9yQ2hvRWdnKCkge1xuXHRsZXQgc2VsbFRvdGFsID0gMDtcblxuXHRDb3B5RGF0YSgpO1xuXG5cdC8vIENoYW5nZSBhdXJhcyB0byBFYXJ0aCBTaGF0dGVyZXIgKyBSZWFsaXR5IGJlbmRpbmcgdG8gb3B0aW1pemUgbW9uZXkgbWFkZSBieSBzZWxsaW5nXG5cdGxldCBidWlsZGluZ3NUb1NhY3JpZmljZSA9IDI7XG5cdGlmIChTaW1EcmFnb25BdXJhID09PSA1IHx8IFNpbURyYWdvbkF1cmEgPT09IDE4KSB7XG5cdFx0LS1idWlsZGluZ3NUb1NhY3JpZmljZTtcblx0fVxuXHRpZiAoU2ltRHJhZ29uQXVyYTIgPT09IDUgfHwgU2ltRHJhZ29uQXVyYTIgPT09IDE4KSB7XG5cdFx0LS1idWlsZGluZ3NUb1NhY3JpZmljZTtcblx0fVxuXHRTaW1EcmFnb25BdXJhID0gNTtcblx0U2ltRHJhZ29uQXVyYTIgPSAxODtcblxuXHQvLyBTYWNyaWZpY2UgaGlnaGVzdCBidWlsZGluZ3MgZm9yIHRoZSBhdXJhIHN3aXRjaFxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGJ1aWxkaW5nc1RvU2FjcmlmaWNlOyArK2kpIHtcblx0XHRsZXQgaGlnaGVzdEJ1aWxkaW5nID0gMDtcblx0XHRmb3IgKGNvbnN0IGogaW4gU2ltT2JqZWN0cykge1xuXHRcdFx0aWYgKFNpbU9iamVjdHNbal0uYW1vdW50ID4gMCkge1xuXHRcdFx0XHRoaWdoZXN0QnVpbGRpbmcgPSBTaW1PYmplY3RzW2pdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRoaWdoZXN0QnVpbGRpbmcuYW1vdW50LS07XG5cdFx0U2ltQnVpbGRpbmdzT3duZWQtLTtcblx0fVxuXG5cdC8vIEdldCBtb25leSBtYWRlIGJ5IHNlbGxpbmcgYWxsIHJlbWFpbmluZyBidWlsZGluZ3Ncblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKFNpbU9iamVjdHMpKSB7XG5cdFx0Y29uc3QgbWUgPSBTaW1PYmplY3RzW2ldO1xuXHRcdHNlbGxUb3RhbCArPSBCdWlsZGluZ1NlbGwoR2FtZS5PYmplY3RzW21lLm5hbWVdLCBHYW1lLk9iamVjdHNbaV0uYmFzZVByaWNlLCBtZS5hbW91bnQsIEdhbWUuT2JqZWN0c1tpXS5mcmVlLCBtZS5hbW91bnQpO1xuXHR9XG5cblx0cmV0dXJuIHNlbGxUb3RhbDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgU2VsbEJ1aWxkaW5nc0ZvckNob0VnZyBmcm9tICcuLi8uLi9TaW0vU2ltdWxhdGlvbkV2ZW50cy9TZWxsQnVpbGRpbmdGb3JDaG9FZ2cnO1xuaW1wb3J0IHsgQ2FjaGVTZWxsRm9yQ2hvRWdnIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHRoZSByZXdhcmQgZm9yIHNlbGxpbmcgdGhlIENob2NvbGF0ZSBlZ2dcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5NYWluLkxvb3AoKVxuICogQGdsb2JhbFx0e251bWJlcn1cdENNLkNhY2hlLlNlbGxGb3JDaG9FZ2dcdFRvdGFsIGNvb2tpZXMgdG8gYmUgZ2FpbmVkIGZyb20gc2VsbGluZyBDaG9jb2xhdGUgZWdnXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhY2hlU2VsbEFsbEZvckNob0VnZygpIHtcblx0bGV0IHNlbGxUb3RhbCA9IDA7XG5cdC8vIENvbXB1dGUgY29va2llcyBlYXJuZWQgYnkgc2VsbGluZyBzdG9jayBtYXJrZXQgZ29vZHNcblx0aWYgKEdhbWUuT2JqZWN0cy5CYW5rLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0Y29uc3QgbWFya2V0R29vZHMgPSBHYW1lLk9iamVjdHMuQmFuay5taW5pZ2FtZS5nb29kcztcblx0XHRsZXQgZ29vZHNWYWwgPSAwO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhtYXJrZXRHb29kcykpIHtcblx0XHRcdGNvbnN0IG1hcmtldEdvb2QgPSBtYXJrZXRHb29kc1tpXTtcblx0XHRcdGdvb2RzVmFsICs9IG1hcmtldEdvb2Quc3RvY2sgKiBtYXJrZXRHb29kLnZhbDtcblx0XHR9XG5cdFx0c2VsbFRvdGFsICs9IGdvb2RzVmFsICogR2FtZS5jb29raWVzUHNSYXdIaWdoZXN0O1xuXHR9XG5cdC8vIENvbXB1dGUgY29va2llcyBlYXJuZWQgYnkgc2VsbGluZyBhbGwgYnVpbGRpbmdzIHdpdGggb3B0aW1hbCBhdXJhcyAoRVMgKyBSQilcblx0c2VsbFRvdGFsICs9IFNlbGxCdWlsZGluZ3NGb3JDaG9FZ2coKTtcblx0Q2FjaGVTZWxsRm9yQ2hvRWdnID0gc2VsbFRvdGFsO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qKiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgRHJhZ29uICovXG5cbmltcG9ydCB7IEJlYXV0aWZ5IH0gZnJvbSAnLi4vLi4vRGlzcC9CZWF1dGlmeUFuZEZvcm1hdHRpbmcvQmVhdXRpZnlGb3JtYXR0aW5nJztcbmltcG9ydCBDb3B5RGF0YSBmcm9tICcuLi8uLi9TaW0vU2ltdWxhdGlvbkRhdGEvQ29weURhdGEnO1xuaW1wb3J0IHsgU2ltRG9TaW1zLCBTaW1PYmplY3RzIH0gZnJvbSAnLi4vLi4vU2ltL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHtcblx0Q2FjaGVDb3N0RHJhZ29uVXBncmFkZSwgQ2FjaGVEcmFnb25BdXJhLCBDYWNoZURyYWdvbkF1cmEyLCBDYWNoZUxhc3REcmFnb25MZXZlbCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgY2FjaGVzIHRoZSBjdXJyZW50IGNvc3Qgb2YgdXBncmFkaW5nIHRoZSBkcmFnb24gbGV2ZWwgc28gaXQgY2FuIGJlIGRpc3BsYXllZCBpbiB0aGUgdG9vbHRpcFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYWNoZURyYWdvbkNvc3QoKSB7XG5cdGlmIChDYWNoZUxhc3REcmFnb25MZXZlbCAhPT0gR2FtZS5kcmFnb25MZXZlbCB8fCBTaW1Eb1NpbXMpIHtcblx0XHRpZiAoR2FtZS5kcmFnb25MZXZlbCA8IDI1ICYmIEdhbWUuZHJhZ29uTGV2ZWxzW0dhbWUuZHJhZ29uTGV2ZWxdLmJ1eS50b1N0cmluZygpLmluY2x1ZGVzKCdzYWNyaWZpY2UnKSkge1xuXHRcdFx0bGV0IHRhcmdldCA9IEdhbWUuZHJhZ29uTGV2ZWxzW0dhbWUuZHJhZ29uTGV2ZWxdLmJ1eS50b1N0cmluZygpLm1hdGNoKC9PYmplY3RzXFxbKC4qKVxcXS8pWzFdO1xuXHRcdFx0Y29uc3QgYW1vdW50ID0gR2FtZS5kcmFnb25MZXZlbHNbR2FtZS5kcmFnb25MZXZlbF0uYnV5LnRvU3RyaW5nKCkubWF0Y2goL3NhY3JpZmljZVxcKCguKj8pXFwpLylbMV07XG5cdFx0XHRpZiAodGFyZ2V0ICE9PSAnaScpIHtcblx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0LnJlcGxhY2VBbGwoXCInXCIsICcnKTtcblx0XHRcdFx0aWYgKEdhbWUuT2JqZWN0c1t0YXJnZXRdLmFtb3VudCA8IGFtb3VudCkge1xuXHRcdFx0XHRcdENhY2hlQ29zdERyYWdvblVwZ3JhZGUgPSAnTm90IGVub3VnaCBidWlsZGluZ3MgdG8gc2VsbCc7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGV0IGNvc3QgPSAwO1xuXHRcdFx0XHRcdENvcHlEYXRhKCk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuXHRcdFx0XHRcdFx0bGV0IHByaWNlID0gU2ltT2JqZWN0c1t0YXJnZXRdLmJhc2VQcmljZSAqIEdhbWUucHJpY2VJbmNyZWFzZSAqKiBNYXRoLm1heCgwLCBTaW1PYmplY3RzW3RhcmdldF0uYW1vdW50IC0gMSAtIFNpbU9iamVjdHNbdGFyZ2V0XS5mcmVlKTtcblx0XHRcdFx0XHRcdHByaWNlID0gR2FtZS5tb2RpZnlCdWlsZGluZ1ByaWNlKFNpbU9iamVjdHNbdGFyZ2V0XSwgcHJpY2UpO1xuXHRcdFx0XHRcdFx0cHJpY2UgPSBNYXRoLmNlaWwocHJpY2UpO1xuXHRcdFx0XHRcdFx0Y29zdCArPSBwcmljZTtcblx0XHRcdFx0XHRcdFNpbU9iamVjdHNbdGFyZ2V0XS5hbW91bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Q2FjaGVDb3N0RHJhZ29uVXBncmFkZSA9IGBDb3N0IHRvIHJlYnV5OiAkeyhjb3N0KX1gO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZXQgY29zdCA9IDA7XG5cdFx0XHRcdENvcHlEYXRhKCk7XG5cdFx0XHRcdGZvciAoY29uc3QgaiBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHMpKSB7XG5cdFx0XHRcdFx0dGFyZ2V0ID0gajtcblx0XHRcdFx0XHRpZiAoR2FtZS5PYmplY3RzW3RhcmdldF0uYW1vdW50IDwgYW1vdW50KSB7XG5cdFx0XHRcdFx0XHRDYWNoZUNvc3REcmFnb25VcGdyYWRlID0gJ05vdCBlbm91Z2ggYnVpbGRpbmdzIHRvIHNlbGwnO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcblx0XHRcdFx0XHRcdFx0bGV0IHByaWNlID0gU2ltT2JqZWN0c1t0YXJnZXRdLmJhc2VQcmljZSAqIEdhbWUucHJpY2VJbmNyZWFzZSAqKiBNYXRoLm1heCgwLCBTaW1PYmplY3RzW3RhcmdldF0uYW1vdW50IC0gMSAtIFNpbU9iamVjdHNbdGFyZ2V0XS5mcmVlKTtcblx0XHRcdFx0XHRcdFx0cHJpY2UgPSBHYW1lLm1vZGlmeUJ1aWxkaW5nUHJpY2UoU2ltT2JqZWN0c1t0YXJnZXRdLCBwcmljZSk7XG5cdFx0XHRcdFx0XHRcdHByaWNlID0gTWF0aC5jZWlsKHByaWNlKTtcblx0XHRcdFx0XHRcdFx0Y29zdCArPSBwcmljZTtcblx0XHRcdFx0XHRcdFx0U2ltT2JqZWN0c1t0YXJnZXRdLmFtb3VudC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRDYWNoZUNvc3REcmFnb25VcGdyYWRlID0gYENvc3QgdG8gcmVidXk6ICR7QmVhdXRpZnkoY29zdCl9YDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRDYWNoZUxhc3REcmFnb25MZXZlbCA9IEdhbWUuZHJhZ29uTGV2ZWw7XG5cdH1cbn1cbiIsImltcG9ydCB7IFRvZ2dsZVRpbWVyQmFyIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1NwZWNpZmljVG9nZ2xlcyc7XG5pbXBvcnQgVG9nZ2xlQm90QmFyIGZyb20gJy4uLy4uL0NvbmZpZy9Ub2dnbGVzL1RvZ2dsZUJvdEJhcic7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgVXBkYXRlQmFja2dyb3VuZCBmcm9tICcuL1VwZGF0ZUJhY2tncm91bmQnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gZGlzYWJsZXMgYW5kIHNob3dzIHRoZSBiYXJzIGNyZWF0ZWQgYnkgQ29va2llTW9uc3RlciB3aGVuIHRoZSBnYW1lIGlzIFwiYXNjZW5kaW5nXCJcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5EaXNwLkRyYXcoKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVBc2NlbmRTdGF0ZSgpIHtcblx0aWYgKEdhbWUuT25Bc2NlbmQpIHtcblx0XHRsKCdnYW1lJykuc3R5bGUuYm90dG9tID0gJzBweCc7XG5cdFx0aWYgKENNT3B0aW9ucy5Cb3RCYXIgPT09IDEpIGwoJ0NNQm90QmFyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRpZiAoQ01PcHRpb25zLlRpbWVyQmFyID09PSAxKSBsKCdDTVRpbWVyQmFyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0fSBlbHNlIHtcblx0XHRUb2dnbGVCb3RCYXIoKTtcblx0XHRUb2dnbGVUaW1lckJhcigpO1xuXHR9XG5cdFVwZGF0ZUJhY2tncm91bmQoKTtcbn1cbiIsIi8qKiBGdW5jdGlvbnMgdXNlZCB0byBjcmVhdGUgc3RhdGljIG9iamVjdHMgb2YgQnVpbGRpbmdzLCBVcGdyYWRlcyBhbmQgQWNoaWV2ZW1lbnRzICovXG5cbmltcG9ydCBDb3B5RGF0YSBmcm9tICcuLi9TaW11bGF0aW9uRGF0YS9Db3B5RGF0YSc7XG5pbXBvcnQgeyBTaW1BY2hpZXZlbWVudHMsIFNpbU9iamVjdHMsIFNpbVVwZ3JhZGVzIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgSW5pdEFjaGlldmVtZW50IGZyb20gJy4vSW5pdEFjaGlldmVtZW50JztcbmltcG9ydCBJbml0aWFsQnVpbGRpbmdEYXRhIGZyb20gJy4vSW5pdGlhbEJ1aWxkaW5nRGF0YSc7XG5pbXBvcnQgSW5pdFVwZ3JhZGUgZnJvbSAnLi9Jbml0VXBncmFkZSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHN0YXRpYyBvYmplY3RzIGZvciBCdWlsZGluZ3MsIFVwZ3JhZGVzIGFuZCBBY2hpZXZlbWVudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5pdERhdGEoKSB7XG5cdC8vIEJ1aWxkaW5nc1xuXHRTaW1PYmplY3RzID0gW107XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHMpKSB7XG5cdFx0U2ltT2JqZWN0c1tpXSA9IEluaXRpYWxCdWlsZGluZ0RhdGEoaSk7XG5cdH1cblxuXHQvLyBVcGdyYWRlc1xuXHRTaW1VcGdyYWRlcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5VcGdyYWRlcykpIHtcblx0XHRTaW1VcGdyYWRlc1tpXSA9IEluaXRVcGdyYWRlKGkpO1xuXHR9XG5cblx0Ly8gQWNoaWV2ZW1lbnRzXG5cdFNpbUFjaGlldmVtZW50cyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5BY2hpZXZlbWVudHMpKSB7XG5cdFx0U2ltQWNoaWV2ZW1lbnRzW2ldID0gSW5pdEFjaGlldmVtZW50KGkpO1xuXHR9XG5cdENvcHlEYXRhKCk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cbi8qKiBWYXJpYWJsZSB0aGF0IHNob3dzIGlmIENvb2tpZSBNb29uc3RlciBpcyBpbml0emlhbGl6aW5nICovXG5leHBvcnQgbGV0IGlzSW5pdGlhbGl6aW5nID0gZmFsc2U7XG5leHBvcnQgbGV0IHRlc3Q7XG4iLCJpbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBpc0luaXRpYWxpemluZyB9IGZyb20gJy4uLy4uL0luaXRTYXZlTG9hZC9WYXJpYWJsZXMnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGZsYXNoIGRlcGVuZGluZyBvbiBjb25maWdzLiBJdCBpcyBjYWxsZWQgYnkgYWxsIGZ1bmN0aW9uc1xuICogdGhhdCBjaGVjayBnYW1lLWV2ZW50cyBhbmQgd2hpY2ggaGF2ZSBzZXR0aW5ncyBmb3IgRmxhc2hlcyAoZS5nLiwgR29sZGVuIENvb2tpZXMgYXBwZWFyaW5nLCBNYWdpYyBtZXRlciBiZWluZyBmdWxsKVxuICogQHBhcmFtXHR7bnVtYmVyfVx0bW9kZVx0U2V0cyB0aGUgaW50ZW5zaXR5IG9mIHRoZSBmbGFzaCwgdXNlZCB0byByZWN1cnNpdmVseSBkaW0gZmxhc2hcbiAqIFx0XHRcdFx0XHRcdFx0XHRBbGwgY2FsbHMgb2YgZnVuY3Rpb24gaGF2ZSB1c2UgbW9kZSA9PT0gM1xuICogQHBhcmFtXHR7c3RyaW5nfVx0Y29uZmlnXHRUaGUgc2V0dGluZyBpbiBDTS5PcHRpb25zIHRoYXQgaXMgY2hlY2tlZCBiZWZvcmUgY3JlYXRpbmcgdGhlIGZsYXNoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZsYXNoKG1vZGUsIGNvbmZpZykge1xuXHQvLyBUaGUgYXJndW1lbnRzIGNoZWNrIG1ha2VzIHRoZSBzb3VuZCBub3QgcGxheSB1cG9uIGluaXRpYWxpemF0aW9uIG9mIHRoZSBtb2Rcblx0aWYgKChDTU9wdGlvbnNbY29uZmlnXSA9PT0gMSAmJiBtb2RlID09PSAzICYmIGlzSW5pdGlhbGl6aW5nID09PSBmYWxzZSkgfHwgbW9kZSA9PT0gMSkge1xuXHRcdGwoJ0NNV2hpdGVTY3JlZW4nKS5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XG5cdFx0aWYgKG1vZGUgPT09IDMpIHtcblx0XHRcdGwoJ0NNV2hpdGVTY3JlZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgRmxhc2goMiwgY29uZmlnKTsgfSwgMTAwMCAvIEdhbWUuZnBzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7IEZsYXNoKDAsIGNvbmZpZyk7IH0sIDEwMDAgLyBHYW1lLmZwcyk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1vZGUgPT09IDIpIHtcblx0XHRsKCdDTVdoaXRlU2NyZWVuJykuc3R5bGUub3BhY2l0eSA9ICcxJztcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgRmxhc2goMSwgY29uZmlnKTsgfSwgMTAwMCAvIEdhbWUuZnBzKTtcblx0fSBlbHNlIGlmIChtb2RlID09PSAwKSBsKCdDTVdoaXRlU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cbiIsImltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IGlzSW5pdGlhbGl6aW5nIH0gZnJvbSAnLi4vLi4vSW5pdFNhdmVMb2FkL1ZhcmlhYmxlcyc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBwbGF5cyBhIHNvdW5kIGRlcGVuZGluZyBvbiBjb25maWdzLiBJdCBpcyBjYWxsZWQgYnkgYWxsIGZ1bmN0aW9uc1xuICogdGhhdCBjaGVjayBnYW1lLWV2ZW50cyBhbmQgd2hpY2ggaGF2ZSBzZXR0aW5ncyBmb3Igc291bmQgKGUuZy4sIEdvbGRlbiBDb29raWVzIGFwcGVhcmluZywgTWFnaWMgbWV0ZXIgYmVpbmcgZnVsbClcbiAqIEBwYXJhbVx0e3ZhcmlhYmxlfVx0dXJsXHRcdFx0QSB2YXJpYWJsZSB0aGF0IGdpdmVzIHRoZSB1cmwgZm9yIHRoZSBzb3VuZCAoZS5nLiwgQ00uT3B0aW9ucy5HQ1NvdW5kVVJMKVxuICogQHBhcmFtXHR7c3RyaW5nfVx0c25kQ29uZmlnXHRUaGUgc2V0dGluZyBpbiBDTS5PcHRpb25zIHRoYXQgaXMgY2hlY2tlZCBiZWZvcmUgY3JlYXRpbmcgdGhlIHNvdW5kXG4gKiBAcGFyYW1cdHtzdHJpbmd9XHR2b2xDb25maWdcdFRoZSBzZXR0aW5nIGluIENNLk9wdGlvbnMgdGhhdCBpcyBjaGVja2VkIHRvIGRldGVybWluZSB2b2x1bWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGxheVNvdW5kKHVybCwgc25kQ29uZmlnLCB2b2xDb25maWcpIHtcblx0Ly8gVGhlIGFyZ3VtZW50cyBjaGVjayBtYWtlcyB0aGUgc291bmQgbm90IHBsYXkgdXBvbiBpbml0aWFsaXphdGlvbiBvZiB0aGUgbW9kXG5cdGlmIChDTU9wdGlvbnNbc25kQ29uZmlnXSA9PT0gMSAmJiBpc0luaXRpYWxpemluZyA9PT0gZmFsc2UpIHtcblx0XHRjb25zdCBzb3VuZCA9IG5ldyByZWFsQXVkaW8odXJsKTtcblx0XHRpZiAoQ01PcHRpb25zLkdlbmVyYWxTb3VuZCkgc291bmQudm9sdW1lID0gKENNT3B0aW9uc1t2b2xDb25maWddIC8gMTAwKSAqIChHYW1lLnZvbHVtZSAvIDEwMCk7XG5cdFx0ZWxzZSBzb3VuZC52b2x1bWUgPSAoQ01PcHRpb25zW3ZvbENvbmZpZ10gLyAxMDApO1xuXHRcdHNvdW5kLnBsYXkoKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEZsYXNoIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9GbGFzaCc7XG5pbXBvcnQgUGxheVNvdW5kIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9Tb3VuZCc7XG5pbXBvcnQgeyBMYXN0R2FyZGVuTmV4dFN0ZXAgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiBhIGdhcmRlbiB0aWNrIGhhcyBoYXBwZW5lZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGVja0dhcmRlblRpY2soKSB7XG5cdGlmIChHYW1lLk9iamVjdHMuRmFybS5taW5pZ2FtZUxvYWRlZCAmJiBMYXN0R2FyZGVuTmV4dFN0ZXAgIT09IEdhbWUuT2JqZWN0cy5GYXJtLm1pbmlnYW1lLm5leHRTdGVwKSB7XG5cdFx0aWYgKExhc3RHYXJkZW5OZXh0U3RlcCAhPT0gMCAmJiBMYXN0R2FyZGVuTmV4dFN0ZXAgPCBEYXRlLm5vdygpKSB7XG5cdFx0XHRGbGFzaCgzLCAnR2FyZEZsYXNoJyk7XG5cdFx0XHRQbGF5U291bmQoQ01PcHRpb25zLkdhcmRTb3VuZFVSTCwgJ0dhcmRTb3VuZCcsICdHYXJkVm9sdW1lJyk7XG5cdFx0fVxuXHRcdExhc3RHYXJkZW5OZXh0U3RlcCA9IEdhbWUuT2JqZWN0cy5GYXJtLm1pbmlnYW1lLm5leHRTdGVwO1xuXHR9XG59XG4iLCIvKiogU2VjdGlvbjogRnVuY3Rpb25zIHJlbGF0ZWQgdG8gdGhlIEdvbGRlbiBDb29raWUgVGltZXJzICovXG5cbmltcG9ydCB7IEdDVGltZXJzIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgbmV3IEdvbGRlbiBDb29raWUgVGltZXIgYW5kIGFwcGVuZHMgaXQgQ00uRGlzcC5HQ1RpbWVycyBiYXNlZCBvbiB0aGUgaWQgb2YgdGhlIGNvb2tpZVxuICogQHBhcmFtXHR7b2JqZWN0fVx0Y29va2llXHRBIEdvbGRlbiBDb29raWUgb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZUdDVGltZXIoY29va2llKSB7XG5cdGNvbnN0IEdDVGltZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0R0NUaW1lci5pZCA9IGBHQ1RpbWVyJHtjb29raWUuaWR9YDtcblx0R0NUaW1lci5zdHlsZS53aWR0aCA9ICc5NnB4Jztcblx0R0NUaW1lci5zdHlsZS5oZWlnaHQgPSAnOTZweCc7XG5cdEdDVGltZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRHQ1RpbWVyLnN0eWxlLnpJbmRleCA9ICcxMDAwMDAwMDAwMSc7XG5cdEdDVGltZXIuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdEdDVGltZXIuc3R5bGUubGluZUhlaWdodCA9ICc5NnB4Jztcblx0R0NUaW1lci5zdHlsZS5mb250RmFtaWx5ID0gJ1wiS2F2b29uXCIsIEdlb3JnaWEsIHNlcmlmJztcblx0R0NUaW1lci5zdHlsZS5mb250U2l6ZSA9ICczNXB4Jztcblx0R0NUaW1lci5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG5cdEdDVGltZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdGlmIChDTS5PcHRpb25zLkdDVGltZXIgPT09IDApIEdDVGltZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0R0NUaW1lci5zdHlsZS5sZWZ0ID0gY29va2llLmwuc3R5bGUubGVmdDtcblx0R0NUaW1lci5zdHlsZS50b3AgPSBjb29raWUubC5zdHlsZS50b3A7XG5cdEdDVGltZXIub25jbGljayA9IGZ1bmN0aW9uICgpIHsgY29va2llLnBvcCgpOyB9O1xuXHRHQ1RpbWVyLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkgeyBjb29raWUubC5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcygxMjUlKSBkcm9wLXNoYWRvdygwcHggMHB4IDNweCByZ2JhKDI1NSwyNTUsMjU1LDEpKSc7IGNvb2tpZS5sLnN0eWxlLndlYmtpdEZpbHRlciA9ICdicmlnaHRuZXNzKDEyNSUpIGRyb3Atc2hhZG93KDBweCAwcHggM3B4IHJnYmEoMjU1LDI1NSwyNTUsMSkpJzsgfTtcblx0R0NUaW1lci5vbm1vdXNlb3V0ID0gZnVuY3Rpb24gKCkgeyBjb29raWUubC5zdHlsZS5maWx0ZXIgPSAnJzsgY29va2llLmwuc3R5bGUud2Via2l0RmlsdGVyID0gJyc7IH07XG5cblx0R0NUaW1lcnNbY29va2llLmlkXSA9IEdDVGltZXI7XG5cdGwoJ3NoaW1tZXJzJykuYXBwZW5kQ2hpbGQoR0NUaW1lcik7XG59XG4iLCIvKiogRnVuY3Rpb25zIHJlbGF0ZWQgdG8gdGhlIGZsYXNoZXMvc291bmQvbm90aWZpY2F0aW9ucyAqL1xuXG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBpc0luaXRpYWxpemluZyB9IGZyb20gJy4uLy4uL0luaXRTYXZlTG9hZC9WYXJpYWJsZXMnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIG5vdGlmY2F0aW9uIGRlcGVuZGluZyBvbiBjb25maWdzLiBJdCBpcyBjYWxsZWQgYnkgYWxsIGZ1bmN0aW9uc1xuICogdGhhdCBjaGVjayBnYW1lLWV2ZW50cyBhbmQgd2hpY2ggaGF2ZSBzZXR0aW5ncyBmb3Igbm90aWZpY2F0aW9ucyAoZS5nLiwgR29sZGVuIENvb2tpZXMgYXBwZWFyaW5nLCBNYWdpYyBtZXRlciBiZWluZyBmdWxsKVxuICogQHBhcmFtXHR7c3RyaW5nfVx0bm90aWZ5Q29uZmlnXHRUaGUgc2V0dGluZyBpbiBDTS5PcHRpb25zIHRoYXQgaXMgY2hlY2tlZCBiZWZvcmUgY3JlYXRpbmcgdGhlIG5vdGlmaWNhdGlvblxuICogQHBhcmFtXHR7c3RyaW5nfVx0dGl0bGVcdFx0XHRUaGUgdGl0bGUgb2YgdGhlIHRvLWJlIGNyZWF0ZWQgbm90aWZpY2F0aW9uc1xuICogQHBhcmFtXHR7c3RyaW5nfVx0bWVzc2FnZVx0XHRcdFRoZSB0ZXh0IG9mIHRoZSB0by1iZSBjcmVhdGVkIG5vdGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTm90aWZpY2F0aW9uKG5vdGlmeUNvbmZpZywgdGl0bGUsIG1lc3NhZ2UpIHtcblx0Ly8gVGhlIGFyZ3VtZW50cyBjaGVjayBtYWtlcyB0aGUgc291bmQgbm90IHBsYXkgdXBvbiBpbml0aWFsaXphdGlvbiBvZiB0aGUgbW9kXG5cdGlmIChDTU9wdGlvbnNbbm90aWZ5Q29uZmlnXSA9PT0gMSAmJiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nICYmIGlzSW5pdGlhbGl6aW5nID09PSBmYWxzZSkge1xuXHRcdGNvbnN0IENvb2tpZUljb24gPSAnaHR0cHM6Ly9vcnRlaWwuZGFzaG5ldC5vcmcvY29va2llY2xpY2tlci9mYXZpY29uLmljbyc7XG5cdFx0bmV3IE5vdGlmaWNhdGlvbih0aXRsZSwgeyBib2R5OiBtZXNzYWdlLCBiYWRnZTogQ29va2llSWNvbiB9KTtcblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENhY2hlU3Bhd25lZEdvbGRlblNoaW1tZXIsIENhY2hlR29sZGVuU2hpbW1lcnNCeUlEIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgQ3JlYXRlR0NUaW1lciBmcm9tICcuLi8uLi9EaXNwL0dvbGRlbkNvb2tpZVRpbWVycy9Hb2xkZW5Db29raWVUaW1lcnMnO1xuaW1wb3J0IEZsYXNoIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9GbGFzaCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IFBsYXlTb3VuZCBmcm9tICcuLi8uLi9EaXNwL05vdGlmaWNhdGlvbnMvU291bmQnO1xuaW1wb3J0IHsgVXBkYXRlRmF2aWNvbiB9IGZyb20gJy4uLy4uL0Rpc3AvVGFiVGl0bGUvRmF2SWNvbic7XG5pbXBvcnQgeyBHQ1RpbWVycyB9IGZyb20gJy4uLy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDdXJyU3Bhd25lZEdvbGRlbkNvb2tpZVN0YXRlLCBMYXN0R29sZGVuQ29va2llU3RhdGUsIExhc3RTcGF3bmVkR29sZGVuQ29va2llU3RhdGUgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBmb3IgY2hhbmdlcyBpbiB0aGUgYW1vdW50IG9mIEdvbGRlbiBDb29raWVzXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uTWFpbi5Mb29wXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoZWNrR29sZGVuQ29va2llKCkge1xuXHRGaW5kU2hpbW1lcigpO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR0NUaW1lcnMpKSB7XG5cdFx0aWYgKHR5cGVvZiBDYWNoZUdvbGRlblNoaW1tZXJzQnlJRFtpXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdEdDVGltZXJzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoR0NUaW1lcnNbaV0pO1xuXHRcdFx0ZGVsZXRlIEdDVGltZXJzW2ldO1xuXHRcdH1cblx0fVxuXHRpZiAoTGFzdEdvbGRlbkNvb2tpZVN0YXRlICE9PSBHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4ubikge1xuXHRcdExhc3RHb2xkZW5Db29raWVTdGF0ZSA9IEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi5uO1xuXHRcdGlmIChMYXN0R29sZGVuQ29va2llU3RhdGUpIHtcblx0XHRcdGlmIChMYXN0U3Bhd25lZEdvbGRlbkNvb2tpZVN0YXRlIDwgQ3VyclNwYXduZWRHb2xkZW5Db29raWVTdGF0ZSkge1xuXHRcdFx0XHRGbGFzaCgzLCAnR0NGbGFzaCcpO1xuXHRcdFx0XHRQbGF5U291bmQoQ01PcHRpb25zLkdDU291bmRVUkwsICdHQ1NvdW5kJywgJ0dDVm9sdW1lJyk7XG5cdFx0XHRcdE5vdGlmaWNhdGlvbignR0NOb3RpZmljYXRpb24nLCAnR29sZGVuIENvb2tpZSBTcGF3bmVkJywgJ0EgR29sZGVuIENvb2tpZSBoYXMgc3Bhd25lZC4gQ2xpY2sgaXQgbm93IScpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5zaGltbWVycykpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBHQ1RpbWVyc1tHYW1lLnNoaW1tZXJzW2ldLmlkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRDcmVhdGVHQ1RpbWVyKEdhbWUuc2hpbW1lcnNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFVwZGF0ZUZhdmljb24oKTtcblx0XHRMYXN0U3Bhd25lZEdvbGRlbkNvb2tpZVN0YXRlID0gQ3VyclNwYXduZWRHb2xkZW5Db29raWVTdGF0ZTtcblx0XHRpZiAoQ3VyclNwYXduZWRHb2xkZW5Db29raWVTdGF0ZSA9PT0gMCkgQ2FjaGVTcGF3bmVkR29sZGVuU2hpbW1lciA9IDA7XG5cdH0gZWxzZSBpZiAoQ01PcHRpb25zLkdDVGltZXIgPT09IDEgJiYgTGFzdEdvbGRlbkNvb2tpZVN0YXRlKSB7XG5cdFx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdDVGltZXJzKSkge1xuXHRcdFx0R0NUaW1lcnNbaV0uc3R5bGUub3BhY2l0eSA9IENhY2hlR29sZGVuU2hpbW1lcnNCeUlEW2ldLmwuc3R5bGUub3BhY2l0eTtcblx0XHRcdEdDVGltZXJzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IENhY2hlR29sZGVuU2hpbW1lcnNCeUlEW2ldLmwuc3R5bGUudHJhbnNmb3JtO1xuXHRcdFx0R0NUaW1lcnNbaV0udGV4dENvbnRlbnQgPSBNYXRoLmNlaWwoQ2FjaGVHb2xkZW5TaGltbWVyc0J5SURbaV0ubGlmZSAvIEdhbWUuZnBzKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBBdXhpbGlyYXJ5IGZ1bmN0aW9uIHRoYXQgZmluZHMgYWxsIGN1cnJlbnRseSBzcGF3bmVkIHNoaW1tZXJzLlxuICogQ00uQ2FjaGUuc3Bhd25lZEdvbGRlblNoaW1tZXIgc3RvcmVzIHRoZSBub24tdXNlciBzcGF3bmVkIGNvb2tpZSB0byBsYXRlciBkZXRlcm1pbmUgZGF0YSBmb3IgdGhlIGZhdmljb24gYW5kIHRhYi10aXRsZVxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkNNLk1haW4uQ2hlY2tHb2xkZW5Db29raWVcbiAqL1xuZnVuY3Rpb24gRmluZFNoaW1tZXIoKSB7XG5cdEN1cnJTcGF3bmVkR29sZGVuQ29va2llU3RhdGUgPSAwO1xuXHRDYWNoZUdvbGRlblNoaW1tZXJzQnlJRCA9IHt9O1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5zaGltbWVycykpIHtcblx0XHRDYWNoZUdvbGRlblNoaW1tZXJzQnlJRFtHYW1lLnNoaW1tZXJzW2ldLmlkXSA9IEdhbWUuc2hpbW1lcnNbaV07XG5cdFx0aWYgKEdhbWUuc2hpbW1lcnNbaV0uc3Bhd25MZWFkICYmIEdhbWUuc2hpbW1lcnNbaV0udHlwZSA9PT0gJ2dvbGRlbicpIHtcblx0XHRcdENhY2hlU3Bhd25lZEdvbGRlblNoaW1tZXIgPSBHYW1lLnNoaW1tZXJzW2ldO1xuXHRcdFx0Q3VyclNwYXduZWRHb2xkZW5Db29raWVTdGF0ZSArPSAxO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEZsYXNoIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9GbGFzaCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IFBsYXlTb3VuZCBmcm9tICcuLi8uLi9EaXNwL05vdGlmaWNhdGlvbnMvU291bmQnO1xuaW1wb3J0IHsgTGFzdE1hZ2ljQmFyRnVsbCB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBtYWdpYyBtZXRlciBpcyBmdWxsXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uTWFpbi5Mb29wXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoZWNrTWFnaWNNZXRlcigpIHtcblx0aWYgKEdhbWUuT2JqZWN0c1snV2l6YXJkIHRvd2VyJ10ubWluaWdhbWVMb2FkZWQgJiYgQ01PcHRpb25zLkdyaW1vaXJlQmFyID09PSAxKSB7XG5cdFx0Y29uc3QgbWluaWdhbWUgPSBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lO1xuXHRcdGlmIChtaW5pZ2FtZS5tYWdpYyA8IG1pbmlnYW1lLm1hZ2ljTSkgTGFzdE1hZ2ljQmFyRnVsbCA9IGZhbHNlO1xuXHRcdGVsc2UgaWYgKCFMYXN0TWFnaWNCYXJGdWxsKSB7XG5cdFx0XHRMYXN0TWFnaWNCYXJGdWxsID0gdHJ1ZTtcblx0XHRcdEZsYXNoKDMsICdNYWdpY0ZsYXNoJyk7XG5cdFx0XHRQbGF5U291bmQoQ01PcHRpb25zLk1hZ2ljU291bmRVUkwsICdNYWdpY1NvdW5kJywgJ01hZ2ljVm9sdW1lJyk7XG5cdFx0XHROb3RpZmljYXRpb24oJ01hZ2ljTm90aWZpY2F0aW9uJywgJ01hZ2ljIE1ldGVyIGZ1bGwnLCAnWW91ciBNYWdpYyBNZXRlciBpcyBmdWxsLiBDYXN0IGEgc3BlbGwhJyk7XG5cdFx0fVxuXHR9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgQ2FjaGVTZWFzb25Qb3BTaGltbWVyIH0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgRmxhc2ggZnJvbSAnLi4vLi4vRGlzcC9Ob3RpZmljYXRpb25zL0ZsYXNoJztcbmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi4vLi4vRGlzcC9Ob3RpZmljYXRpb25zL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgUGxheVNvdW5kIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9Tb3VuZCc7XG5pbXBvcnQgeyBMYXN0U2Vhc29uUG9wdXBTdGF0ZSB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZXJlIGlzIHJlaW5kZWVyIHRoYXQgaGFzIHNwYXduZWRcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5NYWluLkxvb3BcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hlY2tTZWFzb25Qb3B1cCgpIHtcblx0aWYgKExhc3RTZWFzb25Qb3B1cFN0YXRlICE9PSBHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci5zcGF3bmVkKSB7XG5cdFx0TGFzdFNlYXNvblBvcHVwU3RhdGUgPSBHYW1lLnNoaW1tZXJUeXBlcy5yZWluZGVlci5zcGF3bmVkO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLnNoaW1tZXJzKSkge1xuXHRcdFx0aWYgKEdhbWUuc2hpbW1lcnNbaV0uc3Bhd25MZWFkICYmIEdhbWUuc2hpbW1lcnNbaV0udHlwZSA9PT0gJ3JlaW5kZWVyJykge1xuXHRcdFx0XHRDYWNoZVNlYXNvblBvcFNoaW1tZXIgPSBHYW1lLnNoaW1tZXJzW2ldO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0Rmxhc2goMywgJ1NlYUZsYXNoJyk7XG5cdFx0UGxheVNvdW5kKENNT3B0aW9ucy5TZWFTb3VuZFVSTCwgJ1NlYVNvdW5kJywgJ1NlYVZvbHVtZScpO1xuXHRcdE5vdGlmaWNhdGlvbignU2VhTm90aWZpY2F0aW9uJywgJ1JlaW5kZWVyIHNpZ2h0ZWQhJywgJ0EgUmVpbmRlZXIgaGFzIHNwYXduZWQuIENsaWNrIGl0IG5vdyEnKTtcblx0fVxufVxuIiwiaW1wb3J0IEZsYXNoIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9GbGFzaCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IFBsYXlTb3VuZCBmcm9tICcuLi8uLi9EaXNwL05vdGlmaWNhdGlvbnMvU291bmQnO1xuaW1wb3J0IHsgTGFzdFRpY2tlckZvcnR1bmVTdGF0ZSB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZXJlIGlzIGEgZm9ydHVuZSBjb29raWUgb24gdGhlIHRpY2tlclxuICogSXQgaXMgY2FsbGVkIGJ5IENNLk1haW4uTG9vcFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGVja1RpY2tlckZvcnR1bmUoKSB7XG5cdGlmIChMYXN0VGlja2VyRm9ydHVuZVN0YXRlICE9PSAoR2FtZS5UaWNrZXJFZmZlY3QgJiYgR2FtZS5UaWNrZXJFZmZlY3QudHlwZSA9PT0gJ2ZvcnR1bmUnKSkge1xuXHRcdExhc3RUaWNrZXJGb3J0dW5lU3RhdGUgPSAoR2FtZS5UaWNrZXJFZmZlY3QgJiYgR2FtZS5UaWNrZXJFZmZlY3QudHlwZSA9PT0gJ2ZvcnR1bmUnKTtcblx0XHRpZiAoTGFzdFRpY2tlckZvcnR1bmVTdGF0ZSkge1xuXHRcdFx0Rmxhc2goMywgJ0ZvcnR1bmVGbGFzaCcpO1xuXHRcdFx0UGxheVNvdW5kKENNLk9wdGlvbnMuRm9ydHVuZVNvdW5kVVJMLCAnRm9ydHVuZVNvdW5kJywgJ0ZvcnR1bmVWb2x1bWUnKTtcblx0XHRcdE5vdGlmaWNhdGlvbignRm9ydHVuZU5vdGlmaWNhdGlvbicsICdGb3J0dW5lIENvb2tpZSBmb3VuZCcsICdBIEZvcnR1bmUgQ29va2llIGhhcyBhcHBlYXJlZCBvbiB0aGUgVGlja2VyLicpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEZsYXNoIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9GbGFzaCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uLy4uL0Rpc3AvTm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IFBsYXlTb3VuZCBmcm9tICcuLi8uLi9EaXNwL05vdGlmaWNhdGlvbnMvU291bmQnO1xuaW1wb3J0IHsgTGFzdFdyaW5rbGVyQ291bnQgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiBhbnkgbmV3IFdyaW5rbGVycyBoYXZlIHBvcHBlZCB1cFxuICogSXQgaXMgY2FsbGVkIGJ5IENNLk1haW4uTG9vcFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGVja1dyaW5rbGVyQ291bnQoKSB7XG5cdGlmIChHYW1lLmVsZGVyV3JhdGggPiAwKSB7XG5cdFx0bGV0IEN1cnJlbnRXcmlua2xlcnMgPSAwO1xuXHRcdGZvciAoY29uc3QgaSBpbiBHYW1lLndyaW5rbGVycykge1xuXHRcdFx0aWYgKEdhbWUud3JpbmtsZXJzW2ldLnBoYXNlID09PSAyKSBDdXJyZW50V3JpbmtsZXJzKys7XG5cdFx0fVxuXHRcdGlmIChDdXJyZW50V3JpbmtsZXJzID4gTGFzdFdyaW5rbGVyQ291bnQpIHtcblx0XHRcdExhc3RXcmlua2xlckNvdW50ID0gQ3VycmVudFdyaW5rbGVycztcblx0XHRcdGlmIChDdXJyZW50V3JpbmtsZXJzID09PSBHYW1lLmdldFdyaW5rbGVyc01heCgpICYmIENNT3B0aW9ucy5Xcmlua2xlck1heEZsYXNoKSB7XG5cdFx0XHRcdEZsYXNoKDMsICdXcmlua2xlck1heEZsYXNoJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRGbGFzaCgzLCAnV3JpbmtsZXJGbGFzaCcpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKEN1cnJlbnRXcmlua2xlcnMgPT09IEdhbWUuZ2V0V3JpbmtsZXJzTWF4KCkgJiYgQ01PcHRpb25zLldyaW5rbGVyTWF4U291bmQpIHtcblx0XHRcdFx0UGxheVNvdW5kKENNT3B0aW9ucy5Xcmlua2xlck1heFNvdW5kVVJMLCAnV3JpbmtsZXJNYXhTb3VuZCcsICdXcmlua2xlck1heFZvbHVtZScpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0UGxheVNvdW5kKENNT3B0aW9ucy5Xcmlua2xlclNvdW5kVVJMLCAnV3JpbmtsZXJTb3VuZCcsICdXcmlua2xlclZvbHVtZScpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKEN1cnJlbnRXcmlua2xlcnMgPT09IEdhbWUuZ2V0V3JpbmtsZXJzTWF4KCkgJiYgQ01PcHRpb25zLldyaW5rbGVyTWF4Tm90aWZpY2F0aW9uKSB7XG5cdFx0XHRcdE5vdGlmaWNhdGlvbignV3JpbmtsZXJNYXhOb3RpZmljYXRpb24nLCAnTWF4aW11bSBXcmlua2xlcnMgUmVhY2hlZCcsICdZb3UgaGF2ZSByZWFjaGVkIHlvdXIgbWF4aW11bSBhbW1vdW50IG9mIHdyaW5rbGVycycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Tm90aWZpY2F0aW9uKCdXcmlua2xlck5vdGlmaWNhdGlvbicsICdBIFdyaW5rbGVyIGFwcGVhcmVkJywgJ0EgbmV3IHdyaW5rbGVyIGhhcyBhcHBlYXJlZCcpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRMYXN0V3JpbmtsZXJDb3VudCA9IEN1cnJlbnRXcmlua2xlcnM7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgSW5pdENhY2hlIGZyb20gJy4uL0NhY2hlL0NhY2hlSW5pdCc7XG5pbXBvcnQgTG9vcENhY2hlIGZyb20gJy4uL0NhY2hlL0NhY2hlTG9vcCc7XG5pbXBvcnQgQ2FjaGVOb0dvbGRTd2l0Y2hDUFMgZnJvbSAnLi4vQ2FjaGUvQ1BTL05vR29sZFN3aXRjaENQUyc7XG5pbXBvcnQgQ2FjaGVTZWxsQWxsRm9yQ2hvRWdnIGZyb20gJy4uL0NhY2hlL0NQUy9TZWxsQ2hvRWdnJztcbmltcG9ydCBDYWNoZURyYWdvbkNvc3QgZnJvbSAnLi4vQ2FjaGUvRHJhZ29uL0RyYWdvbic7XG5pbXBvcnQgeyBDYWNoZUJ1aWxkaW5nc1ByaWNlcywgQ2FjaGVJbmNvbWUgfSBmcm9tICcuLi9DYWNoZS9QcmljZUFuZEluY29tZS9QcmljZUFuZEluY29tZSc7XG5pbXBvcnQgeyBDYWNoZUNoYWluIH0gZnJvbSAnLi4vQ2FjaGUvU3RhdHMvQ2hhaW5Db29raWVzJztcbmltcG9ydCBDYWNoZUFsbE1pc3NpbmdVcGdyYWRlcyBmcm9tICcuLi9DYWNoZS9TdGF0cy9NaXNzaW5nVXBncmFkZXMnO1xuaW1wb3J0IENhY2hlU2Vhc29uU3BlYyBmcm9tICcuLi9DYWNoZS9TdGF0cy9SZWluZGVlcic7XG5pbXBvcnQgeyBDYWNoZUdvbGRlbkFuZFdyYXRoQ29va2llc011bHRzLCBDYWNoZVN0YXRzQ29va2llcyB9IGZyb20gJy4uL0NhY2hlL1N0YXRzL1N0YXRzJztcbmltcG9ydCB7XG5cdENhY2hlRG9SZW1ha2VCdWlsZFByaWNlcywgQ2FjaGVIYWRCdWlsZEF1cmEsXG59IGZyb20gJy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IFVwZGF0ZUFzY2VuZFN0YXRlIGZyb20gJy4uL0Rpc3AvSGVscGVyRnVuY3Rpb25zL1VwZGF0ZUFzY2VuZFN0YXRlJztcbmltcG9ydCB7IExhc3RBc2NlbmRTdGF0ZSB9IGZyb20gJy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgSW5pdERhdGEgZnJvbSAnLi4vU2ltL0luaXRpYWxpemVEYXRhL0luaXREYXRhJztcbmltcG9ydCB7IFNpbURvU2ltcyB9IGZyb20gJy4uL1NpbS9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBDaGVja0dhcmRlblRpY2sgZnJvbSAnLi9DaGVja1N0YXRlcy9HYXJkZW4nO1xuaW1wb3J0IENoZWNrR29sZGVuQ29va2llIGZyb20gJy4vQ2hlY2tTdGF0ZXMvR29sZGVuQ29va2llJztcbmltcG9ydCBDaGVja01hZ2ljTWV0ZXIgZnJvbSAnLi9DaGVja1N0YXRlcy9Hcmltb2lyZSc7XG5pbXBvcnQgQ2hlY2tTZWFzb25Qb3B1cCBmcm9tICcuL0NoZWNrU3RhdGVzL1NlYXNvbic7XG5pbXBvcnQgQ2hlY2tUaWNrZXJGb3J0dW5lIGZyb20gJy4vQ2hlY2tTdGF0ZXMvVGlja2VyJztcbmltcG9ydCBDaGVja1dyaW5rbGVyQ291bnQgZnJvbSAnLi9DaGVja1N0YXRlcy9Xcmlua2xlcic7XG5pbXBvcnQgeyBMYXN0TW9kQ291bnQgfSBmcm9tICcuL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIE1haW4gbG9vcCBvZiBDb29raWUgTW9uc3RlclxuICogQ00uaW5pdCByZWdpc3RlcnMgaXQgdG8gdGhlIFwibG9naWNcIiBob29rIHByb3ZpZGVkIGJ5IHRoZSBtb2RkaW5nIGFwaVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDTUxvb3AoKSB7XG5cdGlmIChMYXN0QXNjZW5kU3RhdGUgIT09IEdhbWUuT25Bc2NlbmQpIHtcblx0XHRMYXN0QXNjZW5kU3RhdGUgPSBHYW1lLk9uQXNjZW5kO1xuXHRcdFVwZGF0ZUFzY2VuZFN0YXRlKCk7XG5cdH1cblx0aWYgKCFHYW1lLk9uQXNjZW5kICYmIEdhbWUuQXNjZW5kVGltZXIgPT09IDApIHtcblx0XHQvLyBDaGVjayBpZiBhbnkgb3RoZXIgbW9kcyBoYXZlIGJlZW4gbG9hZGVkXG5cdFx0aWYgKExhc3RNb2RDb3VudCAhPT0gT2JqZWN0LmtleXMoR2FtZS5tb2RzKS5sZW5ndGgpIHtcblx0XHRcdEluaXREYXRhKCk7XG5cdFx0XHRJbml0Q2FjaGUoKTtcblx0XHRcdExhc3RNb2RDb3VudCA9IE9iamVjdC5rZXlzKEdhbWUubW9kcykubGVuZ3RoO1xuXHRcdH1cblxuXHRcdC8vIENNLlNpbS5Eb1NpbXMgaXMgc2V0IHdoZW5ldmVyIENQUyBoYXMgY2hhbmdlZFxuXHRcdGlmIChTaW1Eb1NpbXMpIHtcblx0XHRcdENhY2hlSW5jb21lKCk7XG5cblx0XHRcdENhY2hlTm9Hb2xkU3dpdGNoQ1BTKCk7IC8vIE5lZWRlZCBmaXJzdFxuXHRcdFx0Q2FjaGVHb2xkZW5BbmRXcmF0aENvb2tpZXNNdWx0cygpO1xuXHRcdFx0Q2FjaGVTdGF0c0Nvb2tpZXMoKTtcblx0XHRcdENhY2hlQWxsTWlzc2luZ1VwZ3JhZGVzKCk7XG5cdFx0XHRDYWNoZUNoYWluKCk7XG5cdFx0XHRDYWNoZURyYWdvbkNvc3QoKTtcblxuXHRcdFx0Q2FjaGVTZWFzb25TcGVjKCk7XG5cdFx0XHRDYWNoZVNlbGxBbGxGb3JDaG9FZ2coKTtcblxuXHRcdFx0U2ltRG9TaW1zID0gMDtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBmb3IgYXVyYSBjaGFuZ2UgdG8gcmVjYWxjdWxhdGUgYnVpbGRpbmdzIHByaWNlc1xuXHRcdGNvbnN0IGhhc0J1aWxkQXVyYSA9IEdhbWUuYXVyYU11bHQoJ0ZpZXJjZSBIb2FyZGVyJykgPiAwO1xuXHRcdGlmICghQ2FjaGVIYWRCdWlsZEF1cmEgJiYgaGFzQnVpbGRBdXJhKSB7XG5cdFx0XHRDYWNoZUhhZEJ1aWxkQXVyYSA9IHRydWU7XG5cdFx0XHRDYWNoZURvUmVtYWtlQnVpbGRQcmljZXMgPSAxO1xuXHRcdH0gZWxzZSBpZiAoQ2FjaGVIYWRCdWlsZEF1cmEgJiYgIWhhc0J1aWxkQXVyYSkge1xuXHRcdFx0Q2FjaGVIYWRCdWlsZEF1cmEgPSBmYWxzZTtcblx0XHRcdENhY2hlRG9SZW1ha2VCdWlsZFByaWNlcyA9IDE7XG5cdFx0fVxuXG5cdFx0aWYgKENhY2hlRG9SZW1ha2VCdWlsZFByaWNlcykge1xuXHRcdFx0Q2FjaGVCdWlsZGluZ3NQcmljZXMoKTtcblx0XHRcdENhY2hlRG9SZW1ha2VCdWlsZFByaWNlcyA9IDA7XG5cdFx0fVxuXG5cdFx0TG9vcENhY2hlKCk7XG5cblx0XHQvLyBDaGVjayBhbGwgY2hhbmdpbmcgbWluaWdhbWVzIGFuZCBnYW1lLXN0YXRlc1xuXHRcdENoZWNrR29sZGVuQ29va2llKCk7XG5cdFx0Q2hlY2tUaWNrZXJGb3J0dW5lKCk7XG5cdFx0Q2hlY2tTZWFzb25Qb3B1cCgpO1xuXHRcdENoZWNrR2FyZGVuVGljaygpO1xuXHRcdENoZWNrTWFnaWNNZXRlcigpO1xuXHRcdENoZWNrV3JpbmtsZXJDb3VudCgpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIENvbmZpZ0RlZmF1bHQgfSBmcm9tICcuLi8uLi9EYXRhL1NldHRpbmdzRGVmYXVsdCc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIENvbmZpZ0RhdGEgfSBmcm9tICcuLi8uLi9EYXRhL1NldHRpbmdzRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBzYXZlIGZyb20gJy4uLy4uL0luaXRTYXZlTG9hZC9zYXZlJztcbmltcG9ydCBDTUxvb3AgZnJvbSAnLi4vLi4vTWFpbi9Mb29wJztcblxuLyoqIEZ1bmN0aW9ucyByZWxhdGVkIHRvIHNhdmluZywgbG9hZGluZyBhbmQgcmVzdG9yaW5nIGFsbCBzZXR0aW5ncyAqL1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2F2ZXMgdGhlIGNvbmZpZyBvZiBDb29raWVNb25zdGVyIHdpdGhvdXQgc2F2aW5nIGFueSBvZiB0aGUgb3RoZXIgc2F2ZS1kYXRhXG4gKiBUaGlzIGFsbG93cyBzYXZpbmcgaW4gYmV0d2VlbiB0aGUgYXV0b3NhdmUgaW50ZXJ2YWxzXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uQ29uZmlnLkxvYWRDb25maWcoKSwgQ00uQ29uZmlnLlJlc3RvcmVEZWZhdWx0KCksIENNLkNvbmZpZy5Ub2dnbGVDb25maWcoKSxcbiAqIENNLlRvZ2dsZUNvbmZpZ1ZvbHVtZSgpIGFuZCBjaGFuZ2VzIGluIG9wdGlvbnMgd2l0aCB0eXBlIFwidXJsXCIsIFwiY29sb3JcIiBvciBcIm51bXNjYWxlXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNhdmVDb25maWcoKSB7XG5cdGNvbnN0IHNhdmVTdHJpbmcgPSBiNjRfdG9fdXRmOCh1bmVzY2FwZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQ29va2llQ2xpY2tlckdhbWUnKSkuc3BsaXQoJyFFTkQhJylbMF0pO1xuXHRjb25zdCBDb29raWVNb25zdGVyU2F2ZSA9IHNhdmVTdHJpbmcubWF0Y2goL0Nvb2tpZU1vbnN0ZXIuKig7fCQpLyk7XG5cdGlmIChDb29raWVNb25zdGVyU2F2ZSAhPT0gbnVsbCkge1xuXHRcdGNvbnN0IG5ld1NhdmVTdHJpbmcgPSBzYXZlU3RyaW5nLnJlcGxhY2UoQ29va2llTW9uc3RlclNhdmVbMF0sIGBDb29raWVNb25zdGVyOiR7c2F2ZSgpfWApO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdDb29raWVDbGlja2VyR2FtZScsIGVzY2FwZShgJHt1dGY4X3RvX2I2NChuZXdTYXZlU3RyaW5nKX0hRU5EIWApKTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbG9hZHMgdGhlIGNvbmZpZyBvZiBDb29raWVNb25zdGVyIHNhdmVkIGluIGxvY2FsU3RvcmFnZSBhbmQgbG9hZHMgaXQgaW50byBDTU9wdGlvbnNcbiAqIEl0IGlzIGNhbGxlZCBieSBDTS5NYWluLkRlbGF5SW5pdCgpIGFuZCBDTS5Db25maWcuUmVzdG9yZURlZmF1bHQoKVxuICovXG5leHBvcnQgZnVuY3Rpb24gTG9hZENvbmZpZyhzZXR0aW5ncykge1xuXHQvLyBUaGlzIHJlbW92ZXMgY29va2llcyBsZWZ0IGZyb20gZWFybGllciB2ZXJzaW9ucyBvZiBDb29raWVNb25zdGVyXG5cdGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlLkNNQ29uZmlnICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGRlbGV0ZSBsb2NhbFN0b3JhZ2UuQ01Db25maWc7XG5cdH1cblx0aWYgKHNldHRpbmdzICE9PSB1bmRlZmluZWQpIHtcblx0XHRDTU9wdGlvbnMgPSBzZXR0aW5ncztcblxuXHRcdC8vIENoZWNrIHZhbHVlc1xuXHRcdGxldCBtb2QgPSBmYWxzZTtcblx0XHRmb3IgKGNvbnN0IGkgaW4gQ29uZmlnRGVmYXVsdCkge1xuXHRcdFx0aWYgKHR5cGVvZiBDTU9wdGlvbnNbaV0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdG1vZCA9IHRydWU7XG5cdFx0XHRcdENNT3B0aW9uc1tpXSA9IENvbmZpZ0RlZmF1bHRbaV07XG5cdFx0XHR9IGVsc2UgaWYgKGkgIT09ICdIZWFkZXInICYmIGkgIT09ICdDb2xvcnMnKSB7XG5cdFx0XHRcdGlmIChpLmluZGV4T2YoJ1NvdW5kVVJMJykgPT09IC0xKSB7XG5cdFx0XHRcdFx0aWYgKCEoQ01PcHRpb25zW2ldID4gLTEgJiYgQ01PcHRpb25zW2ldIDwgQ29uZmlnRGF0YVtpXS5sYWJlbC5sZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRtb2QgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Q01PcHRpb25zW2ldID0gQ29uZmlnRGVmYXVsdFtpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIENNT3B0aW9uc1tpXSAhPT0gJ3N0cmluZycpIHsgLy8gU291bmQgVVJMc1xuXHRcdFx0XHRcdG1vZCA9IHRydWU7XG5cdFx0XHRcdFx0Q01PcHRpb25zW2ldID0gQ29uZmlnRGVmYXVsdFtpXTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpID09PSAnSGVhZGVyJykge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGogaW4gQ29uZmlnRGVmYXVsdC5IZWFkZXIpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIENNT3B0aW9uc1tpXVtqXSA9PT0gJ3VuZGVmaW5lZCcgfHwgIShDTU9wdGlvbnNbaV1bal0gPiAtMSAmJiBDTU9wdGlvbnNbaV1bal0gPCAyKSkge1xuXHRcdFx0XHRcdFx0bW9kID0gdHJ1ZTtcblx0XHRcdFx0XHRcdENNT3B0aW9uc1tpXVtqXSA9IENvbmZpZ0RlZmF1bHRbaV1bal07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgeyAvLyBDb2xvcnNcblx0XHRcdFx0Zm9yIChjb25zdCBqIGluIENvbmZpZ0RlZmF1bHQuQ29sb3JzKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBDTU9wdGlvbnNbaV1bal0gPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBDTU9wdGlvbnNbaV1bal0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0XHRtb2QgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Q01PcHRpb25zW2ldW2pdID0gQ29uZmlnRGVmYXVsdFtpXVtqXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKG1vZCkgU2F2ZUNvbmZpZygpO1xuXHRcdENNTG9vcCgpOyAvLyBEbyBsb29wIG9uY2Vcblx0XHRmb3IgKGNvbnN0IGkgaW4gQ29uZmlnRGVmYXVsdCkge1xuXHRcdFx0aWYgKGkgIT09ICdIZWFkZXInICYmIHR5cGVvZiBDb25maWdEYXRhW2ldLmZ1bmMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdENvbmZpZ0RhdGFbaV0uZnVuYygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gRGVmYXVsdCB2YWx1ZXNcblx0XHRMb2FkQ29uZmlnKENvbmZpZ0RlZmF1bHQpO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRDb2xvckJhY2tQcmUsIENvbG9yQmx1ZSwgQ29sb3JHcmF5LCBDb2xvckdyZWVuLCBDb2xvck9yYW5nZSwgQ29sb3JQdXJwbGUsIENvbG9yUmVkLCBDb2xvclRleHRQcmUsIENvbG9yWWVsbG93LFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIGxlZ2VuZCBmb3IgdGhlIHVwZ3JhZGUgYmFyXG4gKiBAcmV0dXJuc1x0e29iamVjdH1cdGxlZ2VuZFx0VGhlIGxlZ2VuZC1vYmplY3QgdG8gYmUgYWRkZWRcbiAqL1xuZnVuY3Rpb24gQ3JlYXRlVXBncmFkZUJhckxlZ2VuZCgpIHtcblx0Y29uc3QgbGVnZW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGxlZ2VuZC5zdHlsZS5taW5XaWR0aCA9ICczMzBweCc7XG5cdGxlZ2VuZC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4Jztcblx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0dGl0bGUuY2xhc3NOYW1lID0gJ25hbWUnO1xuXHR0aXRsZS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4Jztcblx0dGl0bGUudGV4dENvbnRlbnQgPSAnTGVnZW5kJztcblx0bGVnZW5kLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuXHRjb25zdCBsZWdlbmRMaW5lID0gZnVuY3Rpb24gKGNvbG9yLCB0ZXh0KSB7XG5cdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0ZGl2LnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnbWlkZGxlJztcblx0XHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdHNwYW4uY2xhc3NOYW1lID0gQ29sb3JCYWNrUHJlICsgY29sb3I7XG5cdFx0c3Bhbi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG5cdFx0c3Bhbi5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG5cdFx0c3Bhbi5zdHlsZS53aWR0aCA9ICcxMHB4Jztcblx0XHRzcGFuLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzRweCc7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKHNwYW4pO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG5cdFx0cmV0dXJuIGRpdjtcblx0fTtcblxuXHRsZWdlbmQuYXBwZW5kQ2hpbGQobGVnZW5kTGluZShDb2xvckJsdWUsICdCZXR0ZXIgdGhhbiBiZXN0IFBQIGJ1aWxkaW5nJykpO1xuXHRsZWdlbmQuYXBwZW5kQ2hpbGQobGVnZW5kTGluZShDb2xvckdyZWVuLCAnU2FtZSBhcyBiZXN0IFBQIGJ1aWxkaW5nJykpO1xuXHRsZWdlbmQuYXBwZW5kQ2hpbGQobGVnZW5kTGluZShDb2xvclllbGxvdywgJ0JldHdlZW4gYmVzdCBhbmQgd29yc3QgUFAgYnVpbGRpbmdzIGNsb3NlciB0byBiZXN0JykpO1xuXHRsZWdlbmQuYXBwZW5kQ2hpbGQobGVnZW5kTGluZShDb2xvck9yYW5nZSwgJ0JldHdlZW4gYmVzdCBhbmQgd29yc3QgUFAgYnVpbGRpbmdzIGNsb3NlciB0byB3b3JzdCcpKTtcblx0bGVnZW5kLmFwcGVuZENoaWxkKGxlZ2VuZExpbmUoQ29sb3JSZWQsICdTYW1lIGFzIHdvcnN0IFBQIGJ1aWxkaW5nJykpO1xuXHRsZWdlbmQuYXBwZW5kQ2hpbGQobGVnZW5kTGluZShDb2xvclB1cnBsZSwgJ1dvcnNlIHRoYW4gd29yc3QgUFAgYnVpbGRpbmcnKSk7XG5cdGxlZ2VuZC5hcHBlbmRDaGlsZChsZWdlbmRMaW5lKENvbG9yR3JheSwgJ05lZ2F0aXZlIG9yIGluZmluaXR5IFBQJykpO1xuXHRyZXR1cm4gbGVnZW5kO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgdXBncmFkZSBiYXIgYWJvdmUgdGhlIHVwZ3JhZGUtc2VjdGlvbiBpbiB0aGUgcmlnaHQgc2VjdGlvbiBvZiB0aGUgc2NyZWVuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZVVwZ3JhZGVCYXIoKSB7XG5cdGNvbnN0IFVwZ3JhZGVCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0VXBncmFkZUJhci5pZCA9ICdDTVVwZ3JhZGVCYXInO1xuXHRVcGdyYWRlQmFyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRVcGdyYWRlQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdibGFjayc7XG5cdFVwZ3JhZGVCYXIuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdFVwZ3JhZGVCYXIuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0VXBncmFkZUJhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRVcGdyYWRlQmFyLnN0eWxlLnpJbmRleCA9ICcyMSc7XG5cdFVwZ3JhZGVCYXIub25tb3VzZW91dCA9IGZ1bmN0aW9uICgpIHsgR2FtZS50b29sdGlwLmhpZGUoKTsgfTtcblxuXHRjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRwbGFjZWhvbGRlci5hcHBlbmRDaGlsZChDcmVhdGVVcGdyYWRlQmFyTGVnZW5kKCkpO1xuXHRVcGdyYWRlQmFyLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkgeyBHYW1lLnRvb2x0aXAuZHJhdyh0aGlzLCBlc2NhcGUocGxhY2Vob2xkZXIuaW5uZXJIVE1MKSwgJ3N0b3JlJyk7IH07XG5cblx0Y29uc3QgdXBncmFkZU51bWJlciA9IGZ1bmN0aW9uIChpZCwgY29sb3IpIHtcblx0XHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdHNwYW4uaWQgPSBpZDtcblx0XHRzcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGNvbG9yO1xuXHRcdHNwYW4uc3R5bGUud2lkdGggPSAnMTQuMjg1NzE0Mjg1NzE0MjklJztcblx0XHRzcGFuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0XHRzcGFuLnRleHRDb250ZW50ID0gJzAnO1xuXHRcdHJldHVybiBzcGFuO1xuXHR9O1xuXHRVcGdyYWRlQmFyLmFwcGVuZENoaWxkKHVwZ3JhZGVOdW1iZXIoJ0NNVXBncmFkZUJhckJsdWUnLCBDb2xvckJsdWUpKTtcblx0VXBncmFkZUJhci5hcHBlbmRDaGlsZCh1cGdyYWRlTnVtYmVyKCdDTVVwZ3JhZGVCYXJHcmVlbicsIENvbG9yR3JlZW4pKTtcblx0VXBncmFkZUJhci5hcHBlbmRDaGlsZCh1cGdyYWRlTnVtYmVyKCdDTVVwZ3JhZGVCYXJZZWxsb3cnLCBDb2xvclllbGxvdykpO1xuXHRVcGdyYWRlQmFyLmFwcGVuZENoaWxkKHVwZ3JhZGVOdW1iZXIoJ0NNVXBncmFkZUJhck9yYW5nZScsIENvbG9yT3JhbmdlKSk7XG5cdFVwZ3JhZGVCYXIuYXBwZW5kQ2hpbGQodXBncmFkZU51bWJlcignQ01VcGdyYWRlQmFyUmVkJywgQ29sb3JSZWQpKTtcblx0VXBncmFkZUJhci5hcHBlbmRDaGlsZCh1cGdyYWRlTnVtYmVyKCdDTVVwZ3JhZGVCYXJQdXJwbGUnLCBDb2xvclB1cnBsZSkpO1xuXHRVcGdyYWRlQmFyLmFwcGVuZENoaWxkKHVwZ3JhZGVOdW1iZXIoJ0NNVXBncmFkZUJhckdyYXknLCBDb2xvckdyYXkpKTtcblxuXHRsKCd1cGdyYWRlcycpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFVwZ3JhZGVCYXIsIGwoJ3VwZ3JhZGVzJykucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzNdKTtcbn1cbiIsIi8qKlxuICogVGhpcyBmdW5jdGlvbiBwb3BzIGFsbCBub3JtYWwgd3JpbmtsZXJzXG4gKiBJdCBpcyBjYWxsZWQgYnkgYSBjbGljayBvZiB0aGUgJ3BvcCBhbGwnIGJ1dHRvbiBjcmVhdGVkIGJ5IENNLkRpc3AuQWRkTWVudVN0YXRzKClcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wQWxsTm9ybWFsV3JpbmtsZXJzKCkge1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS53cmlua2xlcnMpKSB7XG5cdFx0aWYgKEdhbWUud3JpbmtsZXJzW2ldLnN1Y2tlZCA+IDAgJiYgR2FtZS53cmlua2xlcnNbaV0udHlwZSA9PT0gMCkge1xuXHRcdFx0R2FtZS53cmlua2xlcnNbaV0uaHAgPSAwO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgV3JpbmtsZXJzRmF0dGVzdCB9IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IFBvcEFsbE5vcm1hbFdyaW5rbGVycyBmcm9tICcuLi9IZWxwZXJGdW5jdGlvbnMvUG9wV3JpbmtsZXJzJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdHdvIG9iamVjdHMgYXQgdGhlIGJvdHRvbSBvZiB0aGUgbGVmdCBjb2x1bW4gdGhhdCBhbGxvd2luZyBwb3BwaW5nIG9mIHdyaW5rbGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVXcmlua2xlckJ1dHRvbnMoKSB7XG5cdGNvbnN0IHBvcEFsbEEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdHBvcEFsbEEuaWQgPSAnUG9wQWxsTm9ybWFsV3JpbmtsZXJCdXR0b24nO1xuXHRwb3BBbGxBLnRleHRDb250ZW50ID0gJ1BvcCBBbGwgTm9ybWFsJztcblx0cG9wQWxsQS5jbGFzc05hbWUgPSAnb3B0aW9uJztcblx0cG9wQWxsQS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyBQb3BBbGxOb3JtYWxXcmlua2xlcnMoKTsgfTtcblx0bCgnc2VjdGlvbkxlZnRFeHRyYScpLmNoaWxkcmVuWzBdLmFwcGVuZChwb3BBbGxBKTtcblx0Y29uc3QgcG9wRmF0dGVzdEEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdHBvcEZhdHRlc3RBLmlkID0gJ1BvcEZhdHRlc3RXcmlua2xlckJ1dHRvbic7XG5cdHBvcEZhdHRlc3RBLnRleHRDb250ZW50ID0gJ1BvcCBTaW5nbGUgRmF0dGVzdCc7XG5cdHBvcEZhdHRlc3RBLmNsYXNzTmFtZSA9ICdvcHRpb24nO1xuXHRwb3BGYXR0ZXN0QS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoV3JpbmtsZXJzRmF0dGVzdFsxXSAhPT0gbnVsbCkgR2FtZS53cmlua2xlcnNbV3JpbmtsZXJzRmF0dGVzdFsxXV0uaHAgPSAwOyB9O1xuXHRsKCdzZWN0aW9uTGVmdEV4dHJhJykuY2hpbGRyZW5bMF0uYXBwZW5kKHBvcEZhdHRlc3RBKTtcbn1cbiIsImltcG9ydCB7IERpc3BDU1MgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBDU1Mgc3R5bGUgdGhhdCBzdG9yZXMgY2VydGFpbiBzdGFuZGFyZCBDU1MgY2xhc3NlcyB1c2VkIGJ5IENvb2tpZU1vbnN0ZXJcblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVDc3NBcmVhKCkge1xuXHREaXNwQ1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0RGlzcENTUy50eXBlID0gJ3RleHQvY3NzJztcblx0RGlzcENTUy5pZCA9ICdDTUNTUyc7XG5cblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChEaXNwQ1NTKTtcbn1cbiIsIi8qKlxuICogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBzdHlsZSBvZiB0aGUgYnVpbGRpbmcgYW5kIHVwZ3JhZGUgc2VjdGlvbnMgdG8gbWFrZSB0aGVzZSBzb3J0YWJsZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVCdWlsZGluZ1VwZ3JhZGVTdHlsZSgpIHtcblx0bCgncHJvZHVjdHMnKS5zdHlsZS5kaXNwbGF5ID0gJ2dyaWQnO1xuXHRsKCdzdG9yZUJ1bGsnKS5zdHlsZS5ncmlkUm93ID0gJzEvMSc7XG5cblx0bCgndXBncmFkZXMnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRsKCd1cGdyYWRlcycpLnN0eWxlWydmbGV4LXdyYXAnXSA9ICd3cmFwJztcbn1cbiIsIi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgd2hpdGUgc3F1YXJlIG92ZXIgdGhlIGZ1bGwgc2NyZWVuIGFuZCBhcHBlbmRzIGl0IHRvIGwoJ3dyYXBwZXInKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVXaGl0ZVNjcmVlbigpIHtcblx0Y29uc3QgV2hpdGVTY3JlZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0V2hpdGVTY3JlZW4uaWQgPSAnQ01XaGl0ZVNjcmVlbic7XG5cdFdoaXRlU2NyZWVuLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRXaGl0ZVNjcmVlbi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cdFdoaXRlU2NyZWVuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XG5cdFdoaXRlU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFdoaXRlU2NyZWVuLnN0eWxlLnpJbmRleCA9ICc5OTk5OTk5OTk5Jztcblx0V2hpdGVTY3JlZW4uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRsKCd3cmFwcGVyJykuYXBwZW5kQ2hpbGQoV2hpdGVTY3JlZW4pO1xufVxuIiwiaW1wb3J0IHsgQ3JlYXRlVG9vbHRpcCB9IGZyb20gJy4uLy4uL0Rpc3AvVG9vbHRpcHMvVG9vbHRpcCc7XG5pbXBvcnQgeyBUb29sdGlwR3JpbW9pcmVCYWNrdXAgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIHRoZSBvcmlnaW5hbCAub25tb3VzZW92ZXIgZnVuY3Rpb25zIG9mIHRoZSBHcmltb2lyZSBtaW5pZ2FtZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXBsYWNlVG9vbHRpcEdyaW1vaXJlKCkge1xuXHRpZiAoR2FtZS5PYmplY3RzWydXaXphcmQgdG93ZXInXS5taW5pZ2FtZUxvYWRlZCkge1xuXHRcdGZvciAoY29uc3QgaSBpbiBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lLnNwZWxsc0J5SWQpIHtcblx0XHRcdGlmIChsKGBncmltb2lyZVNwZWxsJHtpfWApLm9ubW91c2VvdmVyICE9PSBudWxsKSB7XG5cdFx0XHRcdFRvb2x0aXBHcmltb2lyZUJhY2t1cFtpXSA9IGwoYGdyaW1vaXJlU3BlbGwke2l9YCkub25tb3VzZW92ZXI7XG5cdFx0XHRcdGwoYGdyaW1vaXJlU3BlbGwke2l9YCkub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0R2FtZS50b29sdGlwLmR5bmFtaWMgPSAxO1xuXHRcdFx0XHRcdEdhbWUudG9vbHRpcC5kcmF3KHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIENyZWF0ZVRvb2x0aXAoJ2cnLCBgJHtpfWApOyB9LCAndGhpcycpO1xuXHRcdFx0XHRcdEdhbWUudG9vbHRpcC53b2JibGUoKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBGb3JtYXRUaW1lIH0gZnJvbSAnLi4vLi4vRGlzcC9CZWF1dGlmeUFuZEZvcm1hdHRpbmcvQmVhdXRpZnlGb3JtYXR0aW5nJztcblxuaW1wb3J0IENhbGN1bGF0ZUdyaW1vaXJlUmVmaWxsVGltZSBmcm9tICcuLi8uLi9EaXNwL0hlbHBlckZ1bmN0aW9ucy9DYWxjdWxhdGVHcmltb2lyZVJlZmlsbFRpbWUnO1xuaW1wb3J0IHtcblx0QmFja3VwR3JpbW9pcmVEcmF3LCBCYWNrdXBHcmltb2lyZUxhdW5jaCwgQmFja3VwR3JpbW9pcmVMYXVuY2hNb2QsIEhhc1JlcGxhY2VOYXRpdmVHcmltb2lyZURyYXcsIEhhc1JlcGxhY2VOYXRpdmVHcmltb2lyZUxhdW5jaCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgUmVwbGFjZVRvb2x0aXBHcmltb2lyZSBmcm9tICcuL1Rvb2x0aXBHcmltb2lyZSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBmaXhlcyByZXBsYWNlcyB0aGUgLmxhdW5jaCBmdW5jdGlvbiBvZiB0aGUgR3JpbW9pcmVcbiAqL1xuZnVuY3Rpb24gUmVwbGFjZU5hdGl2ZUdyaW1vaXJlTGF1bmNoKCkge1xuXHRpZiAoIUhhc1JlcGxhY2VOYXRpdmVHcmltb2lyZUxhdW5jaCAmJiBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0Y29uc3QgbWluaWdhbWUgPSBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lO1xuXHRcdEJhY2t1cEdyaW1vaXJlTGF1bmNoID0gbWluaWdhbWUubGF1bmNoO1xuXHRcdEJhY2t1cEdyaW1vaXJlTGF1bmNoTW9kID0gbWluaWdhbWUubGF1bmNoLnRvU3RyaW5nKCkuc3BsaXQoJz10aGlzJykuam9pbignPSBHYW1lLk9iamVjdHNbXFwnV2l6YXJkIHRvd2VyXFwnXS5taW5pZ2FtZScpO1xuXHR9XG5cdEdhbWUuT2JqZWN0c1snV2l6YXJkIHRvd2VyJ10ubWluaWdhbWUubGF1bmNoID0gZnVuY3Rpb24gKCkge1xuXHRcdEJhY2t1cEdyaW1vaXJlTGF1bmNoTW9kKCk7XG5cdFx0UmVwbGFjZVRvb2x0aXBHcmltb2lyZSgpO1xuXHRcdEhhc1JlcGxhY2VOYXRpdmVHcmltb2lyZURyYXcgPSBmYWxzZTtcblx0XHRSZXBsYWNlTmF0aXZlR3JpbW9pcmVEcmF3KCk7XG5cdH07XG5cdEhhc1JlcGxhY2VOYXRpdmVHcmltb2lyZUxhdW5jaCA9IHRydWU7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBmaXhlcyByZXBsYWNlcyB0aGUgLmRyYXcgZnVuY3Rpb24gb2YgdGhlIEdyaW1vaXJlXG4gKi9cbmZ1bmN0aW9uIFJlcGxhY2VOYXRpdmVHcmltb2lyZURyYXcoKSB7XG5cdGlmICghSGFzUmVwbGFjZU5hdGl2ZUdyaW1vaXJlRHJhdyAmJiBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0Y29uc3QgbWluaWdhbWUgPSBHYW1lLk9iamVjdHNbJ1dpemFyZCB0b3dlciddLm1pbmlnYW1lO1xuXHRcdEJhY2t1cEdyaW1vaXJlRHJhdyA9IG1pbmlnYW1lLmRyYXc7XG5cdFx0R2FtZS5PYmplY3RzWydXaXphcmQgdG93ZXInXS5taW5pZ2FtZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0QmFja3VwR3JpbW9pcmVEcmF3KCk7XG5cdFx0XHRpZiAoQ01PcHRpb25zLkdyaW1vaXJlQmFyID09PSAxICYmIG1pbmlnYW1lLm1hZ2ljIDwgbWluaWdhbWUubWFnaWNNKSB7XG5cdFx0XHRcdG1pbmlnYW1lLm1hZ2ljQmFyVGV4dEwuaW5uZXJIVE1MICs9IGAgKCR7Rm9ybWF0VGltZShDYWxjdWxhdGVHcmltb2lyZVJlZmlsbFRpbWUobWluaWdhbWUubWFnaWMsIG1pbmlnYW1lLm1hZ2ljTSwgbWluaWdhbWUubWFnaWNNKSl9KWA7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRIYXNSZXBsYWNlTmF0aXZlR3JpbW9pcmVEcmF3ID0gdHJ1ZTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gZml4ZXMgcmVwbGFjZXMgdGhlIExhdW5jaCBhbmQgRHJhdyBmdW5jdGlvbnMgb2YgdGhlIEdyaW1vaXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2VOYXRpdmVHcmltb2lyZSgpIHtcblx0UmVwbGFjZU5hdGl2ZUdyaW1vaXJlTGF1bmNoKCk7XG5cdFJlcGxhY2VOYXRpdmVHcmltb2lyZURyYXcoKTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiogRnVuY3Rpb25zIHJlbGF0ZWQgdG8gcmVwbGFjaW5nIHRvb2x0aXBzICovXG5cbmltcG9ydCB7IENyZWF0ZVRvb2x0aXAgfSBmcm9tICcuLi8uLi9EaXNwL1Rvb2x0aXBzL1Rvb2x0aXAnO1xuaW1wb3J0IHtcblx0TG9hZE1pbmlnYW1lcywgVG9vbHRpcEJ1aWxkQmFja3VwLCBUb29sdGlwTHVtcEJhY2t1cCxcbn0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgUmVwbGFjZU5hdGl2ZUdyaW1vaXJlIGZyb20gJy4vTmF0aXZlR3JpbW9pcmUnO1xuaW1wb3J0IFJlcGxhY2VUb29sdGlwR3JpbW9pcmUgZnJvbSAnLi9Ub29sdGlwR3JpbW9pcmUnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmVwbGFjZXMgdGhlIG9yaWdpbmFsIC5vbm1vdXNlb3ZlciBmdW5jdGlvbnMgb2YgYnVpbGRpbmdzXG4gKi9cbmZ1bmN0aW9uIFJlcGxhY2VUb29sdGlwQnVpbGQoKSB7XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLk9iamVjdHMpKSB7XG5cdFx0Y29uc3QgbWUgPSBHYW1lLk9iamVjdHNbaV07XG5cdFx0aWYgKGwoYHByb2R1Y3Qke21lLmlkfWApLm9ubW91c2VvdmVyICE9PSBudWxsKSB7XG5cdFx0XHRUb29sdGlwQnVpbGRCYWNrdXBbaV0gPSBsKGBwcm9kdWN0JHttZS5pZH1gKS5vbm1vdXNlb3Zlcjtcblx0XHRcdGwoYHByb2R1Y3Qke21lLmlkfWApLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRHYW1lLnRvb2x0aXAuZHluYW1pYyA9IDE7XG5cdFx0XHRcdEdhbWUudG9vbHRpcC5kcmF3KHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIENyZWF0ZVRvb2x0aXAoJ2InLCBgJHtpfWApOyB9LCAnc3RvcmUnKTtcblx0XHRcdFx0R2FtZS50b29sdGlwLndvYmJsZSgpO1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIHRoZSBvcmlnaW5hbCAub25tb3VzZW92ZXIgZnVuY3Rpb25zIG9mIHN1Z2FyIGx1bXBzXG4gKi9cbmZ1bmN0aW9uIFJlcGxhY2VUb29sdGlwTHVtcCgpIHtcblx0aWYgKEdhbWUuY2FuTHVtcHMoKSkge1xuXHRcdFRvb2x0aXBMdW1wQmFja3VwID0gbCgnbHVtcHMnKS5vbm1vdXNlb3Zlcjtcblx0XHRsKCdsdW1wcycpLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0R2FtZS50b29sdGlwLmR5bmFtaWMgPSAxO1xuXHRcdFx0R2FtZS50b29sdGlwLmRyYXcodGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gQ3JlYXRlVG9vbHRpcCgncycsICdMdW1wJyk7IH0sICd0aGlzJyk7XG5cdFx0XHRHYW1lLnRvb2x0aXAud29iYmxlKCk7XG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmVwbGFjZXMgdGhlIG9yaWdpbmFsIC5vbm1vdXNlb3ZlciBmdW5jdGlvbnMgb2YgYWxsIGdhcmRlbiBwbGFudHNcbiAqL1xuZnVuY3Rpb24gUmVwbGFjZVRvb2x0aXBHYXJkZW4oKSB7XG5cdGlmIChHYW1lLk9iamVjdHMuRmFybS5taW5pZ2FtZUxvYWRlZCkge1xuXHRcdGwoJ2dhcmRlblRvb2wtMScpLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkgeyBHYW1lLnRvb2x0aXAuZHluYW1pYyA9IDE7IEdhbWUudG9vbHRpcC5kcmF3KHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIENyZWF0ZVRvb2x0aXAoJ2hhJywgJ0hhcnZlc3RBbGxCdXR0b24nKTsgfSwgJ3RoaXMnKTsgR2FtZS50b29sdGlwLndvYmJsZSgpOyB9O1xuXHRcdEFycmF5LmZyb20obCgnZ2FyZGVuUGxvdCcpLmNoaWxkcmVuKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xuXHRcdFx0Y29uc3QgY29vcmRzID0gY2hpbGQuaWQuc2xpY2UoLTMpO1xuXHRcdFx0Y2hpbGQub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdEdhbWUudG9vbHRpcC5keW5hbWljID0gMTtcblx0XHRcdFx0R2FtZS50b29sdGlwLmRyYXcodGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gQ3JlYXRlVG9vbHRpcCgncCcsIFtgJHtjb29yZHNbMF19YCwgYCR7Y29vcmRzWzJdfWBdKTsgfSwgJ3RoaXMnKTtcblx0XHRcdFx0R2FtZS50b29sdGlwLndvYmJsZSgpO1xuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbCBhbGwgZnVuY3Rpb25zIHRoYXQgcmVwbGFjZSBHYW1lLXRvb2x0aXBzIHdpdGggQ29va2llIE1vbnN0ZXIgZW5oYW5jZWQgdG9vbHRpcHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVwbGFjZVRvb2x0aXBzKCkge1xuXHRSZXBsYWNlVG9vbHRpcEJ1aWxkKCk7XG5cdFJlcGxhY2VUb29sdGlwTHVtcCgpO1xuXG5cdC8vIFJlcGxhY2UgVG9vbHRpcHMgb2YgTWluaWdhbWVzLiBOZXN0aW5nIGl0IGluIExvYWRNaW5pZ2FtZXMgbWFrZXMgc3VyZSB0byByZXBsYWNlIHRoZW0gZXZlbiBpZlxuXHQvLyB0aGV5IHdlcmUgbm90IGxvYWRlZCBpbml0aWFsbHlcblx0TG9hZE1pbmlnYW1lcyA9IEdhbWUuTG9hZE1pbmlnYW1lcztcblx0R2FtZS5Mb2FkTWluaWdhbWVzID0gZnVuY3Rpb24gKCkge1xuXHRcdExvYWRNaW5pZ2FtZXMoKTtcblx0XHRSZXBsYWNlVG9vbHRpcEdhcmRlbigpO1xuXHRcdFJlcGxhY2VUb29sdGlwR3JpbW9pcmUoKTtcblx0XHRSZXBsYWNlTmF0aXZlR3JpbW9pcmUoKTtcblx0fTtcblx0TG9hZE1pbmlnYW1lcygpO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENhY2hlRHJhZ29uQXVyYSwgQ2FjaGVEcmFnb25BdXJhMiB9IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IENhbGN1bGF0ZUdhaW5zIGZyb20gJy4uL0NhbGN1bGF0aW9ucy9DYWxjdWxhdGVHYWlucyc7XG5pbXBvcnQgQ2hlY2tPdGhlckFjaGlldiBmcm9tICcuLi9DYWxjdWxhdGlvbnMvQ2hlY2tPdGhlckFjaGlldic7XG5pbXBvcnQgQ29weURhdGEgZnJvbSAnLi4vU2ltdWxhdGlvbkRhdGEvQ29weURhdGEnO1xuaW1wb3J0IHtcblx0U2ltQWNoaWV2ZW1lbnRzT3duZWQsIFNpbUJ1aWxkaW5nc093bmVkLCBTaW1Db29raWVzUHMsIFNpbURyYWdvbkF1cmEsIFNpbURyYWdvbkF1cmEyLCBTaW1PYmplY3RzLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBjYWxjdWxhdGVzIHRoZSBjcHMgYW5kIGNvc3Qgb2YgY2hhbmdpbmcgYSBEcmFnb24gQXVyYVxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuQWRkQXVyYUluZm8oKVxuICogQHBhcmFtXHR7bnVtYmVyfVx0XHRcdGF1cmFcdFx0XHRcdFx0XHRcdFx0XHRcdFRoZSBudW1iZXIgb2YgdGhlIGF1cmEgY3VycmVudGx5IHNlbGVjdGVkIGJ5IHRoZSBtb3VzZS91c2VyXG4gKiBAcmV0dXJucyB7W251bWJlciwgbnVtYmVyXX0gXHRbQ00uU2ltLmNvb2tpZXNQcyAtIEdhbWUuY29va2llc1BzLCBwcmljZV1cdFRoZSBib251cyBjcHMgYW5kIHRoZSBwcmljZSBvZiB0aGUgY2hhbmdlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbGN1bGF0ZUNoYW5nZUF1cmEoYXVyYSkge1xuXHRDb3B5RGF0YSgpO1xuXG5cdC8vIENoZWNrIGlmIGF1cmEgYmVpbmcgY2hhbmdlZCBpcyBmaXJzdCBvciBzZWNvbmQgYXVyYVxuXHRjb25zdCBhdXJhVG9CZUNoYW5nZWQgPSBsKCdwcm9tcHRDb250ZW50JykuY2hpbGRyZW5bMF0uaW5uZXJIVE1MLmluY2x1ZGVzKCdzZWNvbmRhcnknKTtcblx0aWYgKGF1cmFUb0JlQ2hhbmdlZCkgU2ltRHJhZ29uQXVyYTIgPSBhdXJhO1xuXHRlbHNlIFNpbURyYWdvbkF1cmEgPSBhdXJhO1xuXG5cdC8vIFNlbGwgaGlnaGVzdCBidWlsZGluZyBidXQgb25seSBpZiBhdXJhIGlzIGRpZmZlcmVudFxuXHRsZXQgcHJpY2UgPSAwO1xuXHRpZiAoU2ltRHJhZ29uQXVyYSAhPT0gQ2FjaGVEcmFnb25BdXJhIHx8IFNpbURyYWdvbkF1cmEyICE9PSBDYWNoZURyYWdvbkF1cmEyKSB7XG5cdFx0Zm9yIChsZXQgaSA9IEdhbWUuT2JqZWN0c0J5SWQubGVuZ3RoIC0gMTsgaSA+IC0xOyAtLWkpIHtcblx0XHRcdGlmIChHYW1lLk9iamVjdHNCeUlkW2kgLSAxXS5hbW91bnQgPiAwKSB7XG5cdFx0XHRcdGNvbnN0IGhpZ2hlc3RCdWlsZGluZyA9IFNpbU9iamVjdHNbR2FtZS5PYmplY3RzQnlJZFtpXS5uYW1lXS5uYW1lO1xuXHRcdFx0XHRTaW1PYmplY3RzW2hpZ2hlc3RCdWlsZGluZ10uYW1vdW50IC09IDE7XG5cdFx0XHRcdFNpbUJ1aWxkaW5nc093bmVkIC09IDE7XG5cdFx0XHRcdHByaWNlID0gU2ltT2JqZWN0c1toaWdoZXN0QnVpbGRpbmddLmJhc2VQcmljZSAqIEdhbWUucHJpY2VJbmNyZWFzZSAqKiBNYXRoLm1heCgwLCBTaW1PYmplY3RzW2hpZ2hlc3RCdWlsZGluZ10uYW1vdW50IC0gMSAtIFNpbU9iamVjdHNbaGlnaGVzdEJ1aWxkaW5nXS5mcmVlKTtcblx0XHRcdFx0cHJpY2UgPSBHYW1lLm1vZGlmeUJ1aWxkaW5nUHJpY2UoU2ltT2JqZWN0c1toaWdoZXN0QnVpbGRpbmddLCBwcmljZSk7XG5cdFx0XHRcdHByaWNlID0gTWF0aC5jZWlsKHByaWNlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgbGFzdEFjaGlldmVtZW50c093bmVkID0gU2ltQWNoaWV2ZW1lbnRzT3duZWQ7XG5cdENhbGN1bGF0ZUdhaW5zKCk7XG5cblx0Q2hlY2tPdGhlckFjaGlldigpO1xuXHRpZiAobGFzdEFjaGlldmVtZW50c093bmVkICE9PSBTaW1BY2hpZXZlbWVudHNPd25lZCkge1xuXHRcdENhbGN1bGF0ZUdhaW5zKCk7XG5cdH1cblx0cmV0dXJuIFtTaW1Db29raWVzUHMgLSBHYW1lLmNvb2tpZXNQcywgcHJpY2VdO1xufVxuIiwiLyoqIEZ1bmN0aW9ucyByZWxhdGVkIHRvIHRoZSBEcmFnb24gKi9cblxuaW1wb3J0IENhY2hlRHJhZ29uQ29zdCBmcm9tICcuLi8uLi9DYWNoZS9EcmFnb24vRHJhZ29uJztcbmltcG9ydCB7IENhY2hlQ29zdERyYWdvblVwZ3JhZGUgfSBmcm9tICcuLi8uLi9DYWNoZS9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCBDYWxjdWxhdGVDaGFuZ2VBdXJhIGZyb20gJy4uLy4uL1NpbS9TaW11bGF0aW9uRXZlbnRzL0F1cmFDaGFuZ2UnO1xuaW1wb3J0IHsgQmVhdXRpZnksIEZvcm1hdFRpbWUgfSBmcm9tICcuLi9CZWF1dGlmeUFuZEZvcm1hdHRpbmcvQmVhdXRpZnlGb3JtYXR0aW5nJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBhZGRzIHRoZSB0d28gZXh0cmEgbGluZXMgYWJvdXQgQ1BTIGFuZCB0aW1lIHRvIHJlY292ZXIgdG8gdGhlIGF1cmEgcGlja2VyIGluZm9zY3JlZW5cbiAqIEBwYXJhbVx0e251bWJlcn1cdGF1cmFcdFRoZSBudW1iZXIgb2YgdGhlIGF1cmEgY3VycmVudGx5IHNlbGVjdGVkIGJ5IHRoZSBtb3VzZS91c2VyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBZGRBdXJhSW5mbyhhdXJhKSB7XG5cdGlmIChDTU9wdGlvbnMuRHJhZ29uQXVyYUluZm8gPT09IDEpIHtcblx0XHRjb25zdCBbYm9udXNDUFMsIHByaWNlT2ZDaGFuZ2VdID0gQ2FsY3VsYXRlQ2hhbmdlQXVyYShhdXJhKTtcblx0XHRjb25zdCB0aW1lVG9SZWNvdmVyID0gRm9ybWF0VGltZShwcmljZU9mQ2hhbmdlIC8gKGJvbnVzQ1BTICsgR2FtZS5jb29raWVzUHMpKTtcblx0XHRjb25zdCBib251c0NQU1BlcmNlbnRhZ2UgPSBCZWF1dGlmeShib251c0NQUyAvIEdhbWUuY29va2llc1BzKTtcblxuXHRcdGwoJ2RyYWdvbkF1cmFJbmZvJykuc3R5bGUubWluSGVpZ2h0ID0gJzYwcHgnO1xuXHRcdGwoJ2RyYWdvbkF1cmFJbmZvJykuc3R5bGUubWFyZ2luID0gJzhweCc7XG5cdFx0bCgnZHJhZ29uQXVyYUluZm8nKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuY2xhc3NOYW1lID0gJ2xpbmUnO1xuXHRcdGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGRpdi5zdHlsZS5taW5XaWR0aCA9ICcyMDBweCc7XG5cdFx0ZGl2LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHRcdGRpdi50ZXh0Q29udGVudCA9IGBQaWNraW5nIHRoaXMgYXVyYSB3aWxsIGNoYW5nZSBDUFMgYnkgJHtCZWF1dGlmeShib251c0NQUyl9ICgke2JvbnVzQ1BTUGVyY2VudGFnZX0lIG9mIGN1cnJlbnQgQ1BTKS5gO1xuXHRcdGwoJ2RyYWdvbkF1cmFJbmZvJykuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHRjb25zdCBkaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0ZGl2Mi5zdHlsZS5taW5XaWR0aCA9ICcyMDBweCc7XG5cdFx0ZGl2Mi5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcblx0XHRkaXYyLnRleHRDb250ZW50ID0gYEl0IHdpbGwgdGFrZSAke3RpbWVUb1JlY292ZXJ9IHRvIHJlY292ZXIgdGhlIGNvc3QuYDtcblx0XHRsKCdkcmFnb25BdXJhSW5mbycpLmFwcGVuZENoaWxkKGRpdjIpO1xuXHR9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbnMgYWRkcyBhIHRvb2x0aXAgdG8gdGhlIGxldmVsIHVwIGJ1dHRvbiBkaXNwbGF5aW5nIHRoZSBjb3N0IG9mIHJlYnV5aW5nIGFsbFxuICogSXQgaXMgY2FsbGVkIGJ5IEdhbWUuVG9nZ2xlU3BlY2lhbE1lbnUoKSBhZnRlciBDTS5NYWluLlJlcGxhY2VOYXRpdmUoKVxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRHJhZ29uTGV2ZWxVcFRvb2x0aXAoKSB7XG5cdC8vIENoZWNrIGlmIGl0IGlzIHRoZSBkcmFnb24gcG9wdXAgdGhhdCBpcyBvbiBzY3JlZW5cblx0aWYgKChsKCdzcGVjaWFsUG9wdXAnKS5jbGFzc05hbWUubWF0Y2goL29uU2NyZWVuLykgJiYgbCgnc3BlY2lhbFBvcHVwJykuY2hpbGRyZW5bMF0uc3R5bGUuYmFja2dyb3VuZC5tYXRjaCgvZHJhZ29uLykpICE9PSBudWxsKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsKCdzcGVjaWFsUG9wdXAnKS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAobCgnc3BlY2lhbFBvcHVwJykuY2hpbGROb2Rlc1tpXS5jbGFzc05hbWUgPT09ICdvcHRpb25Cb3gnKSB7XG5cdFx0XHRcdGwoJ3NwZWNpYWxQb3B1cCcpLmNoaWxkcmVuW2ldLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdENhY2hlRHJhZ29uQ29zdCgpO1xuXHRcdFx0XHRcdEdhbWUudG9vbHRpcC5keW5hbWljID0gMTtcblx0XHRcdFx0XHRHYW1lLnRvb2x0aXAuZHJhdyhsKCdzcGVjaWFsUG9wdXAnKSwgYDxkaXYgc3R5bGU9XCJtaW4td2lkdGg6MjAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7XCI+JHtDYWNoZUNvc3REcmFnb25VcGdyYWRlfTwvZGl2PmAsICd0aGlzJyk7XG5cdFx0XHRcdFx0R2FtZS50b29sdGlwLndvYmJsZSgpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRsKCdzcGVjaWFsUG9wdXAnKS5jaGlsZHJlbltpXS5vbm1vdXNlb3V0ID0gZnVuY3Rpb24gKCkgeyBHYW1lLnRvb2x0aXAuc2hvdWxkSGlkZSA9IDE7IH07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCB9IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IENhbGN1bGF0ZUdhaW5zIGZyb20gJy4uL0NhbGN1bGF0aW9ucy9DYWxjdWxhdGVHYWlucyc7XG5pbXBvcnQgQ2hlY2tPdGhlckFjaGlldiBmcm9tICcuLi9DYWxjdWxhdGlvbnMvQ2hlY2tPdGhlckFjaGlldic7XG5pbXBvcnQgQ29weURhdGEgZnJvbSAnLi4vU2ltdWxhdGlvbkRhdGEvQ29weURhdGEnO1xuaW1wb3J0IFNpbVdpbiBmcm9tICcuLi9TaW11bGF0aW9uRGF0YS9TaW1XaW4nO1xuaW1wb3J0IHtcblx0U2ltQWNoaWV2ZW1lbnRzT3duZWQsIFNpbUNvb2tpZXNQcywgU2ltUHJlc3RpZ2UsIFNpbVVwZ3JhZGVzLFxufSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIGNvb2tpZXMgcGVyIGNsaWNrIGRpZmZlcmVuY2UgYmV0d2VuZSBjdXJyZW50IGFuZCBhZnRlciBhIGFzY2Vuc2lvblxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuQ3JlYXRlU3RhdHNQcmVzdGlnZVNlY3Rpb24oKVxuICogQHBhcmFtXHR7bnVtYmVyfVx0bmV3SGVhdmVubHlDaGlwc1x0VGhlIHRvdGFsIGhlYXZlbmx5IGNoaXBzIGFmdGVyIGFzY2Vuc2lvblxuICogQHJldHVybnNcdHtudW1iZXJ9XHRSZXNldENQU1x0XHRcdFRoZSBDUFMgZGlmZmVyZW5jZSBhZnRlciByZXNldFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNldEJvbnVzKG5ld0hlYXZlbmx5Q2hpcHMpIHtcblx0Ly8gQ2FsY3VsYXRlIENQUyB3aXRoIGFsbCBIZWF2ZW5seSB1cGdyYWRlc1xuXHRsZXQgY3VyQ1BTID0gR2FtZS5jb29raWVzUHM7XG5cblx0Q29weURhdGEoKTtcblxuXHRpZiAoU2ltVXBncmFkZXNbJ0hlYXZlbmx5IGtleSddLmJvdWdodCA9PT0gMCkge1xuXHRcdFNpbVVwZ3JhZGVzWydIZWF2ZW5seSBjaGlwIHNlY3JldCddLmJvdWdodCA9IDE7XG5cdFx0U2ltVXBncmFkZXNbJ0hlYXZlbmx5IGNvb2tpZSBzdGFuZCddLmJvdWdodCA9IDE7XG5cdFx0U2ltVXBncmFkZXNbJ0hlYXZlbmx5IGJha2VyeSddLmJvdWdodCA9IDE7XG5cdFx0U2ltVXBncmFkZXNbJ0hlYXZlbmx5IGNvbmZlY3Rpb25lcnknXS5ib3VnaHQgPSAxO1xuXHRcdFNpbVVwZ3JhZGVzWydIZWF2ZW5seSBrZXknXS5ib3VnaHQgPSAxO1xuXG5cdFx0Q2FsY3VsYXRlR2FpbnMoKTtcblxuXHRcdGN1ckNQUyA9IFNpbUNvb2tpZXNQcztcblxuXHRcdENvcHlEYXRhKCk7XG5cdH1cblxuXHRpZiAoQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCA+PSAxMDAwMDAwKSBTaW1XaW4oJ1NhY3JpZmljZScpO1xuXHRpZiAoQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCA+PSAxMDAwMDAwMDAwKSBTaW1XaW4oJ09ibGl2aW9uJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDApIFNpbVdpbignRnJvbSBzY3JhdGNoJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignTmloaWxpc20nKTtcblx0aWYgKENhY2hlUmVhbENvb2tpZXNFYXJuZWQgPj0gMTAwMDAwMDAwMDAwMDAwMDAwMCkgU2ltV2luKCdEZW1hdGVyaWFsaXplJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignTmlsIHplcm8gemlsY2gnKTtcblx0aWYgKENhY2hlUmVhbENvb2tpZXNFYXJuZWQgPj0gMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCkgU2ltV2luKCdUcmFuc2NlbmRlbmNlJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignT2JsaXRlcmF0ZScpO1xuXHRpZiAoQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCA+PSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKSBTaW1XaW4oJ05lZ2F0aXZlIHZvaWQnKTtcblx0aWYgKENhY2hlUmVhbENvb2tpZXNFYXJuZWQgPj0gMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCkgU2ltV2luKCdUbyBjcnVtYnMsIHlvdSBzYXk/Jyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignWW91IGdldCBub3RoaW5nJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignSHVtYmxlIHJlYmVnaW5uaW5ncycpO1xuXHRpZiAoQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCA+PSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKSBTaW1XaW4oJ1RoZSBlbmQgb2YgdGhlIHdvcmxkJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignT2gsIHlvdVxcJ3JlIGJhY2snKTtcblx0aWYgKENhY2hlUmVhbENvb2tpZXNFYXJuZWQgPj0gMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCkgU2ltV2luKCdMYXphcnVzJyk7XG5cdGlmIChDYWNoZVJlYWxDb29raWVzRWFybmVkID49IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIFNpbVdpbignU211cmYgYWNjb3VudCcpO1xuXHRpZiAoQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCA+PSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKSBTaW1XaW4oJ0lmIGF0IGZpcnN0IHlvdSBkb25cXCd0IHN1Y2NlZWQnKTtcblxuXHRTaW1VcGdyYWRlc1snSGVhdmVubHkgY2hpcCBzZWNyZXQnXS5ib3VnaHQgPSAxO1xuXHRTaW1VcGdyYWRlc1snSGVhdmVubHkgY29va2llIHN0YW5kJ10uYm91Z2h0ID0gMTtcblx0U2ltVXBncmFkZXNbJ0hlYXZlbmx5IGJha2VyeSddLmJvdWdodCA9IDE7XG5cdFNpbVVwZ3JhZGVzWydIZWF2ZW5seSBjb25mZWN0aW9uZXJ5J10uYm91Z2h0ID0gMTtcblx0U2ltVXBncmFkZXNbJ0hlYXZlbmx5IGtleSddLmJvdWdodCA9IDE7XG5cblx0U2ltUHJlc3RpZ2UgPSBuZXdIZWF2ZW5seUNoaXBzO1xuXG5cdGNvbnN0IGxhc3RBY2hpZXZlbWVudHNPd25lZCA9IFNpbUFjaGlldmVtZW50c093bmVkO1xuXG5cdENhbGN1bGF0ZUdhaW5zKCk7XG5cblx0Q2hlY2tPdGhlckFjaGlldigpO1xuXG5cdGlmIChsYXN0QWNoaWV2ZW1lbnRzT3duZWQgIT09IENNLlNpbS5BY2hpZXZlbWVudHNPd25lZCkge1xuXHRcdENhbGN1bGF0ZUdhaW5zKCk7XG5cdH1cblxuXHRjb25zdCBSZXNldENQUyA9IFNpbUNvb2tpZXNQcyAtIGN1ckNQUztcblxuXHQvLyBSZXNldCBQcmV0aWdlIGxldmVsIGFmdGVyIGNhbGN1bGF0aW9uIGFzIGl0IGlzIHVzZWQgaW4gQ00uU2ltLkNhbGN1bGF0ZUdhaW5zKCkgc28gY2FuJ3QgYmUgbG9jYWxcblx0U2ltUHJlc3RpZ2UgPSBHYW1lLnByZXN0aWdlO1xuXG5cdHJldHVybiBSZXNldENQUztcbn1cbiIsImltcG9ydCB7IGRlZmF1bHQgYXMgQ29uZmlnRGF0YSB9IGZyb20gJy4uL0RhdGEvU2V0dGluZ3NEYXRhJztcbmltcG9ydCB7IFNhdmVDb25maWcgfSBmcm9tICcuL1NhdmVMb2FkUmVsb2FkL1NhdmVMb2FkUmVsb2FkU2V0dGluZ3MnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqIEZ1bmN0aW9ucyByZWxhdGVkIHRvIHRvZ2dsaW5nIG9yIGNoYW5naW5nIGFuIGluZGl2aWR1YWwgc2V0dGluZyAqL1xuXG4vKiogVXNlZCB0byBuYW1lIGNlcnRhaW4gRE9NIG9yIG91dHNpZGUgZmFjaW5nIGVsZW1lbnRzIGFuZCByZWZlciB0byB0aGVtICovXG5leHBvcnQgY29uc3QgQ29uZmlnUHJlZml4ID0gJ0NNQ29uZmlnJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRvZ2dsZXMgb3B0aW9ucyBieSBpbmNyZW1lbnRpbmcgdGhlbSB3aXRoIDEgYW5kIGhhbmRsaW5nIGNoYW5nZXNcbiAqIEl0IGlzIGNhbGxlZCBieSB0aGUgb25jbGljayBldmVudCBvZiBvcHRpb25zIG9mIHRoZSBcImJvb2xcIiB0eXBlXG4gKiBAcGFyYW0gXHR7c3RyaW5nfVx0Y29uZmlnXHRUaGUgbmFtZSBvZiB0aGUgb3B0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUb2dnbGVDb25maWcoY29uZmlnKSB7XG5cdENNT3B0aW9uc1tjb25maWddKys7XG5cblx0aWYgKENNT3B0aW9uc1tjb25maWddID09PSBDb25maWdEYXRhW2NvbmZpZ10ubGFiZWwubGVuZ3RoKSB7XG5cdFx0Q01PcHRpb25zW2NvbmZpZ10gPSAwO1xuXHRcdGlmIChDb25maWdEYXRhW2NvbmZpZ10udG9nZ2xlKSBsKENvbmZpZ1ByZWZpeCArIGNvbmZpZykuY2xhc3NOYW1lID0gJ29wdGlvbiBvZmYnO1xuXHR9IGVsc2UgbChDb25maWdQcmVmaXggKyBjb25maWcpLmNsYXNzTmFtZSA9ICdvcHRpb24nO1xuXG5cdGlmICh0eXBlb2YgQ29uZmlnRGF0YVtjb25maWddLmZ1bmMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Q29uZmlnRGF0YVtjb25maWddLmZ1bmMoKTtcblx0fVxuXG5cdGwoQ29uZmlnUHJlZml4ICsgY29uZmlnKS5pbm5lckhUTUwgPSBDb25maWdEYXRhW2NvbmZpZ10ubGFiZWxbQ01PcHRpb25zW2NvbmZpZ11dO1xuXHRTYXZlQ29uZmlnKCk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZXRzIHRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIHZvbHVtZS1vcHRpb24gYW5kIHVwZGF0ZXMgdGhlIGRpc3BsYXkgaW4gdGhlIG9wdGlvbnMgbWVudVxuICogSXQgaXMgY2FsbGVkIGJ5IHRoZSBvbmlucHV0IGFuZCBvbmNoYW5nZSBldmVudCBvZiBcInZvbFwiIHR5cGUgb3B0aW9uc1xuICogQHBhcmFtIFx0e3N0cmluZ31cdGNvbmZpZ1x0VGhlIG5hbWUgb2YgdGhlIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlQ29uZmlnVm9sdW1lKGNvbmZpZykge1xuXHRpZiAobChgc2xpZGVyJHtjb25maWd9YCkgIT09IG51bGwpIHtcblx0XHRsKGBzbGlkZXIke2NvbmZpZ31yaWdodGApLmlubmVySFRNTCA9IGAke2woYHNsaWRlciR7Y29uZmlnfWApLnZhbHVlfSVgO1xuXHRcdENNT3B0aW9uc1tjb25maWddID0gTWF0aC5yb3VuZChsKGBzbGlkZXIke2NvbmZpZ31gKS52YWx1ZSk7XG5cdH1cblx0U2F2ZUNvbmZpZygpO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdG9nZ2xlcyBoZWFkZXIgb3B0aW9ucyBieSBpbmNyZW1lbnRpbmcgdGhlbSB3aXRoIDEgYW5kIGhhbmRsaW5nIGNoYW5nZXNcbiAqIEl0IGlzIGNhbGxlZCBieSB0aGUgb25jbGljayBldmVudCBvZiB0aGUgKy8tIG5leHQgdG8gaGVhZGVyc1xuICogQHBhcmFtIFx0e3N0cmluZ31cdGNvbmZpZ1x0VGhlIG5hbWUgb2YgdGhlIGhlYWRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlSGVhZGVyKGNvbmZpZykge1xuXHRDTU9wdGlvbnMuSGVhZGVyW2NvbmZpZ10rKztcblx0aWYgKENNT3B0aW9ucy5IZWFkZXJbY29uZmlnXSA+IDEpIENNT3B0aW9ucy5IZWFkZXJbY29uZmlnXSA9IDA7XG5cdFNhdmVDb25maWcoKTtcbn1cbiIsIi8qKiBTZWN0aW9uOiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgY3JlYXRpb24gb2YgYmFzaWMgRE9NIGVsZW1lbnRzIHBhZ2UgKi9cblxuaW1wb3J0IHsgVG9nZ2xlSGVhZGVyIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1RvZ2dsZVNldHRpbmcnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgVG9vbHRpcFRleHQgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBoZWFkZXItb2JqZWN0IGZvciB0aGUgc3RhdHMgcGFnZVxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuQWRkTWVudVN0YXRzKClcbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdGNvbmZpZ1x0VGhlIG5hbWUgb2YgdGhlIENvbmZpZy1ncm91cFxuICogQHBhcmFtIFx0e3N0cmluZ31cdFx0dGV4dFx0VGhlIHRvLWJlIGRpc3BsYXllZCBuYW1lIG9mIHRoZSBoZWFkZXJcbiAqIEByZXR1cm5zXHR7b2JqZWN0fVx0XHRkaXZcdFx0VGhlIGhlYWRlciBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFN0YXRzSGVhZGVyKHRleHQsIGNvbmZpZykge1xuXHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LmNsYXNzTmFtZSA9ICd0aXRsZSc7XG5cdGRpdi5zdHlsZS5wYWRkaW5nID0gJzBweCAxNnB4Jztcblx0ZGl2LnN0eWxlLm9wYWNpdHkgPSAnMC43Jztcblx0ZGl2LnN0eWxlLmZvbnRTaXplID0gJzE3cHgnO1xuXHRkaXYuc3R5bGUuZm9udEZhbWlseSA9ICdcIkthdm9vblwiLCBHZW9yZ2lhLCBzZXJpZic7XG5cdGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHt0ZXh0fSBgKSk7XG5cdGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdHNwYW4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXHRzcGFuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0c3Bhbi5zdHlsZS5oZWlnaHQgPSAnMTRweCc7XG5cdHNwYW4uc3R5bGUud2lkdGggPSAnMTRweCc7XG5cdHNwYW4uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzdweCc7XG5cdHNwYW4uc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdHNwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNDMEMwQzAnO1xuXHRzcGFuLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcblx0c3Bhbi5zdHlsZS5mb250U2l6ZSA9ICcxM3B4Jztcblx0c3Bhbi5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XG5cdHNwYW4udGV4dENvbnRlbnQgPSBDTU9wdGlvbnMuSGVhZGVyW2NvbmZpZ10gPyAnLScgOiAnKyc7XG5cdHNwYW4ub25jbGljayA9IGZ1bmN0aW9uICgpIHsgVG9nZ2xlSGVhZGVyKGNvbmZpZyk7IEdhbWUuVXBkYXRlTWVudSgpOyB9O1xuXHRkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cdHJldHVybiBkaXY7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGFuIHN0YXRzLWxpc3Rpbmctb2JqZWN0IGZvciB0aGUgc3RhdHMgcGFnZVxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuQWRkTWVudVN0YXRzKClcbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdHR5cGVcdFx0VGhlIHR5cGUgZm8gdGhlIGxpc3RpbmdcbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdG5hbWVcdFx0VGhlIG5hbWUgb2YgdGhlIG9wdGlvblxuICogQHBhcmFtIFx0e29iamVjdH1cdFx0dGV4dFx0XHRUaGUgdGV4dC1vYmplY3Qgb2YgdGhlIG9wdGlvblxuICogQHBhcmFtIFx0e3N0cmluZ31cdFx0cGxhY2Vob2xkZXJcdFRoZSBpZCBvZiB0aGUgdG8tYmUgZGlzcGxheWVkIHRvb2x0aXAgaWYgYXBwbGljYWJsZVxuICogQHJldHVybnNcdHtvYmplY3R9XHRcdGRpdlx0XHRcdFRoZSBvcHRpb24gb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTdGF0c0xpc3RpbmcodHlwZSwgbmFtZSwgdGV4dCwgcGxhY2Vob2xkZXIpIHtcblx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGRpdi5jbGFzc05hbWUgPSAnbGlzdGluZyc7XG5cblx0Y29uc3QgbGlzdGluZ05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdiJyk7XG5cdGxpc3RpbmdOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcblx0ZGl2LmFwcGVuZENoaWxkKGxpc3RpbmdOYW1lKTtcblx0aWYgKHR5cGUgPT09ICd3aXRoVG9vbHRpcCcpIHtcblx0XHRkaXYuY2xhc3NOYW1lID0gJ2xpc3RpbmcnO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTtcblxuXHRcdGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0dG9vbHRpcC5vbm1vdXNlb3V0ID0gZnVuY3Rpb24gKCkgeyBHYW1lLnRvb2x0aXAuaGlkZSgpOyB9O1xuXHRcdHRvb2x0aXAub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoKSB7IEdhbWUudG9vbHRpcC5kcmF3KHRoaXMsIGVzY2FwZShUb29sdGlwVGV4dFtwbGFjZWhvbGRlcl0uaW5uZXJIVE1MKSk7IH07XG5cdFx0dG9vbHRpcC5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG5cdFx0dG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG5cdFx0dG9vbHRpcC5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG5cdFx0dG9vbHRpcC5zdHlsZS53aWR0aCA9ICcxMHB4Jztcblx0XHR0b29sdGlwLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnO1xuXHRcdHRvb2x0aXAuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdFx0dG9vbHRpcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0MwQzBDMCc7XG5cdFx0dG9vbHRpcC5zdHlsZS5jb2xvciA9ICdibGFjayc7XG5cdFx0dG9vbHRpcC5zdHlsZS5mb250U2l6ZSA9ICc5cHgnO1xuXHRcdHRvb2x0aXAuc3R5bGUudmVydGljYWxBbGlnbiA9ICdib3R0b20nO1xuXHRcdHRvb2x0aXAudGV4dENvbnRlbnQgPSAnPyc7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKHRvb2x0aXApO1xuXHR9XG5cdGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnOiAnKSk7XG5cdGRpdi5hcHBlbmRDaGlsZCh0ZXh0KTtcblx0cmV0dXJuIGRpdjtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSB0b29sdGlwIGNvbnRhaW5pbmcgYWxsIG1pc3NpbmcgaG9saWRheSBpdGVtcyBjb250YWluZWQgaW4gdGhlIGxpc3QgdGhlTWlzc0Rpc3BcbiAqIEBwYXJhbSBcdHtsaXN0fVx0XHRcdHRoZU1pc3NEaXNwXHRcdEEgbGlzdCBvZiB0aGUgbWlzc2luZyBob2xpZGF5IGl0ZW1zXG4gKiBAcmV0dXJuc1x0e29iamVjdH1cdFx0ZnJhZ1x0XHRcdFRoZSB0b29sdGlwIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gU3RhdHNNaXNzRGlzcCh0aGVNaXNzRGlzcCkge1xuXHRjb25zdCBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRmcmFnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGAke3RoZU1pc3NEaXNwLmxlbmd0aH0gYCkpO1xuXHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRzcGFuLm9ubW91c2VvdXQgPSBmdW5jdGlvbiAoKSB7IEdhbWUudG9vbHRpcC5oaWRlKCk7IH07XG5cdGNvbnN0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGNvbnN0IG1pc3NpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0bWlzc2luZy5zdHlsZS5taW5XaWR0aCA9ICcxNDBweCc7XG5cdG1pc3Npbmcuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7XG5cdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHRpdGxlLmNsYXNzTmFtZSA9ICduYW1lJztcblx0dGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7XG5cdHRpdGxlLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHR0aXRsZS50ZXh0Q29udGVudCA9ICdNaXNzaW5nJztcblx0bWlzc2luZy5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGVNaXNzRGlzcCkpIHtcblx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRkaXYuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoZU1pc3NEaXNwW2ldKSk7XG5cdFx0bWlzc2luZy5hcHBlbmRDaGlsZChkaXYpO1xuXHR9XG5cdHBsYWNlaG9sZGVyLmFwcGVuZENoaWxkKG1pc3NpbmcpO1xuXHRzcGFuLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkgeyBHYW1lLnRvb2x0aXAuZHJhdyh0aGlzLCBlc2NhcGUocGxhY2Vob2xkZXIuaW5uZXJIVE1MKSk7IH07XG5cdHNwYW4uc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuXHRzcGFuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0c3Bhbi5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG5cdHNwYW4uc3R5bGUud2lkdGggPSAnMTBweCc7XG5cdHNwYW4uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7XG5cdHNwYW4uc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdHNwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNDMEMwQzAnO1xuXHRzcGFuLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcblx0c3Bhbi5zdHlsZS5mb250U2l6ZSA9ICc5cHgnO1xuXHRzcGFuLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnYm90dG9tJztcblx0c3Bhbi50ZXh0Q29udGVudCA9ICc/Jztcblx0ZnJhZy5hcHBlbmRDaGlsZChzcGFuKTtcblx0cmV0dXJuIGZyYWc7XG59XG4iLCIvKiogRnVuY3Rpb25zIHRvIGNyZWF0ZSB0aGUgaW5kaXZpZHVhbCBzZWN0aW9ucyBvZiB0aGUgU3RhdGlzdGljcyBwYWdlICovXG5cbmltcG9ydCB7IE1heENoYWluQ29va2llUmV3YXJkIH0gZnJvbSAnLi4vLi4vQ2FjaGUvU3RhdHMvQ2hhaW5Db29raWVzJztcbmltcG9ydCB7XG5cdENhY2hlQXZnQ1BTV2l0aENob0VnZyxcblx0Q2FjaGVDaGFpbkZyZW56eU1heFJld2FyZCxcblx0Q2FjaGVDaGFpbkZyZW56eVJlcXVpcmVkLFxuXHRDYWNoZUNoYWluRnJlbnp5UmVxdWlyZWROZXh0LFxuXHRDYWNoZUNoYWluRnJlbnp5V3JhdGhSZXF1aXJlZCxcblx0Q2FjaGVDaGFpbkZyZW56eVdyYXRoUmVxdWlyZWROZXh0LFxuXHRDYWNoZUNoYWluTWF4UmV3YXJkLFxuXHRDYWNoZUNoYWluUmVxdWlyZWQsXG5cdENhY2hlQ2hhaW5SZXF1aXJlZE5leHQsXG5cdENhY2hlQ2hhaW5XcmF0aE1heFJld2FyZCxcblx0Q2FjaGVDaGFpbldyYXRoUmVxdWlyZWQsXG5cdENhY2hlQ2hhaW5XcmF0aFJlcXVpcmVkTmV4dCxcblx0Q2FjaGVDb25qdXJlLFxuXHRDYWNoZUNvbmp1cmVSZXdhcmQsXG5cdENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudCxcblx0Q2FjaGVFZGlmaWNlLFxuXHRDYWNoZUVkaWZpY2VCdWlsZGluZyxcblx0Q2FjaGVHb2xkZW5Db29raWVzTXVsdCxcblx0Q2FjaGVIQ1BlclNlY29uZCwgQ2FjaGVMYXN0Q2hvRWdnLCBDYWNoZUx1Y2t5LCBDYWNoZUx1Y2t5RnJlbnp5LCBDYWNoZUx1Y2t5UmV3YXJkLCBDYWNoZUx1Y2t5UmV3YXJkRnJlbnp5LCBDYWNoZUx1Y2t5V3JhdGhSZXdhcmQsIENhY2hlTHVja3lXcmF0aFJld2FyZEZyZW56eSwgQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMsIENhY2hlUmVhbENvb2tpZXNFYXJuZWQsIENhY2hlV3JhdGhDb29raWVzTXVsdCwgQ2FjaGVXcmlua2xlcnNUb3RhbCxcbn0gZnJvbSAnLi4vLi4vQ2FjaGUvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgUmVzZXRCb251cyBmcm9tICcuLi8uLi9TaW0vU2ltdWxhdGlvbkV2ZW50cy9SZXNldEFzY2Vuc2lvbic7XG5pbXBvcnQgeyBCZWF1dGlmeSwgRm9ybWF0VGltZSB9IGZyb20gJy4uL0JlYXV0aWZ5QW5kRm9ybWF0dGluZy9CZWF1dGlmeUZvcm1hdHRpbmcnO1xuXG5pbXBvcnQgR2V0Q1BTIGZyb20gJy4uL0hlbHBlckZ1bmN0aW9ucy9HZXRDUFMnO1xuaW1wb3J0IEdldFdyaW5rQ29uZmlnQmFuayBmcm9tICcuLi9IZWxwZXJGdW5jdGlvbnMvR2V0V3JpbmtDb25maWdCYW5rJztcbmltcG9ydCB7IENvbG9yR3JlZW4sIENvbG9yUmVkLCBDb2xvclRleHRQcmUgfSBmcm9tICcuLi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IFN0YXRzTGlzdGluZyB9IGZyb20gJy4vQ3JlYXRlRE9NRWxlbWVudHMnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgXCJMdWNreVwiIHNlY3Rpb24gb2YgdGhlIHN0YXRzIHBhZ2VcbiAqIEByZXR1cm5zXHR7b2JqZWN0fVx0c2VjdGlvblx0XHRUaGUgb2JqZWN0IGNvbnRhdGluZyB0aGUgTHVja3kgc2VjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gTHVja3lTZWN0aW9uKCkge1xuXHQvLyBUaGlzIHNldHMgd2hpY2ggdG9vbHRpcCB0byBkaXNwbGF5IGZvciBjZXJ0YWluIHN0YXRzXG5cdGNvbnN0IGdvbGRDb29rVG9vbHRpcCA9IEdhbWUuYXVyYU11bHQoJ0RyYWdvblxcJ3MgRm9ydHVuZScpID8gJ0dvbGRDb29rRHJhZ29uc0ZvcnR1bmVUb29sdGlwUGxhY2Vob2xkZXInIDogJ0dvbGRDb29rVG9vbHRpcFBsYWNlaG9sZGVyJztcblxuXHRjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHNlY3Rpb24uY2xhc3NOYW1lID0gJ0NNU3RhdHNMdWNreVNlY3Rpb24nO1xuXG5cdGNvbnN0IGx1Y2t5Q29sb3IgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlTHVja3kpID8gQ29sb3JSZWQgOiBDb2xvckdyZWVuO1xuXHRjb25zdCBsdWNreVRpbWUgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlTHVja3kpID8gRm9ybWF0VGltZSgoQ2FjaGVMdWNreSAtIChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkpIC8gR2V0Q1BTKCkpIDogJyc7XG5cdGNvbnN0IGx1Y2t5UmVxRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0Y29uc3QgbHVja3lSZXFTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRsdWNreVJlcVNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0bHVja3lSZXFTcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGx1Y2t5Q29sb3I7XG5cdGx1Y2t5UmVxU3Bhbi50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KENhY2hlTHVja3kpO1xuXHRsdWNreVJlcUZyYWcuYXBwZW5kQ2hpbGQobHVja3lSZXFTcGFuKTtcblx0aWYgKGx1Y2t5VGltZSAhPT0gJycpIHtcblx0XHRjb25zdCBsdWNreVJlcVNtYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcblx0XHRsdWNreVJlcVNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtsdWNreVRpbWV9KWA7XG5cdFx0bHVja3lSZXFGcmFnLmFwcGVuZENoaWxkKGx1Y2t5UmVxU21hbGwpO1xuXHR9XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkx1Y2t5IVwiIENvb2tpZXMgUmVxdWlyZWQnLCBsdWNreVJlcUZyYWcsIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdGNvbnN0IGx1Y2t5Q29sb3JGcmVuenkgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlTHVja3lGcmVuenkpID8gQ29sb3JSZWQgOiBDb2xvckdyZWVuO1xuXHRjb25zdCBsdWNreVRpbWVGcmVuenkgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlTHVja3lGcmVuenkpID8gRm9ybWF0VGltZSgoQ2FjaGVMdWNreUZyZW56eSAtIChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkpIC8gR2V0Q1BTKCkpIDogJyc7XG5cdGNvbnN0IGx1Y2t5UmVxRnJlbkZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdGNvbnN0IGx1Y2t5UmVxRnJlblNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdGx1Y2t5UmVxRnJlblNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0bHVja3lSZXFGcmVuU3Bhbi5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBsdWNreUNvbG9yRnJlbnp5O1xuXHRsdWNreVJlcUZyZW5TcGFuLnRleHRDb250ZW50ID0gQmVhdXRpZnkoQ2FjaGVMdWNreUZyZW56eSk7XG5cdGx1Y2t5UmVxRnJlbkZyYWcuYXBwZW5kQ2hpbGQobHVja3lSZXFGcmVuU3Bhbik7XG5cdGlmIChsdWNreVRpbWVGcmVuenkgIT09ICcnKSB7XG5cdFx0Y29uc3QgbHVja3lSZXFGcmVuU21hbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzbWFsbCcpO1xuXHRcdGx1Y2t5UmVxRnJlblNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtsdWNreVRpbWVGcmVuenl9KWA7XG5cdFx0bHVja3lSZXFGcmVuRnJhZy5hcHBlbmRDaGlsZChsdWNreVJlcUZyZW5TbWFsbCk7XG5cdH1cblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ1wiTHVja3khXCIgQ29va2llcyBSZXF1aXJlZCAoRnJlbnp5KScsIGx1Y2t5UmVxRnJlbkZyYWcsIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdGNvbnN0IGx1Y2t5U3BsaXQgPSBDYWNoZUx1Y2t5UmV3YXJkICE9PSBDYWNoZUx1Y2t5V3JhdGhSZXdhcmQ7XG5cblx0Y29uc3QgbHVja3lSZXdhcmRNYXhTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRsdWNreVJld2FyZE1heFNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0bHVja3lSZXdhcmRNYXhTcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIENhY2hlTHVja3lSZXdhcmQ7XG5cdGx1Y2t5UmV3YXJkTWF4U3Bhbi50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KENhY2hlTHVja3lSZXdhcmQpICsgKGx1Y2t5U3BsaXQgPyAoYCAvICR7QmVhdXRpZnkoQ2FjaGVMdWNreVdyYXRoUmV3YXJkKX1gKSA6ICcnKTtcblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgYFwiTHVja3khXCIgUmV3YXJkIChNQVgpJHtsdWNreVNwbGl0ID8gJyAoR29sZGVuIC8gV3JhdGgpJyA6ICcnfWAsIGx1Y2t5UmV3YXJkTWF4U3BhbiwgZ29sZENvb2tUb29sdGlwKSk7XG5cblx0Y29uc3QgbHVja3lSZXdhcmRGcmVuenlNYXhTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRsdWNreVJld2FyZEZyZW56eU1heFNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0bHVja3lSZXdhcmRGcmVuenlNYXhTcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGx1Y2t5UmV3YXJkRnJlbnp5TWF4U3Bhbjtcblx0bHVja3lSZXdhcmRGcmVuenlNYXhTcGFuLnRleHRDb250ZW50ID0gQmVhdXRpZnkoQ2FjaGVMdWNreVJld2FyZEZyZW56eSkgKyAobHVja3lTcGxpdCA/IChgIC8gJHtCZWF1dGlmeShDYWNoZUx1Y2t5V3JhdGhSZXdhcmRGcmVuenkpfWApIDogJycpO1xuXHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnd2l0aFRvb2x0aXAnLCBgXCJMdWNreSFcIiBSZXdhcmQgKE1BWCkgKEZyZW56eSkke2x1Y2t5U3BsaXQgPyAnIChHb2xkZW4gLyBXcmF0aCknIDogJyd9YCwgbHVja3lSZXdhcmRGcmVuenlNYXhTcGFuLCBnb2xkQ29va1Rvb2x0aXApKTtcblxuXHRjb25zdCBsdWNreUN1ckJhc2UgPSBNYXRoLm1pbigoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpICogMC4xNSwgQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMgKiBDYWNoZURyYWdvbnNGb3J0dW5lTXVsdEFkanVzdG1lbnQgKiA2MCAqIDE1KSArIDEzO1xuXHRjb25zdCBsdWNreUN1clNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdGx1Y2t5Q3VyU3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRsdWNreUN1clNwYW4uY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgbHVja3lDdXJTcGFuO1xuXHRsdWNreUN1clNwYW4udGV4dENvbnRlbnQgPSBCZWF1dGlmeShDYWNoZUdvbGRlbkNvb2tpZXNNdWx0ICogbHVja3lDdXJCYXNlKSArIChsdWNreVNwbGl0ID8gKGAgLyAke0JlYXV0aWZ5KENhY2hlV3JhdGhDb29raWVzTXVsdCAqIGx1Y2t5Q3VyQmFzZSl9YCkgOiAnJyk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsIGBcIkx1Y2t5IVwiIFJld2FyZCAoQ1VSKSR7bHVja3lTcGxpdCA/ICcgKEdvbGRlbiAvIFdyYXRoKScgOiAnJ31gLCBsdWNreUN1clNwYW4sIGdvbGRDb29rVG9vbHRpcCkpO1xuXHRyZXR1cm4gc2VjdGlvbjtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIFwiQ2hhaW5cIiBzZWN0aW9uIG9mIHRoZSBzdGF0cyBwYWdlXG4gKiBAcmV0dXJuc1x0e29iamVjdH1cdHNlY3Rpb25cdFx0VGhlIG9iamVjdCBjb250YXRpbmcgdGhlIENoYWluIHNlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENoYWluU2VjdGlvbigpIHtcblx0Ly8gVGhpcyBzZXRzIHdoaWNoIHRvb2x0aXAgdG8gZGlzcGxheSBmb3IgY2VydGFpbiBzdGF0c1xuXHRjb25zdCBnb2xkQ29va1Rvb2x0aXAgPSBHYW1lLmF1cmFNdWx0KCdEcmFnb25cXCdzIEZvcnR1bmUnKSA/ICdHb2xkQ29va0RyYWdvbnNGb3J0dW5lVG9vbHRpcFBsYWNlaG9sZGVyJyA6ICdHb2xkQ29va1Rvb2x0aXBQbGFjZWhvbGRlcic7XG5cblx0Y29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRzZWN0aW9uLmNsYXNzTmFtZSA9ICdDTVN0YXRzQ2hhaW5TZWN0aW9uJztcblxuXHRjb25zdCBjaGFpbkNvbG9yID0gKChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkgPCBDYWNoZUNoYWluUmVxdWlyZWQpID8gQ29sb3JSZWQgOiBDb2xvckdyZWVuO1xuXHRjb25zdCBjaGFpblRpbWUgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlQ2hhaW5SZXF1aXJlZCkgPyBGb3JtYXRUaW1lKChDYWNoZUNoYWluUmVxdWlyZWQgLSAoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpKSAvIEdldENQUygpKSA6ICcnO1xuXHRjb25zdCBjaGFpblJlcUZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdGNvbnN0IGNoYWluUmVxU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0Y2hhaW5SZXFTcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdGNoYWluUmVxU3Bhbi5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBjaGFpbkNvbG9yO1xuXHRjaGFpblJlcVNwYW4udGV4dENvbnRlbnQgPSBCZWF1dGlmeShDYWNoZUNoYWluUmVxdWlyZWQpO1xuXHRjaGFpblJlcUZyYWcuYXBwZW5kQ2hpbGQoY2hhaW5SZXFTcGFuKTtcblx0aWYgKGNoYWluVGltZSAhPT0gJycpIHtcblx0XHRjb25zdCBjaGFpblJlcVNtYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcblx0XHRjaGFpblJlcVNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtjaGFpblRpbWV9KWA7XG5cdFx0Y2hhaW5SZXFGcmFnLmFwcGVuZENoaWxkKGNoYWluUmVxU21hbGwpO1xuXHR9XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkNoYWluXCIgQ29va2llcyBSZXF1aXJlZCcsIGNoYWluUmVxRnJhZywgZ29sZENvb2tUb29sdGlwKSk7XG5cblx0Y29uc3QgY2hhaW5XcmF0aENvbG9yID0gKChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkgPCBDYWNoZUNoYWluV3JhdGhSZXF1aXJlZCkgPyBDb2xvclJlZCA6IENvbG9yR3JlZW47XG5cdGNvbnN0IGNoYWluV3JhdGhUaW1lID0gKChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkgPCBDYWNoZUNoYWluV3JhdGhSZXF1aXJlZCkgPyBGb3JtYXRUaW1lKChDYWNoZUNoYWluV3JhdGhSZXF1aXJlZCAtIChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkpIC8gR2V0Q1BTKCkpIDogJyc7XG5cdGNvbnN0IGNoYWluV3JhdGhSZXFGcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRjb25zdCBjaGFpbldyYXRoUmVxU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0Y2hhaW5XcmF0aFJlcVNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0Y2hhaW5XcmF0aFJlcVNwYW4uY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgY2hhaW5XcmF0aENvbG9yO1xuXHRjaGFpbldyYXRoUmVxU3Bhbi50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KENhY2hlQ2hhaW5XcmF0aFJlcXVpcmVkKTtcblx0Y2hhaW5XcmF0aFJlcUZyYWcuYXBwZW5kQ2hpbGQoY2hhaW5XcmF0aFJlcVNwYW4pO1xuXHRpZiAoY2hhaW5XcmF0aFRpbWUgIT09ICcnKSB7XG5cdFx0Y29uc3QgY2hhaW5XcmF0aFJlcVNtYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcblx0XHRjaGFpbldyYXRoUmVxU21hbGwudGV4dENvbnRlbnQgPSBgICgke2NoYWluV3JhdGhUaW1lfSlgO1xuXHRcdGNoYWluV3JhdGhSZXFGcmFnLmFwcGVuZENoaWxkKGNoYWluV3JhdGhSZXFTbWFsbCk7XG5cdH1cblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ1wiQ2hhaW5cIiBDb29raWVzIFJlcXVpcmVkIChXcmF0aCknLCBjaGFpbldyYXRoUmVxRnJhZywgZ29sZENvb2tUb29sdGlwKSk7XG5cblx0Y29uc3QgY2hhaW5Db2xvckZyZW56eSA9ICgoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpIDwgQ2FjaGVDaGFpbkZyZW56eVJlcXVpcmVkKSA/IENvbG9yUmVkIDogQ29sb3JHcmVlbjtcblx0Y29uc3QgY2hhaW5UaW1lRnJlbnp5ID0gKChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkgPCBDYWNoZUNoYWluRnJlbnp5UmVxdWlyZWQpID8gRm9ybWF0VGltZSgoQ2FjaGVDaGFpbkZyZW56eVJlcXVpcmVkIC0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSkgLyBHZXRDUFMoKSkgOiAnJztcblx0Y29uc3QgY2hhaW5SZXFGcmVuRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0Y29uc3QgY2hhaW5SZXFGcmVuU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0Y2hhaW5SZXFGcmVuU3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRjaGFpblJlcUZyZW5TcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGNoYWluQ29sb3JGcmVuenk7XG5cdGNoYWluUmVxRnJlblNwYW4udGV4dENvbnRlbnQgPSBCZWF1dGlmeShDYWNoZUNoYWluRnJlbnp5UmVxdWlyZWQpO1xuXHRjaGFpblJlcUZyZW5GcmFnLmFwcGVuZENoaWxkKGNoYWluUmVxRnJlblNwYW4pO1xuXHRpZiAoY2hhaW5UaW1lRnJlbnp5ICE9PSAnJykge1xuXHRcdGNvbnN0IGNoYWluUmVxRnJlblNtYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcblx0XHRjaGFpblJlcUZyZW5TbWFsbC50ZXh0Q29udGVudCA9IGAgKCR7Y2hhaW5UaW1lRnJlbnp5fSlgO1xuXHRcdGNoYWluUmVxRnJlbkZyYWcuYXBwZW5kQ2hpbGQoY2hhaW5SZXFGcmVuU21hbGwpO1xuXHR9XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkNoYWluXCIgQ29va2llcyBSZXF1aXJlZCAoRnJlbnp5KScsIGNoYWluUmVxRnJlbkZyYWcsIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdGNvbnN0IGNoYWluV3JhdGhDb2xvckZyZW56eSA9ICgoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpIDwgQ2FjaGVDaGFpbkZyZW56eVdyYXRoUmVxdWlyZWQpID8gQ29sb3JSZWQgOiBDb2xvckdyZWVuO1xuXHRjb25zdCBjaGFpbldyYXRoVGltZUZyZW56eSA9ICgoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpIDwgQ2FjaGVDaGFpbkZyZW56eVdyYXRoUmVxdWlyZWQpID8gRm9ybWF0VGltZSgoQ2FjaGVDaGFpbkZyZW56eVdyYXRoUmVxdWlyZWQgLSAoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpKSAvIEdldENQUygpKSA6ICcnO1xuXHRjb25zdCBjaGFpbldyYXRoUmVxRnJlbkZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdGNvbnN0IGNoYWluV3JhdGhSZXFGcmVuU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0Y2hhaW5XcmF0aFJlcUZyZW5TcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdGNoYWluV3JhdGhSZXFGcmVuU3Bhbi5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBjaGFpbldyYXRoQ29sb3JGcmVuenk7XG5cdGNoYWluV3JhdGhSZXFGcmVuU3Bhbi50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KENhY2hlQ2hhaW5GcmVuenlXcmF0aFJlcXVpcmVkKTtcblx0Y2hhaW5XcmF0aFJlcUZyZW5GcmFnLmFwcGVuZENoaWxkKGNoYWluV3JhdGhSZXFGcmVuU3Bhbik7XG5cdGlmIChjaGFpbldyYXRoVGltZUZyZW56eSAhPT0gJycpIHtcblx0XHRjb25zdCBjaGFpbldyYXRoUmVxRnJlblNtYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcblx0XHRjaGFpbldyYXRoUmVxRnJlblNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtjaGFpbldyYXRoVGltZUZyZW56eX0pYDtcblx0XHRjaGFpbldyYXRoUmVxRnJlbkZyYWcuYXBwZW5kQ2hpbGQoY2hhaW5XcmF0aFJlcUZyZW5TbWFsbCk7XG5cdH1cblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ1wiQ2hhaW5cIiBDb29raWVzIFJlcXVpcmVkIChGcmVuenkpIChXcmF0aCknLCBjaGFpbldyYXRoUmVxRnJlbkZyYWcsIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkNoYWluXCIgUmV3YXJkIChNQVgpIChHb2xkZW4gLyBXcmF0aCknLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHtCZWF1dGlmeShDYWNoZUNoYWluTWF4UmV3YXJkWzBdKX0gLyAke0JlYXV0aWZ5KENhY2hlQ2hhaW5XcmF0aE1heFJld2FyZFswXSl9YCksIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkNoYWluXCIgUmV3YXJkIChNQVgpIChGcmVuenkpIChHb2xkZW4gLyBXcmF0aCknLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgoYCR7QmVhdXRpZnkoQ2FjaGVDaGFpbkZyZW56eU1heFJld2FyZFswXSl9IC8gJHtCZWF1dGlmeShDYWNoZUNoYWluRnJlbnp5TWF4UmV3YXJkWzBdKX1gKSksIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdGNvbnN0IGNoYWluQ3VyTWF4ID0gTWF0aC5taW4oR2FtZS5jb29raWVzUHMgKiA2MCAqIDYwICogNiAqIENhY2hlRHJhZ29uc0ZvcnR1bmVNdWx0QWRqdXN0bWVudCwgR2FtZS5jb29raWVzICogMC41KTtcblx0Y29uc3QgY2hhaW5DdXIgPSBNYXhDaGFpbkNvb2tpZVJld2FyZCg3LCBjaGFpbkN1ck1heCwgQ2FjaGVHb2xkZW5Db29raWVzTXVsdClbMF07XG5cdGNvbnN0IGNoYWluQ3VyV3JhdGggPSBNYXhDaGFpbkNvb2tpZVJld2FyZCg2LCBjaGFpbkN1ck1heCwgQ2FjaGVXcmF0aENvb2tpZXNNdWx0KVswXTtcblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ1wiQ2hhaW5cIiBSZXdhcmQgKENVUikgKEdvbGRlbiAvIFdyYXRoKScsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChgJHtCZWF1dGlmeShjaGFpbkN1cil9IC8gJHtCZWF1dGlmeShjaGFpbkN1cldyYXRoKX1gKSksIGdvbGRDb29rVG9vbHRpcCkpO1xuXG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdDUFMgTmVlZGVkIEZvciBOZXh0IExldmVsIChHIC8gVyknLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgoYCR7QmVhdXRpZnkoQ2FjaGVDaGFpblJlcXVpcmVkTmV4dCl9IC8gJHtCZWF1dGlmeShDYWNoZUNoYWluV3JhdGhSZXF1aXJlZE5leHQpfWApKSwgJ0NoYWluTmV4dExldmVsUGxhY2Vob2xkZXInKSk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdDUFMgTmVlZGVkIEZvciBOZXh0IExldmVsIChGcmVuenkpIChHIC8gVyknLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgoYCR7QmVhdXRpZnkoQ2FjaGVDaGFpbkZyZW56eVJlcXVpcmVkTmV4dCl9IC8gJHtCZWF1dGlmeShDYWNoZUNoYWluRnJlbnp5V3JhdGhSZXF1aXJlZE5leHQpfWApKSwgJ0NoYWluTmV4dExldmVsUGxhY2Vob2xkZXInKSk7XG5cdHJldHVybiBzZWN0aW9uO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgXCJTcGVsbHNcIiBzZWN0aW9uIG9mIHRoZSBzdGF0cyBwYWdlXG4gKiBAcmV0dXJuc1x0e29iamVjdH1cdHNlY3Rpb25cdFx0VGhlIG9iamVjdCBjb250YXRpbmcgdGhlIFNwZWxscyBzZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTcGVsbHNTZWN0aW9uKCkge1xuXHRjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHNlY3Rpb24uY2xhc3NOYW1lID0gJ0NNU3RhdHNTcGVsbHNTZWN0aW9uJztcblxuXHRjb25zdCBjb25qdXJlQ29sb3IgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlQ29uanVyZSkgPyBDb2xvclJlZCA6IENvbG9yR3JlZW47XG5cdGNvbnN0IGNvbmp1cmVUaW1lID0gKChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkgPCBDYWNoZUNvbmp1cmUpID8gRm9ybWF0VGltZSgoQ2FjaGVDb25qdXJlIC0gKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSkgLyBHZXRDUFMoKSkgOiAnJztcblxuXHRjb25zdCBjb25qdXJlUmVxRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0Y29uc3QgY29uanVyZVJlcVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdGNvbmp1cmVSZXFTcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdGNvbmp1cmVSZXFTcGFuLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGNvbmp1cmVDb2xvcjtcblx0Y29uanVyZVJlcVNwYW4udGV4dENvbnRlbnQgPSBCZWF1dGlmeShDYWNoZUNvbmp1cmUpO1xuXHRjb25qdXJlUmVxRnJhZy5hcHBlbmRDaGlsZChjb25qdXJlUmVxU3Bhbik7XG5cdGlmIChjb25qdXJlVGltZSAhPT0gJycpIHtcblx0XHRjb25zdCBjb25qdXJlUmVxU21hbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzbWFsbCcpO1xuXHRcdGNvbmp1cmVSZXFTbWFsbC50ZXh0Q29udGVudCA9IGAgKCR7Y29uanVyZVRpbWV9KWA7XG5cdFx0Y29uanVyZVJlcUZyYWcuYXBwZW5kQ2hpbGQoY29uanVyZVJlcVNtYWxsKTtcblx0fVxuXHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnd2l0aFRvb2x0aXAnLCAnXCJDb25qdXJlIEJha2VkIEdvb2RzXCIgQ29va2llcyBSZXF1aXJlZCcsIGNvbmp1cmVSZXFGcmFnLCAnR29sZENvb2tUb29sdGlwUGxhY2Vob2xkZXInKSk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkNvbmp1cmUgQmFrZWQgR29vZHNcIiBSZXdhcmQgKE1BWCknLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCZWF1dGlmeShDYWNoZUNvbmp1cmVSZXdhcmQpKSwgJ0dvbGRDb29rVG9vbHRpcFBsYWNlaG9sZGVyJykpO1xuXG5cdGNvbnN0IGNvbmp1cmVGcmVuenlDb2xvciA9ICgoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpIDwgQ2FjaGVDb25qdXJlICogNykgPyBDb2xvclJlZCA6IENvbG9yR3JlZW47XG5cdGNvbnN0IGNvbmp1cmVGcmVuenlDdXIgPSBNYXRoLm1pbigoR2FtZS5jb29raWVzICsgR2V0V3JpbmtDb25maWdCYW5rKCkpICogMC4xNSwgQ2FjaGVOb0dvbGRTd2l0Y2hDb29raWVzUFMgKiA2MCAqIDMwKTtcblx0Y29uc3QgY29uanVyZUZyZW56eVRpbWUgPSAoKEdhbWUuY29va2llcyArIEdldFdyaW5rQ29uZmlnQmFuaygpKSA8IENhY2hlQ29uanVyZSAqIDcpID8gRm9ybWF0VGltZSgoQ2FjaGVDb25qdXJlICogNyAtIChHYW1lLmNvb2tpZXMgKyBHZXRXcmlua0NvbmZpZ0JhbmsoKSkpIC8gR2V0Q1BTKCkpIDogJyc7XG5cblx0Y29uc3QgY29uanVyZUZyZW56eVJlcUZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdGNvbnN0IGNvbmp1cmVGcmVuenlSZXFTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRjb25qdXJlRnJlbnp5UmVxU3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRjb25qdXJlRnJlbnp5UmVxU3Bhbi5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBjb25qdXJlRnJlbnp5Q29sb3I7XG5cdGNvbmp1cmVGcmVuenlSZXFTcGFuLnRleHRDb250ZW50ID0gQmVhdXRpZnkoQ2FjaGVDb25qdXJlICogNyk7XG5cdGNvbmp1cmVGcmVuenlSZXFGcmFnLmFwcGVuZENoaWxkKGNvbmp1cmVGcmVuenlSZXFTcGFuKTtcblx0aWYgKGNvbmp1cmVGcmVuenlUaW1lICE9PSAnJykge1xuXHRcdGNvbnN0IGNvbmp1cmVGcmVuenlSZXFTbWFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7XG5cdFx0Y29uanVyZUZyZW56eVJlcVNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtjb25qdXJlRnJlbnp5VGltZX0pYDtcblx0XHRjb25qdXJlRnJlbnp5UmVxRnJhZy5hcHBlbmRDaGlsZChjb25qdXJlRnJlbnp5UmVxU21hbGwpO1xuXHR9XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdcIkNvbmp1cmUgQmFrZWQgR29vZHNcIiBDb29raWVzIFJlcXVpcmVkIChGcmVuenkpJywgY29uanVyZUZyZW56eVJlcUZyYWcsICdHb2xkQ29va1Rvb2x0aXBQbGFjZWhvbGRlcicpKTtcblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ1wiQ29uanVyZSBCYWtlZCBHb29kc1wiIFJld2FyZCAoTUFYKSAoRnJlbnp5KScsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KENhY2hlQ29uanVyZVJld2FyZCAqIDcpKSwgJ0dvbGRDb29rVG9vbHRpcFBsYWNlaG9sZGVyJykpO1xuXHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnd2l0aFRvb2x0aXAnLCAnXCJDb25qdXJlIEJha2VkIEdvb2RzXCIgUmV3YXJkIChDVVIpJywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQmVhdXRpZnkoY29uanVyZUZyZW56eUN1cikpLCAnR29sZENvb2tUb29sdGlwUGxhY2Vob2xkZXInKSk7XG5cdGlmIChDYWNoZUVkaWZpY2UpIHtcblx0XHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnd2l0aFRvb2x0aXAnLCAnXCJTcG9udGFuZW91cyBFZGlmaWNlXCIgQ29va2llcyBSZXF1aXJlZCAobW9zdCBleHBlbnNpdmUgYnVpbGRpbmcpJywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7QmVhdXRpZnkoQ2FjaGVFZGlmaWNlKX0gKCR7Q2FjaGVFZGlmaWNlQnVpbGRpbmd9KWApLCAnR29sZENvb2tUb29sdGlwUGxhY2Vob2xkZXInKSk7XG5cdH1cblx0cmV0dXJuIHNlY3Rpb247XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHRoZSBcIkdhcmRlblwiIHNlY3Rpb24gb2YgdGhlIHN0YXRzIHBhZ2VcbiAqIEByZXR1cm5zXHR7b2JqZWN0fVx0c2VjdGlvblx0XHRUaGUgb2JqZWN0IGNvbnRhdGluZyB0aGUgU3BlbGxzIHNlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdhcmRlblNlY3Rpb24oKSB7XG5cdGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0c2VjdGlvbi5jbGFzc05hbWUgPSAnQ01TdGF0c0dhcmRlblNlY3Rpb24nO1xuXG5cdGNvbnN0IGJha2ViZXJyeUNvbG9yID0gKEdhbWUuY29va2llcyA8IEdhbWUuY29va2llc1BzICogNjAgKiAzMCkgPyBDb2xvclJlZCA6IENvbG9yR3JlZW47XG5cdGNvbnN0IGJha2ViZXJyeUZyYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdGJha2ViZXJyeUZyYWcuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcblx0YmFrZWJlcnJ5RnJhZy5jbGFzc05hbWUgPSBDb2xvclRleHRQcmUgKyBiYWtlYmVycnlDb2xvcjtcblx0YmFrZWJlcnJ5RnJhZy50ZXh0Q29udGVudCA9IEJlYXV0aWZ5KEdhbWUuY29va2llc1BzICogNjAgKiAzMCk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCdiYXNpYycsICdDb29raWVzIHJlcXVpcmVkIGZvciBtYXggcmV3YXJkIG9mIEJha2ViZXJyeTogJywgYmFrZWJlcnJ5RnJhZykpO1xuXG5cdGNvbnN0IGNob2Nvcm9vdENvbG9yID0gKEdhbWUuY29va2llcyA8IEdhbWUuY29va2llc1BzICogNjAgKiAzKSA/IENvbG9yUmVkIDogQ29sb3JHcmVlbjtcblx0Y29uc3QgY2hvY29yb290RnJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0Y2hvY29yb290RnJhZy5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRjaG9jb3Jvb3RGcmFnLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGNob2Nvcm9vdENvbG9yO1xuXHRjaG9jb3Jvb3RGcmFnLnRleHRDb250ZW50ID0gQmVhdXRpZnkoR2FtZS5jb29raWVzUHMgKiA2MCAqIDMpO1xuXHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnYmFzaWMnLCAnQ29va2llcyByZXF1aXJlZCBmb3IgbWF4IHJld2FyZCBvZiBDaG9jb3Jvb3Q6ICcsIGNob2Nvcm9vdEZyYWcpKTtcblxuXHRjb25zdCBxdWVlbmJlZXRDb2xvciA9IChHYW1lLmNvb2tpZXMgPCBHYW1lLmNvb2tpZXNQcyAqIDYwICogNjApID8gQ29sb3JSZWQgOiBDb2xvckdyZWVuO1xuXHRjb25zdCBxdWVlbmJlZXRGcmFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRxdWVlbmJlZXRGcmFnLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG5cdHF1ZWVuYmVldEZyYWcuY2xhc3NOYW1lID0gQ29sb3JUZXh0UHJlICsgcXVlZW5iZWV0Q29sb3I7XG5cdHF1ZWVuYmVldEZyYWcudGV4dENvbnRlbnQgPSBCZWF1dGlmeShHYW1lLmNvb2tpZXNQcyAqIDYwICogNjApO1xuXHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnYmFzaWMnLCAnQ29va2llcyByZXF1aXJlZCBmb3IgbWF4IHJld2FyZCBvZiBRdWVlbmJlZXQ6ICcsIHF1ZWVuYmVldEZyYWcpKTtcblxuXHRjb25zdCBkdWtldGF0ZXJDb2xvciA9IChHYW1lLmNvb2tpZXMgPCBHYW1lLmNvb2tpZXNQcyAqIDYwICogMTIwKSA/IENvbG9yUmVkIDogQ29sb3JHcmVlbjtcblx0Y29uc3QgZHVrZXRhdGVyRnJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0ZHVrZXRhdGVyRnJhZy5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXHRkdWtldGF0ZXJGcmFnLmNsYXNzTmFtZSA9IENvbG9yVGV4dFByZSArIGR1a2V0YXRlckNvbG9yO1xuXHRkdWtldGF0ZXJGcmFnLnRleHRDb250ZW50ID0gQmVhdXRpZnkoR2FtZS5jb29raWVzUHMgKiA2MCAqIDEyMCk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCdiYXNpYycsICdDb29raWVzIHJlcXVpcmVkIGZvciBtYXggcmV3YXJkIG9mIER1a2V0YXRlcjogJywgZHVrZXRhdGVyRnJhZykpO1xuXHRyZXR1cm4gc2VjdGlvbjtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIFwiUHJlc3RpZ2VcIiBzZWN0aW9uIG9mIHRoZSBzdGF0cyBwYWdlXG4gKiBAcmV0dXJuc1x0e29iamVjdH1cdHNlY3Rpb25cdFx0VGhlIG9iamVjdCBjb250YXRpbmcgdGhlIFByZXN0aWdlIHNlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFByZXN0aWdlU2VjdGlvbigpIHtcblx0Y29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRzZWN0aW9uLmNsYXNzTmFtZSA9ICdDTVN0YXRzUHJlc3RpZ2VTZWN0aW9uJztcblxuXHRjb25zdCBwb3NzaWJsZVByZXNNYXggPSBNYXRoLmZsb29yKEdhbWUuSG93TXVjaFByZXN0aWdlKENhY2hlUmVhbENvb2tpZXNFYXJuZWRcblx0XHQrIEdhbWUuY29va2llc1Jlc2V0ICsgQ2FjaGVXcmlua2xlcnNUb3RhbFxuXHRcdCsgKEdhbWUuSGFzVW5sb2NrZWQoJ0Nob2NvbGF0ZSBlZ2cnKSAmJiAhR2FtZS5IYXMoJ0Nob2NvbGF0ZSBlZ2cnKSA/IENhY2hlTGFzdENob0VnZyA6IDApKSk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdQcmVzdGlnZSBMZXZlbCAoQ1VSIC8gTUFYKScsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGAke0JlYXV0aWZ5KEdhbWUucHJlc3RpZ2UpfSAvICR7QmVhdXRpZnkocG9zc2libGVQcmVzTWF4KX1gKSwgJ1ByZXN0TWF4VG9vbHRpcFBsYWNlaG9sZGVyJykpO1xuXG5cdGNvbnN0IG5lZWRlZENvb2sgPSBHYW1lLkhvd01hbnlDb29raWVzUmVzZXQocG9zc2libGVQcmVzTWF4ICsgMSkgLSAoQ2FjaGVSZWFsQ29va2llc0Vhcm5lZCArIEdhbWUuY29va2llc1Jlc2V0ICsgQ2FjaGVXcmlua2xlcnNUb3RhbCArICgoR2FtZS5IYXNVbmxvY2tlZCgnQ2hvY29sYXRlIGVnZycpICYmICFHYW1lLkhhcygnQ2hvY29sYXRlIGVnZycpID8gQ2FjaGVMYXN0Q2hvRWdnIDogMCkgPyBDYWNoZUxhc3RDaG9FZ2cgOiAwKSk7XG5cdGNvbnN0IGNvb2tpZXNOZXh0RnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0Y29va2llc05leHRGcmFnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KG5lZWRlZENvb2spKSk7XG5cdGNvbnN0IGNvb2tpZXNOZXh0U21hbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzbWFsbCcpO1xuXHRjb29raWVzTmV4dFNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtGb3JtYXRUaW1lKG5lZWRlZENvb2sgLyBDYWNoZUF2Z0NQU1dpdGhDaG9FZ2csIDEpfSlgO1xuXHRjb29raWVzTmV4dEZyYWcuYXBwZW5kQ2hpbGQoY29va2llc05leHRTbWFsbCk7XG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCd3aXRoVG9vbHRpcCcsICdDb29raWVzIFRvIE5leHQgTGV2ZWwnLCBjb29raWVzTmV4dEZyYWcsICdOZXh0UHJlc3RUb29sdGlwUGxhY2Vob2xkZXInKSk7XG5cblx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ0hlYXZlbmx5IENoaXBzIChDVVIgLyBNQVgpJywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7QmVhdXRpZnkoR2FtZS5oZWF2ZW5seUNoaXBzKX0gLyAke0JlYXV0aWZ5KChwb3NzaWJsZVByZXNNYXggLSBHYW1lLnByZXN0aWdlKSArIEdhbWUuaGVhdmVubHlDaGlwcyl9YCksICdIZWF2ZW5DaGlwTWF4VG9vbHRpcFBsYWNlaG9sZGVyJykpO1xuXG5cdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCdiYXNpYycsICdIZWF2ZW5seSBDaGlwcyBQZXIgU2Vjb25kIChsYXN0IDUgc2Vjb25kcyknLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCZWF1dGlmeShDYWNoZUhDUGVyU2Vjb25kLCAyKSkpKTtcblxuXHRjb25zdCBIQ1RhcmdldCA9IE51bWJlcihDTU9wdGlvbnMuSGVhdmVubHlDaGlwc1RhcmdldCk7XG5cdGlmICghaXNOYU4oSENUYXJnZXQpKSB7XG5cdFx0Y29uc3QgQ29va2llc1RpbGxUYXJnZXQgPSBIQ1RhcmdldCAtIE1hdGguZmxvb3IoR2FtZS5Ib3dNdWNoUHJlc3RpZ2UoR2FtZS5jb29raWVzUmVzZXQgKyBHYW1lLmNvb2tpZXNFYXJuZWQpKTtcblx0XHRpZiAoQ29va2llc1RpbGxUYXJnZXQgPiAwKSB7XG5cdFx0XHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnYmFzaWMnLCAnSGVhdmVubHkgQ2hpcHMgVG8gVGFyZ2V0IFNldCBJbiBTZXR0aW5ncyAoQ1VSKScsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KENvb2tpZXNUaWxsVGFyZ2V0KSkpKTtcblx0XHRcdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCdiYXNpYycsICdUaW1lIFRvIFRhcmdldCAoQ1VSLCBDdXJyZW50IDUgU2Vjb25kIEF2ZXJhZ2UpJywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoRm9ybWF0VGltZShDb29raWVzVGlsbFRhcmdldCAvIENhY2hlSENQZXJTZWNvbmQpKSkpO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IHJlc2V0Qm9udXMgPSBSZXNldEJvbnVzKHBvc3NpYmxlUHJlc01heCk7XG5cdGNvbnN0IHJlc2V0RnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0cmVzZXRGcmFnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KHJlc2V0Qm9udXMpKSk7XG5cdGNvbnN0IGluY3JlYXNlID0gTWF0aC5yb3VuZChyZXNldEJvbnVzIC8gR2FtZS5jb29raWVzUHMgKiAxMDAwMCk7XG5cdGlmIChpc0Zpbml0ZShpbmNyZWFzZSkgJiYgaW5jcmVhc2UgIT09IDApIHtcblx0XHRjb25zdCByZXNldFNtYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcblx0XHRyZXNldFNtYWxsLnRleHRDb250ZW50ID0gYCAoJHtpbmNyZWFzZSAvIDEwMH0lIG9mIGluY29tZSlgO1xuXHRcdHJlc2V0RnJhZy5hcHBlbmRDaGlsZChyZXNldFNtYWxsKTtcblx0fVxuXHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnd2l0aFRvb2x0aXAnLCAnUmVzZXQgQm9udXMgSW5jb21lJywgcmVzZXRGcmFnLCAnUmVzZXRUb29sdGlwUGxhY2Vob2xkZXInKSk7XG5cblx0Y29uc3QgY3VycmVudFByZXN0aWdlID0gTWF0aC5mbG9vcihHYW1lLkhvd011Y2hQcmVzdGlnZShHYW1lLmNvb2tpZXNSZXNldCkpO1xuXHRjb25zdCB3aWxsSGF2ZSA9IE1hdGguZmxvb3IoR2FtZS5Ib3dNdWNoUHJlc3RpZ2UoR2FtZS5jb29raWVzUmVzZXQgKyBHYW1lLmNvb2tpZXNFYXJuZWQpKTtcblx0Y29uc3Qgd2lsbEdldCA9IHdpbGxIYXZlIC0gY3VycmVudFByZXN0aWdlO1xuXHRpZiAoIUdhbWUuSGFzKCdMdWNreSBkaWdpdCcpKSB7XG5cdFx0bGV0IGRlbHRhNyA9IDcgLSAod2lsbEhhdmUgJSAxMCk7XG5cdFx0aWYgKGRlbHRhNyA8IDApIGRlbHRhNyArPSAxMDtcblx0XHRjb25zdCBuZXh0N1Jlc2V0ID0gd2lsbEdldCArIGRlbHRhNztcblx0XHRjb25zdCBuZXh0N1RvdGFsID0gd2lsbEhhdmUgKyBkZWx0YTc7XG5cdFx0Y29uc3QgZnJhZzcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0ZnJhZzcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7bmV4dDdUb3RhbC50b0xvY2FsZVN0cmluZygpfSAvICR7bmV4dDdSZXNldC50b0xvY2FsZVN0cmluZygpfSAoKyR7ZGVsdGE3fSlgKSk7XG5cdFx0c2VjdGlvbi5hcHBlbmRDaGlsZChTdGF0c0xpc3RpbmcoJ2Jhc2ljJywgJ05leHQgXCJMdWNreSBEaWdpdFwiICh0b3RhbCAvIHJlc2V0KScsIGZyYWc3KSk7XG5cdH1cblxuXHRpZiAoIUdhbWUuSGFzKCdMdWNreSBudW1iZXInKSkge1xuXHRcdGxldCBkZWx0YTc3NyA9IDc3NyAtICh3aWxsSGF2ZSAlIDEwMDApO1xuXHRcdGlmIChkZWx0YTc3NyA8IDApIGRlbHRhNzc3ICs9IDEwMDA7XG5cdFx0Y29uc3QgbmV4dDc3N1Jlc2V0ID0gd2lsbEdldCArIGRlbHRhNzc3O1xuXHRcdGNvbnN0IG5leHQ3NzdUb3RhbCA9IHdpbGxIYXZlICsgZGVsdGE3Nzc7XG5cdFx0Y29uc3QgZnJhZzc3NyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRmcmFnNzc3LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGAke25leHQ3NzdUb3RhbC50b0xvY2FsZVN0cmluZygpfSAvICR7bmV4dDc3N1Jlc2V0LnRvTG9jYWxlU3RyaW5nKCl9ICgrJHtkZWx0YTc3N30pYCkpO1xuXHRcdHNlY3Rpb24uYXBwZW5kQ2hpbGQoU3RhdHNMaXN0aW5nKCdiYXNpYycsICdOZXh0IFwiTHVja3kgTnVtYmVyXCIgKHRvdGFsIC8gcmVzZXQpJywgZnJhZzc3NykpO1xuXHR9XG5cblx0aWYgKCFHYW1lLkhhcygnTHVja3kgcGF5b3V0JykpIHtcblx0XHRsZXQgZGVsdGE3Nzc3NzcgPSA3Nzc3NzcgLSAod2lsbEhhdmUgJSAxMDAwMDAwKTtcblx0XHRpZiAoZGVsdGE3Nzc3NzcgPCAwKSBkZWx0YTc3Nzc3NyArPSAxMDAwMDAwO1xuXHRcdGNvbnN0IG5leHQ3Nzc3NzdSZXNldCA9IHdpbGxHZXQgKyBkZWx0YTc3Nzc3Nztcblx0XHRjb25zdCBuZXh0Nzc3Nzc3VG90YWwgPSB3aWxsSGF2ZSArIGRlbHRhNzc3Nzc3O1xuXHRcdGNvbnN0IGZyYWc3Nzc3NzcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0ZnJhZzc3Nzc3Ny5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHtuZXh0Nzc3Nzc3VG90YWwudG9Mb2NhbGVTdHJpbmcoKX0gLyAke25leHQ3Nzc3NzdSZXNldC50b0xvY2FsZVN0cmluZygpfSAoKyR7ZGVsdGE3Nzc3Nzd9KWApKTtcblx0XHRzZWN0aW9uLmFwcGVuZENoaWxkKFN0YXRzTGlzdGluZygnYmFzaWMnLCAnTmV4dCBcIkx1Y2t5IFBheW91dFwiICh0b3RhbCAvIHJlc2V0KScsIGZyYWc3Nzc3NzcpKTtcblx0fVxuXG5cdHJldHVybiBzZWN0aW9uO1xufVxuIiwiLyoqIE1haW4gZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBzZWN0aW9ucyBvZiBDb29raWUgTW9uc3RlciBvbiB0aGUgU3RhdGlzdGljcyBwYWdlICovXG5cbmltcG9ydCB7IEFkZE1pc3NpbmdVcGdyYWRlcyB9IGZyb20gJy4vQ3JlYXRlTWlzc2luZ1VwZ3JhZGVzJztcbmltcG9ydCAqIGFzIENyZWF0ZVNlY3Rpb25zIGZyb20gJy4vQ3JlYXRlU3RhdHNTZWN0aW9ucyc7XG5pbXBvcnQgKiBhcyBDcmVhdGVFbGVtZW50cyBmcm9tICcuL0NyZWF0ZURPTUVsZW1lbnRzJztcbmltcG9ydCAqIGFzIEdhbWVEYXRhIGZyb20gJy4uLy4uL0RhdGEvR2FtZWRhdGEnO1xuaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG5pbXBvcnQge1xuXHRDYWNoZUF2ZXJhZ2VDbGlja3MsIENhY2hlQ2VudEVnZywgQ2FjaGVMYXN0Q2hvRWdnLCBDYWNoZVNlYVNwZWMsIENhY2hlV3JpbmtsZXJzRmF0dGVzdCwgQ2FjaGVXcmlua2xlcnNOb3JtYWwsIENhY2hlV3JpbmtsZXJzVG90YWwsXG59IGZyb20gJy4uLy4uL0NhY2hlL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IFBvcEFsbE5vcm1hbFdyaW5rbGVycyBmcm9tICcuLi9IZWxwZXJGdW5jdGlvbnMvUG9wV3JpbmtsZXJzJztcbmltcG9ydCB7IENsaWNrVGltZXMsIENvb2tpZVRpbWVzIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgR2V0Q1BTIGZyb20gJy4uL0hlbHBlckZ1bmN0aW9ucy9HZXRDUFMnO1xuaW1wb3J0IHsgQmVhdXRpZnkgfSBmcm9tICcuLi9CZWF1dGlmeUFuZEZvcm1hdHRpbmcvQmVhdXRpZnlGb3JtYXR0aW5nJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgc3RhdHMgY3JlYXRlZCBieSBDb29raWVNb25zdGVyIHRvIHRoZSBzdGF0cyBwYWdlXG4gKiBJdCBpcyBjYWxsZWQgYnkgQ00uRGlzcC5BZGRNZW51XG4gKiBAcGFyYW0ge29iamVjdH0gdGl0bGVcdE9uIG9iamVjdCB0aGF0IGluY2x1ZGVzIHRoZSB0aXRsZSBvZiB0aGUgbWVudVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZGRNZW51U3RhdHModGl0bGUpIHtcblx0Y29uc3Qgc3RhdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0c3RhdHMuY2xhc3NOYW1lID0gJ3N1YnNlY3Rpb24nO1xuXHRzdGF0cy5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cblx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNIZWFkZXIoJ0x1Y2t5IENvb2tpZXMnLCAnTHVja3knKSk7XG5cdGlmIChDTU9wdGlvbnMuSGVhZGVyLkx1Y2t5KSB7XG5cdFx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlU2VjdGlvbnMuTHVja3lTZWN0aW9uKCkpO1xuXHR9XG5cblx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNIZWFkZXIoJ0NoYWluIENvb2tpZXMnLCAnQ2hhaW4nKSk7XG5cdGlmIChDTU9wdGlvbnMuSGVhZGVyLkNoYWluKSB7XG5cdFx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlU2VjdGlvbnMuQ2hhaW5TZWN0aW9uKCkpO1xuXHR9XG5cblx0aWYgKEdhbWUuT2JqZWN0c1snV2l6YXJkIHRvd2VyJ10ubWluaWdhbWVMb2FkZWQpIHtcblx0XHRzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVFbGVtZW50cy5TdGF0c0hlYWRlcignU3BlbGxzJywgJ1NwZWxscycpKTtcblx0XHRpZiAoQ01PcHRpb25zLkhlYWRlci5TcGVsbHMpIHtcblx0XHRcdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZVNlY3Rpb25zLlNwZWxsc1NlY3Rpb24oKSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKEdhbWUuT2JqZWN0cy5GYXJtLm1pbmlnYW1lTG9hZGVkKSB7XG5cdFx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNIZWFkZXIoJ0dhcmRlbicsICdHYXJkZW4nKSk7XG5cdFx0aWYgKENNT3B0aW9ucy5IZWFkZXIuR2FyZGVuKSB7XG5cdFx0XHRzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVTZWN0aW9ucy5HYXJkZW5TZWN0aW9uKCkpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzSGVhZGVyKCdQcmVzdGlnZScsICdQcmVzdGlnZScpKTtcblx0aWYgKENNT3B0aW9ucy5IZWFkZXIuUHJlc3RpZ2UpIHtcblx0XHRzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVTZWN0aW9ucy5QcmVzdGlnZVNlY3Rpb24oKSk7XG5cdH1cblxuXHRpZiAoR2FtZS5jcHNTdWNrZWQgPiAwKSB7XG5cdFx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNIZWFkZXIoJ1dyaW5rbGVycycsICdXcmluaycpKTtcblx0XHRpZiAoQ01PcHRpb25zLkhlYWRlci5Xcmluaykge1xuXHRcdFx0Y29uc3QgcG9wQWxsRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdHBvcEFsbEZyYWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7QmVhdXRpZnkoQ2FjaGVXcmlua2xlcnNUb3RhbCl9IC8gJHtCZWF1dGlmeShDYWNoZVdyaW5rbGVyc05vcm1hbCl9IGApKTtcblx0XHRcdGNvbnN0IHBvcEFsbEEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0XHRwb3BBbGxBLnRleHRDb250ZW50ID0gJ1BvcCBBbGwgTm9ybWFsJztcblx0XHRcdHBvcEFsbEEuY2xhc3NOYW1lID0gJ29wdGlvbic7XG5cdFx0XHRwb3BBbGxBLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IFBvcEFsbE5vcm1hbFdyaW5rbGVycygpOyB9O1xuXHRcdFx0cG9wQWxsRnJhZy5hcHBlbmRDaGlsZChwb3BBbGxBKTtcblx0XHRcdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzTGlzdGluZygnYmFzaWMnLCAnUmV3YXJkcyBvZiBQb3BwaW5nIChBbGwvTm9ybWFsKScsIHBvcEFsbEZyYWcpKTtcblx0XHRcdGNvbnN0IHBvcEZhdHRlc3RGcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRcdFx0cG9wRmF0dGVzdEZyYWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7QmVhdXRpZnkoQ2FjaGVXcmlua2xlcnNGYXR0ZXN0WzBdKX0gYCkpO1xuXHRcdFx0Y29uc3QgcG9wRmF0dGVzdEEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0XHRwb3BGYXR0ZXN0QS50ZXh0Q29udGVudCA9ICdQb3AgU2luZ2xlIEZhdHRlc3QnO1xuXHRcdFx0cG9wRmF0dGVzdEEuY2xhc3NOYW1lID0gJ29wdGlvbic7XG5cdFx0XHRwb3BGYXR0ZXN0QS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoQ2FjaGVXcmlua2xlcnNGYXR0ZXN0WzFdICE9PSBudWxsKSBHYW1lLndyaW5rbGVyc1tDYWNoZVdyaW5rbGVyc0ZhdHRlc3RbMV1dLmhwID0gMDsgfTtcblx0XHRcdHBvcEZhdHRlc3RGcmFnLmFwcGVuZENoaWxkKHBvcEZhdHRlc3RBKTtcblx0XHRcdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzTGlzdGluZygnYmFzaWMnLCBgUmV3YXJkcyBvZiBQb3BwaW5nIFNpbmdsZSBGYXR0ZXN0IE5vbi1TaGlueSBXcmlua2xlciAoaWQ6ICR7Q2FjaGVXcmlua2xlcnNGYXR0ZXN0WzFdICE9PSBudWxsID8gQ2FjaGVXcmlua2xlcnNGYXR0ZXN0WzFdIDogJ05vbmUnfSlgLCBwb3BGYXR0ZXN0RnJhZykpO1xuXHRcdH1cblx0fVxuXG5cdGxldCBzcGVjRGlzcCA9IGZhbHNlO1xuXHRjb25zdCBtaXNzaW5nSGFsbG93ZWVuQ29va2llcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZURhdGEuSGFsbG9Db29raWVzKSkge1xuXHRcdGlmICghR2FtZS5IYXMoR2FtZURhdGEuSGFsbG9Db29raWVzW2ldKSkge1xuXHRcdFx0bWlzc2luZ0hhbGxvd2VlbkNvb2tpZXMucHVzaChHYW1lRGF0YS5IYWxsb0Nvb2tpZXNbaV0pO1xuXHRcdFx0c3BlY0Rpc3AgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRjb25zdCBtaXNzaW5nQ2hyaXN0bWFzQ29va2llcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZURhdGEuQ2hyaXN0Q29va2llcykpIHtcblx0XHRpZiAoIUdhbWUuSGFzKEdhbWVEYXRhLkNocmlzdENvb2tpZXNbaV0pKSB7XG5cdFx0XHRtaXNzaW5nQ2hyaXN0bWFzQ29va2llcy5wdXNoKEdhbWVEYXRhLkNocmlzdENvb2tpZXNbaV0pO1xuXHRcdFx0c3BlY0Rpc3AgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRjb25zdCBtaXNzaW5nVmFsZW50aW5lQ29va2llcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZURhdGEuVmFsQ29va2llcykpIHtcblx0XHRpZiAoIUdhbWUuSGFzKEdhbWVEYXRhLlZhbENvb2tpZXNbaV0pKSB7XG5cdFx0XHRtaXNzaW5nVmFsZW50aW5lQ29va2llcy5wdXNoKEdhbWVEYXRhLlZhbENvb2tpZXNbaV0pO1xuXHRcdFx0c3BlY0Rpc3AgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRjb25zdCBtaXNzaW5nTm9ybWFsRWdncyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5lZ2dEcm9wcykpIHtcblx0XHRpZiAoIUdhbWUuSGFzVW5sb2NrZWQoR2FtZS5lZ2dEcm9wc1tpXSkpIHtcblx0XHRcdG1pc3NpbmdOb3JtYWxFZ2dzLnB1c2goR2FtZS5lZ2dEcm9wc1tpXSk7XG5cdFx0XHRzcGVjRGlzcCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdGNvbnN0IG1pc3NpbmdSYXJlRWdncyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZS5yYXJlRWdnRHJvcHMpKSB7XG5cdFx0aWYgKCFHYW1lLkhhc1VubG9ja2VkKEdhbWUucmFyZUVnZ0Ryb3BzW2ldKSkge1xuXHRcdFx0bWlzc2luZ1JhcmVFZ2dzLnB1c2goR2FtZS5yYXJlRWdnRHJvcHNbaV0pO1xuXHRcdFx0c3BlY0Rpc3AgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRjb25zdCBtaXNzaW5nUGxhbnREcm9wcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoR2FtZURhdGEuUGxhbnREcm9wcykpIHtcblx0XHRpZiAoIUdhbWUuSGFzVW5sb2NrZWQoR2FtZURhdGEuUGxhbnREcm9wc1tpXSkpIHtcblx0XHRcdG1pc3NpbmdQbGFudERyb3BzLnB1c2goR2FtZURhdGEuUGxhbnREcm9wc1tpXSk7XG5cdFx0XHRzcGVjRGlzcCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdGNvbnN0IGNob0VnZyA9IChHYW1lLkhhc1VubG9ja2VkKCdDaG9jb2xhdGUgZWdnJykgJiYgIUdhbWUuSGFzKCdDaG9jb2xhdGUgZWdnJykpO1xuXHRjb25zdCBjZW50RWdnID0gR2FtZS5IYXMoJ0NlbnR1cnkgZWdnJyk7XG5cblx0aWYgKEdhbWUuc2Vhc29uID09PSAnY2hyaXN0bWFzJyB8fCBzcGVjRGlzcCB8fCBjaG9FZ2cgfHwgY2VudEVnZykge1xuXHRcdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzSGVhZGVyKCdTZWFzb24gU3BlY2lhbHMnLCAnU2VhJykpO1xuXHRcdGlmIChDTU9wdGlvbnMuSGVhZGVyLlNlYSkge1xuXHRcdFx0aWYgKG1pc3NpbmdIYWxsb3dlZW5Db29raWVzLmxlbmd0aCAhPT0gMCkgc3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNMaXN0aW5nKCdiYXNpYycsICdIYWxsb3dlZW4gQ29va2llcyBMZWZ0IHRvIEJ1eScsIENyZWF0ZUVsZW1lbnRzLlN0YXRzTWlzc0Rpc3AobWlzc2luZ0hhbGxvd2VlbkNvb2tpZXMpKSk7XG5cdFx0XHRpZiAobWlzc2luZ0NocmlzdG1hc0Nvb2tpZXMubGVuZ3RoICE9PSAwKSBzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVFbGVtZW50cy5TdGF0c0xpc3RpbmcoJ2Jhc2ljJywgJ0NocmlzdG1hcyBDb29raWVzIExlZnQgdG8gQnV5JywgQ3JlYXRlRWxlbWVudHMuU3RhdHNNaXNzRGlzcChtaXNzaW5nQ2hyaXN0bWFzQ29va2llcykpKTtcblx0XHRcdGlmIChtaXNzaW5nVmFsZW50aW5lQ29va2llcy5sZW5ndGggIT09IDApIHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzTGlzdGluZygnYmFzaWMnLCAnVmFsZW50aW5lIENvb2tpZXMgTGVmdCB0byBCdXknLCBDcmVhdGVFbGVtZW50cy5TdGF0c01pc3NEaXNwKG1pc3NpbmdWYWxlbnRpbmVDb29raWVzKSkpO1xuXHRcdFx0aWYgKG1pc3NpbmdOb3JtYWxFZ2dzLmxlbmd0aCAhPT0gMCkgc3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNMaXN0aW5nKCdiYXNpYycsICdOb3JtYWwgRWFzdGVyIEVnZ3MgTGVmdCB0byBVbmxvY2snLCBDcmVhdGVFbGVtZW50cy5TdGF0c01pc3NEaXNwKG1pc3NpbmdOb3JtYWxFZ2dzKSkpO1xuXHRcdFx0aWYgKG1pc3NpbmdSYXJlRWdncy5sZW5ndGggIT09IDApIHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzTGlzdGluZygnYmFzaWMnLCAnUmFyZSBFYXN0ZXIgRWdncyBMZWZ0IHRvIFVubG9jaycsIENyZWF0ZUVsZW1lbnRzLlN0YXRzTWlzc0Rpc3AobWlzc2luZ1JhcmVFZ2dzKSkpO1xuXHRcdFx0aWYgKG1pc3NpbmdQbGFudERyb3BzLmxlbmd0aCAhPT0gMCkgc3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNMaXN0aW5nKCdiYXNpYycsICdSYXJlIFBsYW50IERyb3BzIExlZnQgdG8gVW5sb2NrJywgQ3JlYXRlRWxlbWVudHMuU3RhdHNNaXNzRGlzcChtaXNzaW5nUGxhbnREcm9wcykpKTtcblxuXHRcdFx0aWYgKEdhbWUuc2Vhc29uID09PSAnY2hyaXN0bWFzJykgc3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNMaXN0aW5nKCdiYXNpYycsICdSZWluZGVlciBSZXdhcmQnLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCZWF1dGlmeShDYWNoZVNlYVNwZWMpKSkpO1xuXHRcdFx0aWYgKGNob0VnZykge1xuXHRcdFx0XHRzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVFbGVtZW50cy5TdGF0c0xpc3RpbmcoJ3dpdGhUb29sdGlwJywgJ0Nob2NvbGF0ZSBFZ2cgQ29va2llcycsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KENhY2hlTGFzdENob0VnZykpLCAnQ2hvRWdnVG9vbHRpcFBsYWNlaG9sZGVyJykpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNlbnRFZ2cpIHtcblx0XHRcdFx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNMaXN0aW5nKCdiYXNpYycsICdDZW50dXJ5IEVnZyBNdWx0aXBsaWVyJywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7TWF0aC5yb3VuZCgoQ2FjaGVDZW50RWdnIC0gMSkgKiAxMDAwMCkgLyAxMDB9JWApKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNIZWFkZXIoJ01pc2NlbGxhbmVvdXMnLCAnTWlzYycpKTtcblx0aWYgKENNT3B0aW9ucy5IZWFkZXIuTWlzYykge1xuXHRcdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzTGlzdGluZygnYmFzaWMnLFxuXHRcdFx0YEF2ZXJhZ2UgQ29va2llcyBQZXIgU2Vjb25kIChQYXN0ICR7Q29va2llVGltZXNbQ01PcHRpb25zLkF2Z0NQU0hpc3RdIDwgNjAgPyAoYCR7Q29va2llVGltZXNbQ01PcHRpb25zLkF2Z0NQU0hpc3RdfSBzZWNvbmRzYCkgOiAoKENvb2tpZVRpbWVzW0NNT3B0aW9ucy5BdmdDUFNIaXN0XSAvIDYwKSArIChDTU9wdGlvbnMuQXZnQ1BTSGlzdCA9PT0gMyA/ICcgbWludXRlJyA6ICcgbWludXRlcycpKX0pYCxcblx0XHRcdGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KEdldENQUygpLCAzKSkpKTtcblx0XHRzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVFbGVtZW50cy5TdGF0c0xpc3RpbmcoJ2Jhc2ljJywgYEF2ZXJhZ2UgQ29va2llIENsaWNrcyBQZXIgU2Vjb25kIChQYXN0ICR7Q2xpY2tUaW1lc1tDTU9wdGlvbnMuQXZnQ2xpY2tzSGlzdF19JHtDTU9wdGlvbnMuQXZnQ2xpY2tzSGlzdCA9PT0gMCA/ICcgc2Vjb25kJyA6ICcgc2Vjb25kcyd9KWAsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJlYXV0aWZ5KENhY2hlQXZlcmFnZUNsaWNrcywgMSkpKSk7XG5cdFx0aWYgKEdhbWUuSGFzKCdGb3J0dW5lIGNvb2tpZXMnKSkge1xuXHRcdFx0Y29uc3QgZm9ydHVuZXMgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lRGF0YS5Gb3J0dW5lcykpIHtcblx0XHRcdFx0aWYgKCFHYW1lLkhhcyhHYW1lRGF0YS5Gb3J0dW5lc1tpXSkpIHtcblx0XHRcdFx0XHRmb3J0dW5lcy5wdXNoKEdhbWVEYXRhLkZvcnR1bmVzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGZvcnR1bmVzLmxlbmd0aCAhPT0gMCkgc3RhdHMuYXBwZW5kQ2hpbGQoQ3JlYXRlRWxlbWVudHMuU3RhdHNMaXN0aW5nKCdiYXNpYycsICdGb3J0dW5lIFVwZ3JhZGVzIExlZnQgdG8gQnV5JywgQ3JlYXRlRWxlbWVudHMuU3RhdHNNaXNzRGlzcChmb3J0dW5lcykpKTtcblx0XHR9XG5cdFx0aWYgKENNT3B0aW9ucy5TaG93TWlzc2VkR0MpIHtcblx0XHRcdHN0YXRzLmFwcGVuZENoaWxkKENyZWF0ZUVsZW1lbnRzLlN0YXRzTGlzdGluZygnYmFzaWMnLCAnTWlzc2VkIEdvbGRlbiBDb29raWVzJywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQmVhdXRpZnkoR2FtZS5taXNzZWRHb2xkZW5DbGlja3MpKSkpO1xuXHRcdH1cblx0XHRpZiAoR2FtZS5wcmVmcy5hdXRvc2F2ZSkge1xuXHRcdFx0Y29uc3QgdGltZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHR0aW1lci5pZCA9ICdDTVN0YXRzQXV0b3NhdmVUaW1lcic7XG5cdFx0XHR0aW1lci5pbm5lclRleHQgPSBHYW1lLnNheVRpbWUoR2FtZS5mcHMgKiA2MCAtIChHYW1lLk9uQXNjZW5kID8gMCA6IChHYW1lLlQgJSAoR2FtZS5mcHMgKiA2MCkpKSwgNCk7XG5cdFx0XHRzdGF0cy5hcHBlbmRDaGlsZChDcmVhdGVFbGVtZW50cy5TdGF0c0xpc3RpbmcoJ2Jhc2ljJywgJ1RpbWUgdGlsbCBhdXRvc2F2ZScsIHRpbWVyKSk7XG5cdFx0fVxuXHR9XG5cblx0bCgnbWVudScpLmluc2VydEJlZm9yZShzdGF0cywgbCgnbWVudScpLmNoaWxkTm9kZXNbMl0pO1xuXG5cdGlmIChDTU9wdGlvbnMuTWlzc2luZ1VwZ3JhZGVzKSB7XG5cdFx0QWRkTWlzc2luZ1VwZ3JhZGVzKCk7XG5cdH1cbn1cbiIsIi8qKiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgU3RhdHMgcGFnZSAqL1xuXG5pbXBvcnQgeyBUb2dnbGVIZWFkZXIgfSBmcm9tICcuLi8uLi9Db25maWcvVG9nZ2xlU2V0dGluZyc7XG5pbXBvcnQgeyBDTU9wdGlvbnMgfSBmcm9tICcuLi8uLi9Db25maWcvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgeyBMYXRlc3RSZWxlYXNlTm90ZXMsIE1vZERlc2NyaXB0aW9uIH0gZnJvbSAnLi4vLi4vRGF0YS9Nb2RkYXRhJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgc3RhdHMgY3JlYXRlZCBieSBDb29raWVNb25zdGVyIHRvIHRoZSBzdGF0cyBwYWdlXG4gKiBAcGFyYW0ge29iamVjdH0gdGl0bGVcdE9uIG9iamVjdCB0aGF0IGluY2x1ZGVzIHRoZSB0aXRsZSBvZiB0aGUgbWVudVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZGRNZW51SW5mbyh0aXRsZSkge1xuXHRjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGluZm8uY2xhc3NOYW1lID0gJ3N1YnNlY3Rpb24nO1xuXG5cdGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdHNwYW4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXHRzcGFuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0c3Bhbi5zdHlsZS5oZWlnaHQgPSAnMTRweCc7XG5cdHNwYW4uc3R5bGUud2lkdGggPSAnMTRweCc7XG5cdHNwYW4uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzdweCc7XG5cdHNwYW4uc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdHNwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNDMEMwQzAnO1xuXHRzcGFuLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcblx0c3Bhbi5zdHlsZS5mb250U2l6ZSA9ICcxM3B4Jztcblx0c3Bhbi5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XG5cdHNwYW4udGV4dENvbnRlbnQgPSBDTU9wdGlvbnMuSGVhZGVyLkluZm9UYWIgPyAnLScgOiAnKyc7XG5cdHNwYW4ub25jbGljayA9IGZ1bmN0aW9uICgpIHsgVG9nZ2xlSGVhZGVyKCdJbmZvVGFiJyk7IEdhbWUuVXBkYXRlTWVudSgpOyB9O1xuXHR0aXRsZS5hcHBlbmRDaGlsZChzcGFuKTtcblx0aW5mby5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cblx0aWYgKENNT3B0aW9ucy5IZWFkZXIuSW5mb1RhYikge1xuXHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0ZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gTW9kRGVzY3JpcHRpb247XG5cdFx0aW5mby5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG5cdFx0Y29uc3Qgbm90ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRub3Rlcy5pbm5lckhUTUwgPSBMYXRlc3RSZWxlYXNlTm90ZXM7XG5cdFx0aW5mby5hcHBlbmRDaGlsZChub3Rlcyk7XG5cdH1cblxuXHRjb25zdCBtZW51ID0gbCgnbWVudScpLmNoaWxkcmVuWzFdO1xuXHRtZW51Lmluc2VydEJlZm9yZShpbmZvLCBtZW51LmNoaWxkcmVuWzFdKTtcbn1cbiIsIi8qKiBEYXRhIHJlbGF0ZWQgdG8gdGhlIGRpc3BsYXkgdGl0bGVzIG9mIGNlcnRhaW4gc2VjdGlvbnMgaW4gbWVudSBzY3JlZW5zICovXG5cbi8qKiBEaXNwbGF5IHRpdGxlcyBvZiB0aGUgaGVhZGVycyBvZiB0aGUgQ29va2llIE1vbnN0ZXIgc2V0dGluZ3Mgc2VjdGlvbiAqL1xuZXhwb3J0IGNvbnN0IENvbmZpZ0dyb3VwcyA9IHtcblx0QmFyc0NvbG9yczogJ0JhcnMvQ29sb3JzJyxcblx0Q2FsY3VsYXRpb246ICdDYWxjdWxhdGlvbicsXG5cdE5vdGlmaWNhdGlvbjogJ05vdGlmaWNhdGlvbicsXG5cdFRvb2x0aXA6ICdUb29sdGlwcyBhbmQgYWRkaXRpb25hbCBpbnNpZ2h0cycsXG5cdFN0YXRpc3RpY3M6ICdTdGF0aXN0aWNzJyxcblx0Tm90YXRpb246ICdOb3RhdGlvbicsXG5cdE1pc2NlbGxhbmVvdXM6ICdNaXNjZWxsYW5lb3VzJyxcbn07XG5cbi8qKiBEaXNwbGF5IHRpdGxlcyBvZiB0aGUgaGVhZGVycyBvZiB0aGUgbm90aWZpY2F0aW9uIHNlY3Rpb24gb2YgdGhlIENvb2tpZSBNb25zdGVyIHNldHRpbmdzICovXG5leHBvcnQgY29uc3QgQ29uZmlnR3JvdXBzTm90aWZpY2F0aW9uID0ge1xuXHROb3RpZmljYXRpb25HZW5lcmFsOiAnR2VuZXJhbCBOb3RpZmljYXRpb25zJyxcblx0Tm90aWZpY2F0aW9uR0M6ICdHb2xkZW4gQ29va2llJyxcblx0Tm90aWZpY2F0aW9uRkM6ICdGb3J0dW5lIENvb2tpZScsXG5cdE5vdGlmaWNhdGlvblNlYTogJ1NlYXNvbiBTcGVjaWFsJyxcblx0Tm90aWZpY2F0aW9uR2FyZDogJ0dhcmRlbiBUaWNrJyxcblx0Tm90aWZpY2F0aW9uTWFnaTogJ0Z1bGwgTWFnaWMgQmFyJyxcblx0Tm90aWZpY2F0aW9uV3Jpbms6ICdXcmlua2xlcicsXG5cdE5vdGlmaWNhdGlvbldyaW5rTWF4OiAnTWF4aW11bSBXcmlua2xlcnMnLFxufTtcbiIsIi8qKiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgT3B0aW9ucy9QcmVmZXJlbmNlcyBwYWdlICovXG5cbmltcG9ydCB7IExvYWRDb25maWcsIFNhdmVDb25maWcgfSBmcm9tICcuLi8uLi9Db25maWcvU2F2ZUxvYWRSZWxvYWQvU2F2ZUxvYWRSZWxvYWRTZXR0aW5ncyc7XG5pbXBvcnQge1xuXHRDb25maWdQcmVmaXgsIFRvZ2dsZUNvbmZpZywgVG9nZ2xlQ29uZmlnVm9sdW1lLCBUb2dnbGVIZWFkZXIsXG59IGZyb20gJy4uLy4uL0NvbmZpZy9Ub2dnbGVTZXR0aW5nJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENvbmZpZ0dyb3VwcywgQ29uZmlnR3JvdXBzTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vRGF0YS9TZWN0aW9uaGVhZGVycyc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL0RhdGEvU2V0dGluZ3NEYXRhJztcbmltcG9ydCBDb25maWdEZWZhdWx0IGZyb20gJy4uLy4uL0RhdGEvU2V0dGluZ3NEZWZhdWx0JztcbmltcG9ydCBSZWZyZXNoU2NhbGUgZnJvbSAnLi4vSGVscGVyRnVuY3Rpb25zL1JlZnJlc2hTY2FsZSc7XG5pbXBvcnQgVXBkYXRlQ29sb3JzIGZyb20gJy4uL0hlbHBlckZ1bmN0aW9ucy9VcGRhdGVDb2xvcnMnO1xuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhZGRzIHRoZSBvcHRpb25zL3NldHRpbmdzIG9mIENvb2tpZU1vbnN0ZXIgdG8gdGhlIG9wdGlvbnMgcGFnZVxuICogSXQgaXMgY2FsbGVkIGJ5IENNLkRpc3AuQWRkTWVudVxuICogQHBhcmFtIHtvYmplY3R9IHRpdGxlXHRPbiBvYmplY3QgdGhhdCBpbmNsdWRlcyB0aGUgdGl0bGUgb2YgdGhlIG1lbnVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRkTWVudVByZWYodGl0bGUpIHtcblx0Y29uc3QgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0ZnJhZy5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cblx0Zm9yIChjb25zdCBncm91cCBvZiBPYmplY3Qua2V5cyhDb25maWdHcm91cHMpKSB7XG5cdFx0Y29uc3QgZ3JvdXBPYmplY3QgPSBDcmVhdGVQcmVmSGVhZGVyKGdyb3VwLCBDb25maWdHcm91cHNbZ3JvdXBdKTsgLy8gKGdyb3VwLCBkaXNwbGF5LW5hbWUgb2YgZ3JvdXApXG5cdFx0ZnJhZy5hcHBlbmRDaGlsZChncm91cE9iamVjdCk7XG5cdFx0aWYgKENNT3B0aW9ucy5IZWFkZXJbZ3JvdXBdKSB7IC8vIDAgaXMgc2hvdywgMSBpcyBjb2xsYXBzZWRcblx0XHRcdC8vIE1ha2Ugc3ViLXNlY3Rpb25zIG9mIE5vdGlmaWNhdGlvbiBzZWN0aW9uXG5cdFx0XHRpZiAoZ3JvdXAgPT09ICdOb3RpZmljYXRpb24nKSB7XG5cdFx0XHRcdGZvciAoY29uc3Qgc3ViR3JvdXAgb2YgT2JqZWN0LmtleXMoQ29uZmlnR3JvdXBzTm90aWZpY2F0aW9uKSkge1xuXHRcdFx0XHRcdGNvbnN0IHN1Ykdyb3VwT2JqZWN0ID0gQ3JlYXRlUHJlZkhlYWRlcihzdWJHcm91cCwgQ29uZmlnR3JvdXBzTm90aWZpY2F0aW9uW3N1Ykdyb3VwXSk7IC8vIChncm91cCwgZGlzcGxheS1uYW1lIG9mIGdyb3VwKVxuXHRcdFx0XHRcdHN1Ykdyb3VwT2JqZWN0LnN0eWxlLmZvbnRTaXplID0gJzE1cHgnO1xuXHRcdFx0XHRcdHN1Ykdyb3VwT2JqZWN0LnN0eWxlLm9wYWNpdHkgPSAnMC41Jztcblx0XHRcdFx0XHRmcmFnLmFwcGVuZENoaWxkKHN1Ykdyb3VwT2JqZWN0KTtcblx0XHRcdFx0XHRpZiAoQ01PcHRpb25zLkhlYWRlcltzdWJHcm91cF0pIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3Qgb3B0aW9uIGluIENvbmZpZykge1xuXHRcdFx0XHRcdFx0XHRpZiAoQ29uZmlnW29wdGlvbl0uZ3JvdXAgPT09IHN1Ykdyb3VwKSBmcmFnLmFwcGVuZENoaWxkKENyZWF0ZVByZWZPcHRpb24ob3B0aW9uKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKGNvbnN0IG9wdGlvbiBvZiBPYmplY3Qua2V5cyhDb25maWcpKSB7XG5cdFx0XHRcdFx0aWYgKENvbmZpZ1tvcHRpb25dLmdyb3VwID09PSBncm91cCkgZnJhZy5hcHBlbmRDaGlsZChDcmVhdGVQcmVmT3B0aW9uKG9wdGlvbikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgcmVzRGVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHJlc0RlZi5jbGFzc05hbWUgPSAnbGlzdGluZyc7XG5cdGNvbnN0IHJlc0RlZkJ1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0cmVzRGVmQnV0LmNsYXNzTmFtZSA9ICdvcHRpb24nO1xuXHRyZXNEZWZCdXQub25jbGljayA9IGZ1bmN0aW9uICgpIHsgTG9hZENvbmZpZyhDb25maWdEZWZhdWx0KTsgfTtcblx0cmVzRGVmQnV0LnRleHRDb250ZW50ID0gJ1Jlc3RvcmUgRGVmYXVsdCc7XG5cdHJlc0RlZi5hcHBlbmRDaGlsZChyZXNEZWZCdXQpO1xuXHRmcmFnLmFwcGVuZENoaWxkKHJlc0RlZik7XG5cblx0bCgnbWVudScpLmNoaWxkTm9kZXNbMl0uaW5zZXJ0QmVmb3JlKGZyYWcsIGwoJ21lbnUnKS5jaGlsZE5vZGVzWzJdLmNoaWxkTm9kZXNbbCgnbWVudScpLmNoaWxkTm9kZXNbMl0uY2hpbGROb2Rlcy5sZW5ndGggLSAxXSk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgaGVhZGVyLW9iamVjdCBmb3IgdGhlIG9wdGlvbnMgcGFnZVxuICogQHBhcmFtIFx0e3N0cmluZ31cdFx0Y29uZmlnXHRUaGUgbmFtZSBvZiB0aGUgQ29uZmlnLWdyb3VwXG4gKiBAcGFyYW0gXHR7c3RyaW5nfVx0XHR0ZXh0XHRUaGUgdG8tYmUgZGlzcGxheWVkIG5hbWUgb2YgdGhlIGhlYWRlclxuICogQHJldHVybnNcdHtvYmplY3R9XHRcdGRpdlx0XHRUaGUgaGVhZGVyIG9iamVjdFxuICovXG5mdW5jdGlvbiBDcmVhdGVQcmVmSGVhZGVyKGNvbmZpZywgdGV4dCkge1xuXHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LmNsYXNzTmFtZSA9ICd0aXRsZSc7XG5cblx0ZGl2LnN0eWxlLm9wYWNpdHkgPSAnMC43Jztcblx0ZGl2LnN0eWxlLmZvbnRTaXplID0gJzE3cHgnO1xuXHRkaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7dGV4dH0gYCkpO1xuXHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOyAvLyBDcmVhdGVzIHRoZSArLy0gYnV0dG9uXG5cdHNwYW4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXHRzcGFuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblx0c3Bhbi5zdHlsZS5oZWlnaHQgPSAnMTRweCc7XG5cdHNwYW4uc3R5bGUud2lkdGggPSAnMTRweCc7XG5cdHNwYW4uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzdweCc7XG5cdHNwYW4uc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdHNwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNDMEMwQzAnO1xuXHRzcGFuLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcblx0c3Bhbi5zdHlsZS5mb250U2l6ZSA9ICcxM3B4Jztcblx0c3Bhbi5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XG5cdHNwYW4udGV4dENvbnRlbnQgPSBDTU9wdGlvbnMuSGVhZGVyW2NvbmZpZ10gPyAnLScgOiAnKyc7XG5cdHNwYW4ub25jbGljayA9IGZ1bmN0aW9uICgpIHsgVG9nZ2xlSGVhZGVyKGNvbmZpZyk7IEdhbWUuVXBkYXRlTWVudSgpOyB9O1xuXHRkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cdHJldHVybiBkaXY7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGFuIG9wdGlvbi1vYmplY3QgZm9yIHRoZSBvcHRpb25zIHBhZ2VcbiAqIEBwYXJhbSBcdHtzdHJpbmd9XHRcdGNvbmZpZ1x0VGhlIG5hbWUgb2YgdGhlIG9wdGlvblxuICogQHJldHVybnNcdHtvYmplY3R9XHRcdGRpdlx0XHRUaGUgb3B0aW9uIG9iamVjdFxuICovXG5mdW5jdGlvbiBDcmVhdGVQcmVmT3B0aW9uKGNvbmZpZykge1xuXHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LmNsYXNzTmFtZSA9ICdsaXN0aW5nJztcblx0aWYgKENvbmZpZ1tjb25maWddLnR5cGUgPT09ICdib29sJykge1xuXHRcdGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0aWYgKENvbmZpZ1tjb25maWddLnRvZ2dsZSAmJiBDTU9wdGlvbnNbY29uZmlnXSA9PT0gMCkge1xuXHRcdFx0YS5jbGFzc05hbWUgPSAnb3B0aW9uIG9mZic7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGEuY2xhc3NOYW1lID0gJ29wdGlvbic7XG5cdFx0fVxuXHRcdGEuaWQgPSBDb25maWdQcmVmaXggKyBjb25maWc7XG5cdFx0YS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyBUb2dnbGVDb25maWcoY29uZmlnKTsgfTtcblx0XHRhLnRleHRDb250ZW50ID0gQ29uZmlnW2NvbmZpZ10ubGFiZWxbQ01PcHRpb25zW2NvbmZpZ11dO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChhKTtcblx0XHRjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG5cdFx0bGFiZWwudGV4dENvbnRlbnQgPSBDb25maWdbY29uZmlnXS5kZXNjO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG5cdFx0cmV0dXJuIGRpdjtcblx0fSBlbHNlIGlmIChDb25maWdbY29uZmlnXS50eXBlID09PSAndm9sJykge1xuXHRcdGNvbnN0IHZvbHVtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHZvbHVtZS5jbGFzc05hbWUgPSAnc2xpZGVyQm94Jztcblx0XHRjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRpdGxlLnN0eWxlLmZsb2F0ID0gJ2xlZnQnO1xuXHRcdHRpdGxlLmlubmVySFRNTCA9IENvbmZpZ1tjb25maWddLmRlc2M7XG5cdFx0dm9sdW1lLmFwcGVuZENoaWxkKHRpdGxlKTtcblx0XHRjb25zdCBwZXJjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0cGVyY2VudC5pZCA9IGBzbGlkZXIke2NvbmZpZ31yaWdodGA7XG5cdFx0cGVyY2VudC5zdHlsZS5mbG9hdCA9ICdyaWdodCc7XG5cdFx0cGVyY2VudC5pbm5lckhUTUwgPSBgJHtDTU9wdGlvbnNbY29uZmlnXX0lYDtcblx0XHR2b2x1bWUuYXBwZW5kQ2hpbGQocGVyY2VudCk7XG5cdFx0Y29uc3Qgc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblx0XHRzbGlkZXIuY2xhc3NOYW1lID0gJ3NsaWRlcic7XG5cdFx0c2xpZGVyLmlkID0gYHNsaWRlciR7Y29uZmlnfWA7XG5cdFx0c2xpZGVyLnN0eWxlLmNsZWFyID0gJ2JvdGgnO1xuXHRcdHNsaWRlci50eXBlID0gJ3JhbmdlJztcblx0XHRzbGlkZXIubWluID0gJzAnO1xuXHRcdHNsaWRlci5tYXggPSAnMTAwJztcblx0XHRzbGlkZXIuc3RlcCA9ICcxJztcblx0XHRzbGlkZXIudmFsdWUgPSBDTU9wdGlvbnNbY29uZmlnXTtcblx0XHRzbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uICgpIHsgVG9nZ2xlQ29uZmlnVm9sdW1lKGNvbmZpZyk7IH07XG5cdFx0c2xpZGVyLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkgeyBUb2dnbGVDb25maWdWb2x1bWUoY29uZmlnKTsgfTtcblx0XHR2b2x1bWUuYXBwZW5kQ2hpbGQoc2xpZGVyKTtcblx0XHRkaXYuYXBwZW5kQ2hpbGQodm9sdW1lKTtcblx0XHRyZXR1cm4gZGl2O1xuXHR9IGVsc2UgaWYgKENvbmZpZ1tjb25maWddLnR5cGUgPT09ICd1cmwnKSB7XG5cdFx0Y29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0XHRzcGFuLmNsYXNzTmFtZSA9ICdvcHRpb24nO1xuXHRcdHNwYW4udGV4dENvbnRlbnQgPSBgJHtDb25maWdbY29uZmlnXS5sYWJlbH0gYDtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cdFx0Y29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHRcdGlucHV0LmlkID0gQ29uZmlnUHJlZml4ICsgY29uZmlnO1xuXHRcdGlucHV0LmNsYXNzTmFtZSA9ICdvcHRpb24nO1xuXHRcdGlucHV0LnR5cGUgPSAndGV4dCc7XG5cdFx0aW5wdXQucmVhZE9ubHkgPSB0cnVlO1xuXHRcdGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBDTU9wdGlvbnNbY29uZmlnXSk7XG5cdFx0aW5wdXQuc3R5bGUud2lkdGggPSAnMzAwcHgnO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpO1xuXHRcdGNvbnN0IGlucHV0UHJvbXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblx0XHRpbnB1dFByb21wdC5pZCA9IGAke0NvbmZpZ1ByZWZpeCArIGNvbmZpZ31Qcm9tcHRgO1xuXHRcdGlucHV0UHJvbXB0LmNsYXNzTmFtZSA9ICdvcHRpb24nO1xuXHRcdGlucHV0UHJvbXB0LnR5cGUgPSAndGV4dCc7XG5cdFx0aW5wdXRQcm9tcHQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIENNT3B0aW9uc1tjb25maWddKTtcblx0XHRjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdGEuY2xhc3NOYW1lID0gJ29wdGlvbic7XG5cdFx0YS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0R2FtZS5Qcm9tcHQoaW5wdXRQcm9tcHQub3V0ZXJIVE1MLCBbWydTYXZlJywgZnVuY3Rpb24gKCkgeyBDTU9wdGlvbnNbYCR7Y29uZmlnfWBdID0gbChgJHtDb25maWdQcmVmaXh9JHtjb25maWd9UHJvbXB0YCkudmFsdWU7IFNhdmVDb25maWcoKTsgR2FtZS5DbG9zZVByb21wdCgpOyBHYW1lLlVwZGF0ZU1lbnUoKTsgfV0sICdDYW5jZWwnXSk7XG5cdFx0fTtcblx0XHRhLnRleHRDb250ZW50ID0gJ0VkaXQnO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChhKTtcblx0XHRjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG5cdFx0bGFiZWwudGV4dENvbnRlbnQgPSBDb25maWdbY29uZmlnXS5kZXNjO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG5cdFx0cmV0dXJuIGRpdjtcblx0fSBlbHNlIGlmIChDb25maWdbY29uZmlnXS50eXBlID09PSAnY29sb3InKSB7XG5cdFx0ZGl2LmNsYXNzTmFtZSA9ICcnO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgQ29sb3JzOyBpKyspIHtcblx0XHRcdGNvbnN0IGlubmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRpbm5lckRpdi5jbGFzc05hbWUgPSAnbGlzdGluZyc7XG5cdFx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cdFx0XHRpbnB1dC5pZCA9IENvbG9yc1tpXTtcblx0XHRcdGlucHV0LnN0eWxlLndpZHRoID0gJzY1cHgnO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIENNT3B0aW9ucy5Db2xvcnNbQ29sb3JzW2ldXSk7XG5cdFx0XHRpbm5lckRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG5cdFx0XHRjb25zdCBjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdENNT3B0aW9ucy5Db2xvcnNbdGhpcy50YXJnZXRFbGVtZW50LmlkXSA9IHRoaXMudG9IRVhTdHJpbmcoKTtcblx0XHRcdFx0VXBkYXRlQ29sb3JzKCk7XG5cdFx0XHRcdFNhdmVDb25maWcoKTtcblx0XHRcdFx0R2FtZS5VcGRhdGVNZW51KCk7XG5cdFx0XHR9O1xuXHRcdFx0bmV3IEpTQ29sb3IoaW5wdXQsIHsgaGFzaDogdHJ1ZSwgcG9zaXRpb246ICdyaWdodCcsIG9uSW5wdXQ6IGNoYW5nZSB9KTtcblx0XHRcdGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcblx0XHRcdGxhYmVsLnRleHRDb250ZW50ID0gQ29uZmlnLkNvbG9ycy5kZXNjW0NvbG9yc1tpXV07XG5cdFx0XHRpbm5lckRpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG5cdFx0XHRkaXYuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xuXHRcdH1cblx0XHRyZXR1cm4gZGl2O1xuXHR9IGVsc2UgaWYgKENvbmZpZ1tjb25maWddLnR5cGUgPT09ICdudW1zY2FsZScpIHtcblx0XHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdHNwYW4uY2xhc3NOYW1lID0gJ29wdGlvbic7XG5cdFx0c3Bhbi50ZXh0Q29udGVudCA9IGAke0NvbmZpZ1tjb25maWddLmxhYmVsfSBgO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcblx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cdFx0aW5wdXQuaWQgPSBDb25maWdQcmVmaXggKyBjb25maWc7XG5cdFx0aW5wdXQuY2xhc3NOYW1lID0gJ29wdGlvbic7XG5cdFx0aW5wdXQudHlwZSA9ICdudW1iZXInO1xuXHRcdGlucHV0LnZhbHVlID0gKENNT3B0aW9uc1tjb25maWddKTtcblx0XHRpbnB1dC5taW4gPSBDb25maWdbY29uZmlnXS5taW47XG5cdFx0aW5wdXQubWF4ID0gQ29uZmlnW2NvbmZpZ10ubWF4O1xuXHRcdGlucHV0Lm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodGhpcy52YWx1ZSA+IHRoaXMubWF4KSBjb25zb2xlLmxvZygnVEVTVCcpO1xuXHRcdFx0Q01PcHRpb25zW2NvbmZpZ10gPSB0aGlzLnZhbHVlO1xuXHRcdFx0U2F2ZUNvbmZpZygpO1xuXHRcdFx0UmVmcmVzaFNjYWxlKCk7XG5cdFx0fTtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTtcblx0XHRjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG5cdFx0bGFiZWwudGV4dENvbnRlbnQgPSBDb25maWdbY29uZmlnXS5kZXNjO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG5cdFx0cmV0dXJuIGRpdjtcblx0fVxuXHRyZXR1cm4gZGl2O1xufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEFkZE1lbnVTdGF0cyBmcm9tICcuL0FkZFN0YXRzUGFnZSc7XG5pbXBvcnQgQWRkTWVudUluZm8gZnJvbSAnLi9JbmZvUGFnZSc7XG5pbXBvcnQgQWRkTWVudVByZWYgZnJvbSAnLi9TZXR0aW5nc1BhZ2UnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWRkcyB0aGUgY2FsbGwgdGhlIGZ1bmN0aW9ucyB0byBhZGQgZXh0cmEgaW5mbyB0byB0aGUgc3RhdHMgYW5kIG9wdGlvbnMgcGFnZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRkTWVudSgpIHtcblx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0dGl0bGUuY2xhc3NOYW1lID0gJ3RpdGxlJztcblxuXHRpZiAoR2FtZS5vbk1lbnUgPT09ICdwcmVmcycpIHtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9ICdDb29raWUgTW9uc3RlciBTZXR0aW5ncyc7XG5cdFx0QWRkTWVudVByZWYodGl0bGUpO1xuXHR9IGVsc2UgaWYgKEdhbWUub25NZW51ID09PSAnc3RhdHMnKSB7XG5cdFx0aWYgKENNT3B0aW9ucy5TdGF0cykge1xuXHRcdFx0dGl0bGUudGV4dENvbnRlbnQgPSAnQ29va2llIE1vbnN0ZXIgU3RhdGlzdGljcyc7XG5cdFx0XHRBZGRNZW51U3RhdHModGl0bGUpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChHYW1lLm9uTWVudSA9PT0gJ2xvZycpIHtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9ICdDb29raWUgTW9uc3RlciAnOyAvLyBUbyBjcmVhdGUgc3BhY2UgYmV0d2VlbiBuYW1lIGFuZCBidXR0b25cblx0XHRBZGRNZW51SW5mbyh0aXRsZSk7XG5cdH1cbn1cbiIsIi8qKiBGdW5jdGlvbnMgcmVsYXRlZCB0byB1cGRhdGluZyB0aGUgdGFiIGluIHRoZSBicm93c2VyJ3MgdGFiLWJhciAqL1xuXG5pbXBvcnQgeyBDYWNoZVNlYXNvblBvcFNoaW1tZXIsIENhY2hlU3Bhd25lZEdvbGRlblNoaW1tZXIgfSBmcm9tICcuLi8uLi9DYWNoZS9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IExhc3RTZWFzb25Qb3B1cFN0YXRlLCBMYXN0VGlja2VyRm9ydHVuZVN0YXRlIH0gZnJvbSAnLi4vLi4vTWFpbi9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IFRpdGxlIH0gZnJvbSAnLi4vVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSB0YWIgdGl0bGVcbiAqIEl0IGlzIGNhbGxlZCBvbiBldmVyeSBsb29wIGJ5IEdhbWUuTG9naWMoKSB3aGljaCBhbHNvIHNldHMgQ00uRGlzcC5UaXRsZSB0byBHYW1lLmNvb2tpZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlVGl0bGUoKSB7XG5cdGlmIChHYW1lLk9uQXNjZW5kIHx8IENNT3B0aW9ucy5UaXRsZSA9PT0gMCkge1xuXHRcdGRvY3VtZW50LnRpdGxlID0gVGl0bGU7XG5cdH0gZWxzZSBpZiAoQ01PcHRpb25zLlRpdGxlID09PSAxKSB7XG5cdFx0bGV0IGFkZEZDID0gZmFsc2U7XG5cdFx0bGV0IGFkZFNQID0gZmFsc2U7XG5cdFx0bGV0IHRpdGxlR0M7XG5cdFx0bGV0IHRpdGxlRkM7XG5cdFx0bGV0IHRpdGxlU1A7XG5cblx0XHRpZiAoQ2FjaGVTcGF3bmVkR29sZGVuU2hpbW1lcikge1xuXHRcdFx0aWYgKENhY2hlU3Bhd25lZEdvbGRlblNoaW1tZXIud3JhdGgpIHRpdGxlR0MgPSBgW1cke01hdGguY2VpbChDYWNoZVNwYXduZWRHb2xkZW5TaGltbWVyLmxpZmUgLyBHYW1lLmZwcyl9XWA7XG5cdFx0XHRlbHNlIHRpdGxlR0MgPSBgW0cke01hdGguY2VpbChDYWNoZVNwYXduZWRHb2xkZW5TaGltbWVyLmxpZmUgLyBHYW1lLmZwcyl9XWA7XG5cdFx0fSBlbHNlIGlmICghR2FtZS5IYXMoJ0dvbGRlbiBzd2l0Y2ggW29mZl0nKSkge1xuXHRcdFx0dGl0bGVHQyA9IGBbJHtOdW1iZXIobCgnQ01UaW1lckJhckdDTWluQmFyJykudGV4dENvbnRlbnQpIDwgMCA/ICchJyA6ICcnfSR7TWF0aC5jZWlsKChHYW1lLnNoaW1tZXJUeXBlcy5nb2xkZW4ubWF4VGltZSAtIEdhbWUuc2hpbW1lclR5cGVzLmdvbGRlbi50aW1lKSAvIEdhbWUuZnBzKX1dYDtcblx0XHR9IGVsc2UgdGl0bGVHQyA9ICdbR1NdJztcblxuXHRcdGlmIChMYXN0VGlja2VyRm9ydHVuZVN0YXRlKSB7XG5cdFx0XHRhZGRGQyA9IHRydWU7XG5cdFx0XHR0aXRsZUZDID0gJ1tGXSc7XG5cdFx0fVxuXG5cdFx0aWYgKEdhbWUuc2Vhc29uID09PSAnY2hyaXN0bWFzJykge1xuXHRcdFx0YWRkU1AgPSB0cnVlO1xuXHRcdFx0aWYgKExhc3RTZWFzb25Qb3B1cFN0YXRlKSB0aXRsZVNQID0gYFtSJHtNYXRoLmNlaWwoQ2FjaGVTZWFzb25Qb3BTaGltbWVyLmxpZmUgLyBHYW1lLmZwcyl9XWA7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGl0bGVTUCA9IGBbJHtOdW1iZXIobCgnQ01UaW1lckJhclJlbk1pbkJhcicpLnRleHRDb250ZW50KSA8IDAgPyAnIScgOiAnJ30ke01hdGguY2VpbCgoR2FtZS5zaGltbWVyVHlwZXMucmVpbmRlZXIubWF4VGltZSAtIEdhbWUuc2hpbW1lclR5cGVzLnJlaW5kZWVyLnRpbWUpIC8gR2FtZS5mcHMpfV1gO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBwcmV2aW91cyB0aW1lcnMgYW5kIGFkZCBjdXJyZW50IGNvb2tpZXNcblx0XHRsZXQgc3RyID0gVGl0bGU7XG5cdFx0aWYgKHN0ci5jaGFyQXQoMCkgPT09ICdbJykge1xuXHRcdFx0c3RyID0gc3RyLnN1YnN0cmluZyhzdHIubGFzdEluZGV4T2YoJ10nKSArIDEpO1xuXHRcdH1cblx0XHRkb2N1bWVudC50aXRsZSA9IGAke3RpdGxlR0MgKyAoYWRkRkMgPyB0aXRsZUZDIDogJycpICsgKGFkZFNQID8gdGl0bGVTUCA6ICcnKX0gJHtzdHJ9YDtcblx0fSBlbHNlIGlmIChDTU9wdGlvbnMuVGl0bGUgPT09IDIpIHtcblx0XHRsZXQgc3RyID0gJyc7XG5cdFx0bGV0IHNwYXduID0gZmFsc2U7XG5cdFx0aWYgKENhY2hlU3Bhd25lZEdvbGRlblNoaW1tZXIpIHtcblx0XHRcdHNwYXduID0gdHJ1ZTtcblx0XHRcdGlmIChDYWNoZVNwYXduZWRHb2xkZW5TaGltbWVyLndyYXRoKSBzdHIgKz0gYFtXJHtNYXRoLmNlaWwoQ2FjaGVTcGF3bmVkR29sZGVuU2hpbW1lci5saWZlIC8gR2FtZS5mcHMpfV1gO1xuXHRcdFx0ZWxzZSBzdHIgKz0gYFtHJHtNYXRoLmNlaWwoQ2FjaGVTcGF3bmVkR29sZGVuU2hpbW1lci5saWZlIC8gR2FtZS5mcHMpfV1gO1xuXHRcdH1cblx0XHRpZiAoTGFzdFRpY2tlckZvcnR1bmVTdGF0ZSkge1xuXHRcdFx0c3Bhd24gPSB0cnVlO1xuXHRcdFx0c3RyICs9ICdbRl0nO1xuXHRcdH1cblx0XHRpZiAoR2FtZS5zZWFzb24gPT09ICdjaHJpc3RtYXMnICYmIExhc3RTZWFzb25Qb3B1cFN0YXRlKSB7XG5cdFx0XHRzdHIgKz0gYFtSJHtNYXRoLmNlaWwoQ2FjaGVTZWFzb25Qb3BTaGltbWVyLmxpZmUgLyBHYW1lLmZwcyl9XWA7XG5cdFx0XHRzcGF3biA9IHRydWU7XG5cdFx0fVxuXHRcdGlmIChzcGF3bikgc3RyICs9ICcgLSAnO1xuXHRcdGxldCB0aXRsZSA9ICdDb29raWUgQ2xpY2tlcic7XG5cdFx0aWYgKEdhbWUuc2Vhc29uID09PSAnZm9vbHMnKSB0aXRsZSA9ICdDb29raWUgQmFrZXInO1xuXHRcdHN0ciArPSB0aXRsZTtcblx0XHRkb2N1bWVudC50aXRsZSA9IHN0cjtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgbG9jYXRpb24gb2YgdGhlIHRvb2x0aXBcbiAqIEl0IGlzIGNhbGxlZCBieSBHYW1lLnRvb2x0aXAudXBkYXRlKCkgYmVjYXVzZSBvZiBDTS5NYWluLlJlcGxhY2VOYXRpdmUoKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVUb29sdGlwTG9jYXRpb24oKSB7XG5cdGlmIChHYW1lLnRvb2x0aXAub3JpZ2luID09PSAnc3RvcmUnKSB7XG5cdFx0bGV0IHdhcm5PZmZzZXQgPSAwO1xuXHRcdGlmIChDTU9wdGlvbnMuVG9vbFdhcm5MdWNreSA9PT0gMSAmJiBDTU9wdGlvbnMuVG9vbFdhcm5Qb3MgPT09IDEgJiYgbCgnQ01EaXNwVG9vbHRpcFdhcm5pbmdQYXJlbnQnKSAhPT0gbnVsbCkge1xuXHRcdFx0d2Fybk9mZnNldCA9IGwoJ0NNRGlzcFRvb2x0aXBXYXJuaW5nUGFyZW50JykuY2xpZW50SGVpZ2h0IC0gNDtcblx0XHR9XG5cdFx0R2FtZS50b29sdGlwLnR0YS5zdHlsZS50b3AgPSBgJHtNYXRoLm1pbihwYXJzZUludChHYW1lLnRvb2x0aXAudHRhLnN0eWxlLnRvcCksIChsKCdnYW1lJykuY2xpZW50SGVpZ2h0ICsgbCgndG9wQmFyJykuY2xpZW50SGVpZ2h0KSAtIEdhbWUudG9vbHRpcC50dC5jbGllbnRIZWlnaHQgLSB3YXJuT2Zmc2V0IC0gNDYpfXB4YDtcblx0fVxuXHQvLyBLZXB0IGZvciBmdXR1cmUgcG9zc2libGUgdXNlIGlmIHRoZSBjb2RlIGNoYW5nZXMgYWdhaW5cblx0LyogZWxzZSBpZiAoIUdhbWUub25DcmF0ZSAmJiAhR2FtZS5PbkFzY2VuZCAmJiBDTS5PcHRpb25zLlRpbWVyQmFyID09PSAxICYmIENNLk9wdGlvbnMuVGltZXJCYXJQb3MgPT09IDApIHtcblx0XHRHYW1lLnRvb2x0aXAudHRhLnN0eWxlLnRvcCA9IChwYXJzZUludChHYW1lLnRvb2x0aXAudHRhLnN0eWxlLnRvcCkgKyBwYXJzZUludChDTS5EaXNwLlRpbWVyQmFyLnN0eWxlLmhlaWdodCkpICsgJ3B4Jztcblx0fSAqL1xufVxuIiwiaW1wb3J0IHsgQ3JlYXRlVG9vbHRpcCB9IGZyb20gJy4uLy4uL0Rpc3AvVG9vbHRpcHMvVG9vbHRpcCc7XG5pbXBvcnQgeyBUb29sdGlwVXBncmFkZUJhY2t1cCB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmVwbGFjZXMgdGhlIG9yaWdpbmFsIC5vbm1vdXNlb3ZlciBmdW5jdGlvbnMgb2YgdXBncmFkZXMgc28gdGhhdCBpdCBjYWxscyBDTS5EaXNwLlRvb2x0aXAoKVxuICogQ00uRGlzcC5Ub29sdGlwKCkgc2V0cyB0aGUgdG9vbHRpcCB0eXBlIHRvICd1J1xuICogSXQgaXMgY2FsbGVkIGJ5IEdhbWUuUmVidWlsZFVwZ3JhZGVzKCkgdGhyb3VnaCBDTS5NYWluLlJlcGxhY2VOYXRpdmUoKSBhbmQgaXMgdGhlcmVmb3JlIG5vdCBwZXJtYW5lbnQgbGlrZSB0aGUgb3RoZXIgUmVwbGFjZVRvb2x0aXAgZnVuY3Rpb25zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2VUb29sdGlwVXBncmFkZSgpIHtcblx0VG9vbHRpcFVwZ3JhZGVCYWNrdXAgPSBbXTtcblx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKEdhbWUuVXBncmFkZXNJblN0b3JlKSkge1xuXHRcdGlmIChsKGB1cGdyYWRlJHtpfWApLm9ubW91c2VvdmVyICE9PSBudWxsKSB7XG5cdFx0XHRUb29sdGlwVXBncmFkZUJhY2t1cFtpXSA9IGwoYHVwZ3JhZGUke2l9YCkub25tb3VzZW92ZXI7XG5cdFx0XHRsKGB1cGdyYWRlJHtpfWApLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoIUdhbWUubW91c2VEb3duKSB7XG5cdFx0XHRcdFx0R2FtZS5zZXRPbkNyYXRlKHRoaXMpO1xuXHRcdFx0XHRcdEdhbWUudG9vbHRpcC5keW5hbWljID0gMTtcblx0XHRcdFx0XHRHYW1lLnRvb2x0aXAuZHJhdyh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gQ3JlYXRlVG9vbHRpcCgndScsIGAke2l9YCk7XG5cdFx0XHRcdFx0fSwgJ3N0b3JlJyk7XG5cdFx0XHRcdFx0R2FtZS50b29sdGlwLndvYmJsZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgQ01PcHRpb25zIH0gZnJvbSAnLi4vLi4vQ29uZmlnL1ZhcmlhYmxlc0FuZERhdGEnO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gZml4ZXMgR2FtZS5tb3VzZVkgYXMgYSByZXN1bHQgb2YgYmFycyB0aGF0IGFyZSBhZGRlZCBieSBDb29raWVNb25zdGVyXG4gKiBJdCBpcyBjYWxsZWQgYnkgR2FtZS5VcGRhdGVXcmlua2xlcnMoKSwgR2FtZS5VcGRhdGVTcGVjaWFsKCkgYW5kIHRoZSAub25tb3Vzb3ZlciBvZiB0aGUgQmlnQ29va2llXG4gKiBiZWZvcmUgZXhlY3V0aW9uIG9mIHRoZWlyIGFjdHVhbCBmdW5jdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGaXhNb3VzZVkodGFyZ2V0KSB7XG5cdGlmIChDTU9wdGlvbnMuVGltZXJCYXIgPT09IDEgJiYgQ01PcHRpb25zLlRpbWVyQmFyUG9zID09PSAwKSB7XG5cdFx0Y29uc3QgdGltZXJCYXJIZWlnaHQgPSBwYXJzZUludChsKCdDTVRpbWVyQmFyJykuc3R5bGUuaGVpZ2h0KTtcblx0XHRHYW1lLm1vdXNlWSAtPSB0aW1lckJhckhlaWdodDtcblx0XHR0YXJnZXQoKTtcblx0XHRHYW1lLm1vdXNlWSArPSB0aW1lckJhckhlaWdodDtcblx0fSBlbHNlIHtcblx0XHR0YXJnZXQoKTtcblx0fVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IENhY2hlSENQZXJTZWNvbmQsIENhY2hlVGltZVRpbGxOZXh0UHJlc3RpZ2UgfSBmcm9tICcuLi8uLi9DYWNoZS9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IENNT3B0aW9ucyB9IGZyb20gJy4uLy4uL0NvbmZpZy9WYXJpYWJsZXNBbmREYXRhJztcbmltcG9ydCB7IEJlYXV0aWZ5IGFzIENNQmVhdXRpZnksIEZvcm1hdFRpbWUgfSBmcm9tICcuLi8uLi9EaXNwL0JlYXV0aWZ5QW5kRm9ybWF0dGluZy9CZWF1dGlmeUZvcm1hdHRpbmcnO1xuaW1wb3J0IHsgQWRkQXVyYUluZm8sIEFkZERyYWdvbkxldmVsVXBUb29sdGlwIH0gZnJvbSAnLi4vLi4vRGlzcC9EcmFnb24vRHJhZ29uJztcbmltcG9ydCBBZGRNZW51IGZyb20gJy4uLy4uL0Rpc3AvTWVudVNlY3Rpb25zL0FkZE1lbnVzJztcbmltcG9ydCBVcGRhdGVUaXRsZSBmcm9tICcuLi8uLi9EaXNwL1RhYlRpdGxlL1RhYlRpdGxlJztcbmltcG9ydCBVcGRhdGVUb29sdGlwTG9jYXRpb24gZnJvbSAnLi4vLi4vRGlzcC9Ub29sdGlwcy9Qb3NpdGlvbkxvY2F0aW9uJztcbmltcG9ydCB7IENNU2F5VGltZSwgVGl0bGUgfSBmcm9tICcuLi8uLi9EaXNwL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IHsgU2ltRGF0ZUFnZXMsIFNpbURhdGVDZW50dXJ5LCBTaW1Eb1NpbXMgfSBmcm9tICcuLi8uLi9TaW0vVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgUmVwbGFjZVRvb2x0aXBVcGdyYWRlIGZyb20gJy4uL1JlcGxhY2VHYW1lRWxlbWVudHMvVG9vbHRpcFVwZ3JhZGVzJztcbmltcG9ydCB7IEJhY2t1cEZ1bmN0aW9ucyB9IGZyb20gJy4uL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEZpeE1vdXNlWSBmcm9tICcuL0ZpeE1vdXNlJztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIGNlcnRhaW4gbmF0aXZlIChmcm9tIHRoZSBiYXNlLWdhbWUpIGZ1bmN0aW9uc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXBsYWNlTmF0aXZlKCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0QmFja3VwRnVuY3Rpb25zLkJlYXV0aWZ5ID0gQmVhdXRpZnk7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHRCZWF1dGlmeSA9IENNQmVhdXRpZnk7XG5cblx0QmFja3VwRnVuY3Rpb25zLkNhbGN1bGF0ZUdhaW5zID0gR2FtZS5DYWxjdWxhdGVHYWlucztcblx0R2FtZS5DYWxjdWxhdGVHYWlucyA9IGZ1bmN0aW9uICgpIHtcblx0XHRCYWNrdXBGdW5jdGlvbnMuQ2FsY3VsYXRlR2FpbnMoKTtcblx0XHRTaW1Eb1NpbXMgPSAxO1xuXHRcdFNpbURhdGVBZ2VzID0gRGF0ZS5ub3coKTtcblx0XHRTaW1EYXRlQ2VudHVyeSA9IERhdGUubm93KCk7XG5cdH07XG5cblx0QmFja3VwRnVuY3Rpb25zLnRvb2x0aXAgPSB7fTtcblx0QmFja3VwRnVuY3Rpb25zLnRvb2x0aXAuZHJhdyA9IEdhbWUudG9vbHRpcC5kcmF3O1xuXHRCYWNrdXBGdW5jdGlvbnMudG9vbHRpcC5kcmF3TW9kID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gJHtHYW1lLnRvb2x0aXAuZHJhdy50b1N0cmluZygpLnNwbGl0KCd0aGlzJykuam9pbignR2FtZS50b29sdGlwJyl9YCkoKTtcblx0R2FtZS50b29sdGlwLmRyYXcgPSBmdW5jdGlvbiAoZnJvbSwgdGV4dCwgb3JpZ2luKSB7XG5cdFx0QmFja3VwRnVuY3Rpb25zLnRvb2x0aXAuZHJhd01vZChmcm9tLCB0ZXh0LCBvcmlnaW4pO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy50b29sdGlwLnVwZGF0ZSA9IEdhbWUudG9vbHRpcC51cGRhdGU7XG5cdEJhY2t1cEZ1bmN0aW9ucy50b29sdGlwLnVwZGF0ZU1vZCA9IG5ldyBGdW5jdGlvbihgcmV0dXJuICR7R2FtZS50b29sdGlwLnVwZGF0ZS50b1N0cmluZygpLnNwbGl0KCd0aGlzLicpLmpvaW4oJ0dhbWUudG9vbHRpcC4nKX1gKSgpO1xuXHRHYW1lLnRvb2x0aXAudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuXHRcdEJhY2t1cEZ1bmN0aW9ucy50b29sdGlwLnVwZGF0ZU1vZCgpO1xuXHRcdFVwZGF0ZVRvb2x0aXBMb2NhdGlvbigpO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy5VcGRhdGVXcmlua2xlcnMgPSBHYW1lLlVwZGF0ZVdyaW5rbGVycztcblx0R2FtZS5VcGRhdGVXcmlua2xlcnMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Rml4TW91c2VZKEJhY2t1cEZ1bmN0aW9ucy5VcGRhdGVXcmlua2xlcnMpO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy5VcGRhdGVTcGVjaWFsID0gR2FtZS5VcGRhdGVTcGVjaWFsO1xuXHRHYW1lLlVwZGF0ZVNwZWNpYWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Rml4TW91c2VZKEJhY2t1cEZ1bmN0aW9ucy5VcGRhdGVTcGVjaWFsKTtcblx0fTtcblxuXHQvLyBBc3N1bWVzIG5ld2VyIGJyb3dzZXJzXG5cdGwoJ2JpZ0Nvb2tpZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgR2FtZS5DbGlja0Nvb2tpZSwgZmFsc2UpO1xuXHRsKCdiaWdDb29raWUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsgRml4TW91c2VZKEdhbWUuQ2xpY2tDb29raWUpOyB9LCBmYWxzZSk7XG5cblx0QmFja3VwRnVuY3Rpb25zLlJlYnVpbGRVcGdyYWRlcyA9IEdhbWUuUmVidWlsZFVwZ3JhZGVzO1xuXHRHYW1lLlJlYnVpbGRVcGdyYWRlcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRCYWNrdXBGdW5jdGlvbnMuUmVidWlsZFVwZ3JhZGVzKCk7XG5cdFx0UmVwbGFjZVRvb2x0aXBVcGdyYWRlKCk7XG5cdFx0R2FtZS5DYWxjdWxhdGVHYWlucygpO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy5DbGlja1Byb2R1Y3QgPSBHYW1lLkNsaWNrUHJvZHVjdDtcblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYWRkcyBhIGNoZWNrIHRvIHRoZSBwdXJjaGFzZSBvZiBhIGJ1aWxkaW5nIHRvIGFsbG93IEJ1bGtCdXlCbG9jayB0byB3b3JrLlxuXHQgKiBJZiB0aGUgb3B0aW9ucyBpcyAxIChvbikgYnVsa1ByaWNlIGlzIHVuZGVyIGNvb2tpZXMgeW91IGNhbid0IGJ1eSB0aGUgYnVpbGRpbmcuXG5cdCAqL1xuXHRHYW1lLkNsaWNrUHJvZHVjdCA9IGZ1bmN0aW9uICh3aGF0KSB7XG5cdFx0aWYgKCFDTU9wdGlvbnMuQnVsa0J1eUJsb2NrIHx8IChHYW1lLk9iamVjdHNCeUlkW3doYXRdLmJ1bGtQcmljZSA8IEdhbWUuY29va2llcyB8fCBHYW1lLmJ1eU1vZGUgPT09IC0xKSkge1xuXHRcdFx0QmFja3VwRnVuY3Rpb25zLkNsaWNrUHJvZHVjdCh3aGF0KTtcblx0XHR9XG5cdH07XG5cblx0QmFja3VwRnVuY3Rpb25zLkRlc2NyaWJlRHJhZ29uQXVyYSA9IEdhbWUuRGVzY3JpYmVEcmFnb25BdXJhO1xuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbiBhZGRzIHRoZSBmdW5jdGlvbiBDTS5EaXNwLkFkZEF1cmFJbmZvKCkgdG8gR2FtZS5EZXNjcmliZURyYWdvbkF1cmEoKVxuXHQgKiBUaGlzIGFkZHMgaW5mb3JtYXRpb24gYWJvdXQgQ1BTIGRpZmZlcmVuY2VzIGFuZCBjb3N0cyB0byB0aGUgYXVyYSBjaG9vc2luZyBpbnRlcmZhY2Vcblx0ICogQHBhcmFtXHR7bnVtYmVyfVx0YXVyYVx0VGhlIG51bWJlciBvZiB0aGUgYXVyYSBjdXJyZW50bHkgc2VsZWN0ZWQgYnkgdGhlIG1vdXNlL3VzZXJcblx0ICovXG5cdEdhbWUuRGVzY3JpYmVEcmFnb25BdXJhID0gZnVuY3Rpb24gKGF1cmEpIHtcblx0XHRCYWNrdXBGdW5jdGlvbnMuRGVzY3JpYmVEcmFnb25BdXJhKGF1cmEpO1xuXHRcdEFkZEF1cmFJbmZvKGF1cmEpO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy5Ub2dnbGVTcGVjaWFsTWVudSA9IEdhbWUuVG9nZ2xlU3BlY2lhbE1lbnU7XG5cdC8qKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIGFkZHMgdGhlIGNvZGUgdG8gZGlzcGxheSB0aGUgdG9vbHRpcHMgZm9yIHRoZSBsZXZlbFVwIGJ1dHRvbiBvZiB0aGUgZHJhZ29uXG5cdCAqL1xuXHRHYW1lLlRvZ2dsZVNwZWNpYWxNZW51ID0gZnVuY3Rpb24gKG9uKSB7XG5cdFx0QmFja3VwRnVuY3Rpb25zLlRvZ2dsZVNwZWNpYWxNZW51KG9uKTtcblx0XHRBZGREcmFnb25MZXZlbFVwVG9vbHRpcCgpO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy5VcGRhdGVNZW51ID0gR2FtZS5VcGRhdGVNZW51O1xuXHRHYW1lLlVwZGF0ZU1lbnUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBqc2NvbG9yLnBpY2tlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGpzY29sb3IucGlja2VyLm93bmVyID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0QmFja3VwRnVuY3Rpb25zLlVwZGF0ZU1lbnUoKTtcblx0XHRcdEFkZE1lbnUoKTtcblx0XHR9XG5cdH07XG5cblx0QmFja3VwRnVuY3Rpb25zLnNheVRpbWUgPSBHYW1lLnNheVRpbWU7XG5cdENNU2F5VGltZSA9IGZ1bmN0aW9uICh0aW1lLCBkZXRhaWwpIHtcblx0XHRpZiAoTnVtYmVyLmlzTmFOKHRpbWUpIHx8IHRpbWUgPD0gMCkgcmV0dXJuIEJhY2t1cEZ1bmN0aW9ucy5zYXlUaW1lKHRpbWUsIGRldGFpbCk7XG5cdFx0ZWxzZSByZXR1cm4gRm9ybWF0VGltZSh0aW1lIC8gR2FtZS5mcHMsIDEpO1xuXHR9O1xuXG5cdEJhY2t1cEZ1bmN0aW9ucy5Mb2dpYyA9IEdhbWUuTG9naWM7XG5cdEdhbWUuTG9naWMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0QmFja3VwRnVuY3Rpb25zLkxvZ2ljKCk7XG5cblx0XHQvLyBVcGRhdGUgdGFiIHRpdGxlXG5cdFx0bGV0IHRpdGxlID0gJ0Nvb2tpZSBDbGlja2VyJztcblx0XHRpZiAoR2FtZS5zZWFzb24gPT09ICdmb29scycpIHRpdGxlID0gJ0Nvb2tpZSBCYWtlcic7XG5cdFx0VGl0bGUgPSBgJHsoR2FtZS5PbkFzY2VuZCA/ICdBc2NlbmRpbmchICcgOiAnJyl9JHtDTUJlYXV0aWZ5KEdhbWUuY29va2llcyl9ICR7KEdhbWUuY29va2llcyA9PT0gMSA/ICdjb29raWUnIDogJ2Nvb2tpZXMnKX0gLSAke3RpdGxlfWA7XG5cdFx0VXBkYXRlVGl0bGUoKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBBc2NlbmQgVG9vbHRpcCBpcyBub3QgYWN0dWFsbHkgYSB0b29sdGlwIHdlIG5lZWQgdG8gYWRkIG91ciBhZGRpdGlvbmFsIGluZm8gaGVyZS4uLlxuXHRcdGwoJ2FzY2VuZFRvb2x0aXAnKS5pbm5lckhUTUwgKz0gYCR7Q01PcHRpb25zLlRvb2x0aXBBc2NlbmRCdXR0b24gPyBgPGRpdiBjbGFzcz0nbGluZSc+PC9kaXY+SXQgdGFrZXMgJHtDYWNoZVRpbWVUaWxsTmV4dFByZXN0aWdlfSB0byByZWFjaCB0aGUgbmV4dCBsZXZlbCBhbmQgeW91IGFyZSBtYWtpbmcgJHtDTUJlYXV0aWZ5KENhY2hlSENQZXJTZWNvbmQsIDIpfSBjaGlwcyBvbiBhdmVyYWdlIGluIHRoZSBsYXN0IDUgc2Vjb25kcy48YnI+YCA6ICcnfWA7XG5cdH07XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgVG9vbHRpcFdyaW5rbGVyQXJlYSwgVG9vbHRpcFdyaW5rbGVyQmVpbmdTaG93biB9IGZyb20gJy4uLy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIC5vbm1vdXNlb3Zlci9vdXQgZXZlbnRzIHRoYXQgZGV0ZXJtaW5lIGlmIHRoZSBtb3VzZSBpcyBob3ZlcmluZy1vdmVyIGEgV3JpbmtsZXJcbiAqIEFzIHdyaW5rbGVycyBhcmUgbm90IGFwcGVuZGVkIHRvIHRoZSBET00gd2UgdXMgYSBkaWZmZXJlbnQgc3lzdGVtIHRoYW4gZm9yIG90aGVyIHRvb2x0aXBzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkZFdyaW5rbGVyQXJlYURldGVjdCgpIHtcblx0bCgnYmFja2dyb3VuZExlZnRDYW52YXMnKS5vbm1vdXNlb3ZlciA9IGZ1bmN0aW9uICgpIHsgVG9vbHRpcFdyaW5rbGVyQXJlYSA9IDE7IH07XG5cdGwoJ2JhY2tncm91bmRMZWZ0Q2FudmFzJykub25tb3VzZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0XHRUb29sdGlwV3JpbmtsZXJBcmVhID0gMDtcblx0XHRHYW1lLnRvb2x0aXAuaGlkZSgpO1xuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhHYW1lLndyaW5rbGVycykpIHtcblx0XHRcdFRvb2x0aXBXcmlua2xlckJlaW5nU2hvd25baV0gPSAwO1xuXHRcdH1cblx0fTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgSW5pdENhY2hlIGZyb20gJy4uL0NhY2hlL0NhY2hlSW5pdCc7XG5pbXBvcnQgeyBDYWNoZVN0YXRzQ29va2llcyB9IGZyb20gJy4uL0NhY2hlL1N0YXRzL1N0YXRzJztcbmltcG9ydCB7IExvYWRDb25maWcgfSBmcm9tICcuLi9Db25maWcvU2F2ZUxvYWRSZWxvYWQvU2F2ZUxvYWRSZWxvYWRTZXR0aW5ncyc7XG5pbXBvcnQgeyBWZXJzaW9uTWFqb3IsIFZlcnNpb25NaW5vciB9IGZyb20gJy4uL0RhdGEvTW9kZGF0YSc7XG5pbXBvcnQgQ3JlYXRlVXBncmFkZUJhciBmcm9tICcuLi9EaXNwL0J1aWxkaW5nc1VwZ3JhZGVzL1VwZ3JhZGVCYXInO1xuaW1wb3J0IHsgQ3JlYXRlQm90QmFyIH0gZnJvbSAnLi4vRGlzcC9JbmZvQmFycy9Cb3R0b21CYXInO1xuaW1wb3J0IHsgQ3JlYXRlVGltZXJCYXIgfSBmcm9tICcuLi9EaXNwL0luZm9CYXJzL1RpbWVyQmFyJztcbmltcG9ydCBDcmVhdGVXcmlua2xlckJ1dHRvbnMgZnJvbSAnLi4vRGlzcC9Jbml0aWFsaXphdGlvbi9DcmVhdGVXcmlua2xlckJ1dHRvbic7XG5pbXBvcnQgQ3JlYXRlQ3NzQXJlYSBmcm9tICcuLi9EaXNwL0luaXRpYWxpemF0aW9uL0Nzc0FyZWEnO1xuaW1wb3J0IFVwZGF0ZUJ1aWxkaW5nVXBncmFkZVN0eWxlIGZyb20gJy4uL0Rpc3AvSW5pdGlhbGl6YXRpb24vVXBkYXRlQnVpbGRpbmdVcGdyYWRlU3R5bGUnO1xuaW1wb3J0IENyZWF0ZVdoaXRlU2NyZWVuIGZyb20gJy4uL0Rpc3AvSW5pdGlhbGl6YXRpb24vV2hpdGVTY3JlZW4nO1xuaW1wb3J0IHsgQ3JlYXRlRmF2aWNvbiB9IGZyb20gJy4uL0Rpc3AvVGFiVGl0bGUvRmF2SWNvbic7XG5pbXBvcnQgeyBDcmVhdGVTaW1wbGVUb29sdGlwIH0gZnJvbSAnLi4vRGlzcC9Ub29sdGlwcy9Ub29sdGlwJztcbmltcG9ydCB7IENNTGFzdEFzY2VuZFN0YXRlLCBUb29sdGlwVGV4dCB9IGZyb20gJy4uL0Rpc3AvVmFyaWFibGVzQW5kRGF0YSc7XG5pbXBvcnQgSW5pdERhdGEgZnJvbSAnLi4vU2ltL0luaXRpYWxpemVEYXRhL0luaXREYXRhJztcbmltcG9ydCBSZXBsYWNlTmF0aXZlR3JpbW9pcmUgZnJvbSAnLi9SZXBsYWNlR2FtZUVsZW1lbnRzL05hdGl2ZUdyaW1vaXJlJztcbmltcG9ydCBSZXBsYWNlVG9vbHRpcHMgZnJvbSAnLi9SZXBsYWNlR2FtZUVsZW1lbnRzL1Rvb2x0aXBzJztcbmltcG9ydCBSZXBsYWNlTmF0aXZlIGZyb20gJy4vUmVwbGFjZUdhbWVGdW5jdGlvbnMvUmVwbGFjZU5hdGl2ZSc7XG5pbXBvcnQgeyBMYXN0TW9kQ291bnQgfSBmcm9tICcuL1ZhcmlhYmxlc0FuZERhdGEnO1xuaW1wb3J0IEFkZFdyaW5rbGVyQXJlYURldGVjdCBmcm9tICcuL1dyaW5rbGVyQXJlYS9BZGREZXRlY3RBcmVhJztcblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBsb29wIG9mIENvb2tpZSBNb25zdGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEluaXRpYWxpemVDb29raWVNb25zdGVyKCkge1xuXHRJbml0RGF0YSgpO1xuXHRDYWNoZVN0YXRzQ29va2llcygpO1xuXHRJbml0Q2FjaGUoKTtcblxuXHQvLyBTdG9yZWQgdG8gY2hlY2sgaWYgd2UgbmVlZCB0byByZS1pbml0aWxpYXplIGRhdGFcblx0TGFzdE1vZENvdW50ID0gT2JqZWN0LmtleXMoR2FtZS5tb2RzKS5sZW5ndGg7XG5cblx0Ly8gQ3JlYXRpbmcgdmlzdWFsIGVsZW1lbnRzXG5cdENyZWF0ZUNzc0FyZWEoKTtcblx0Q3JlYXRlQm90QmFyKCk7XG5cdENyZWF0ZVRpbWVyQmFyKCk7XG5cdENyZWF0ZVVwZ3JhZGVCYXIoKTtcblx0Q3JlYXRlV2hpdGVTY3JlZW4oKTtcblx0Q3JlYXRlRmF2aWNvbigpO1xuXHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoVG9vbHRpcFRleHQpKSB7XG5cdFx0Q3JlYXRlU2ltcGxlVG9vbHRpcChUb29sdGlwVGV4dFtpXVswXSwgVG9vbHRpcFRleHRbaV1bMV0sIFRvb2x0aXBUZXh0W2ldWzJdKTtcblx0fVxuXHRDcmVhdGVXcmlua2xlckJ1dHRvbnMoKTtcblx0VXBkYXRlQnVpbGRpbmdVcGdyYWRlU3R5bGUoKTtcblxuXHRSZXBsYWNlVG9vbHRpcHMoKTtcblx0QWRkV3JpbmtsZXJBcmVhRGV0ZWN0KCk7XG5cblx0Ly8gUmVwbGFjZSBuYXRpdmUgZnVuY3Rpb25zXG5cdFJlcGxhY2VOYXRpdmUoKTtcblx0UmVwbGFjZU5hdGl2ZUdyaW1vaXJlKCk7XG5cdEdhbWUuQ2FsY3VsYXRlR2FpbnMoKTtcblxuXHRMb2FkQ29uZmlnKCk7IC8vIE11c3QgYmUgYWZ0ZXIgYWxsIHRoaW5ncyBhcmUgY3JlYXRlZCFcblx0Q01MYXN0QXNjZW5kU3RhdGUgPSBHYW1lLk9uQXNjZW5kO1xuXG5cdGlmIChHYW1lLnByZWZzLnBvcHVwcykgR2FtZS5Qb3B1cChgQ29va2llIE1vbnN0ZXIgdmVyc2lvbiAke1ZlcnNpb25NYWpvcn0uJHtWZXJzaW9uTWlub3J9IGxvYWRlZCFgKTtcblx0ZWxzZSBHYW1lLk5vdGlmeShgQ29va2llIE1vbnN0ZXIgdmVyc2lvbiAke1ZlcnNpb25NYWpvcn0uJHtWZXJzaW9uTWlub3J9IGxvYWRlZCFgLCAnJywgJycsIDEsIDEpO1xuXG5cdEdhbWUuV2luKCdUaGlyZC1wYXJ0eScpO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IFZlcnNpb25NYWpvciwgVmVyc2lvbk1pbm9yIH0gZnJvbSAnLi4vRGF0YS9Nb2RkYXRhJztcbmltcG9ydCBEcmF3IGZyb20gJy4uL0Rpc3AvRHJhdyc7XG5pbXBvcnQgSW5pdGlhbGl6ZUNvb2tpZU1vbnN0ZXIgZnJvbSAnLi4vTWFpbi9Jbml0aWFsaXphdGlvbic7XG5pbXBvcnQgQ01Mb29wIGZyb20gJy4uL01haW4vTG9vcCc7XG5pbXBvcnQgeyBpc0luaXRpYWxpemluZyB9IGZyb20gJy4vVmFyaWFibGVzJztcblxuLyoqXG4gICogVGhpcyBjcmVhdGVzIGEgaW5pdCBmdW5jdGlvbiBmb3IgdGhlIENNIG9iamVjdC4gUGVyIEdhbWUgY29kZS9jb21tZW50czpcbiAgKiBcInRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFzIHNvb24gYXMgdGhlIG1vZCBpcyByZWdpc3RlcmVkXG4gICogZGVjbGFyZSBob29rcyBoZXJlXCJcbiAgKiBJdCBzdGFydHMgdGhlIGZ1cnRoZXIgaW5pdGlhbGl6YXRpb24gb2YgQ29va2llTW9uc3RlciBhbmQgcmVnaXN0ZXJzIGhvb2tzXG4gICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0KCkge1xuXHRpc0luaXRpYWxpemluZyA9IHRydWU7XG5cdGxldCBwcm9jZWVkID0gdHJ1ZTtcblx0aWYgKEdhbWUudmVyc2lvbiAhPT0gTnVtYmVyKFZlcnNpb25NYWpvcikpIHtcblx0XHRwcm9jZWVkID0gY29uZmlybShgQ29va2llIE1vbnN0ZXIgdmVyc2lvbiAke1ZlcnNpb25NYWpvcn0uJHtWZXJzaW9uTWlub3J9IGlzIG1lYW50IGZvciBHYW1lIHZlcnNpb24gJHtWZXJzaW9uTWFqb3J9LiAgTG9hZGluZyBhIGRpZmZlcmVudCB2ZXJzaW9uIG1heSBjYXVzZSBlcnJvcnMuICBEbyB5b3Ugc3RpbGwgd2FudCB0byBsb2FkIENvb2tpZSBNb25zdGVyP2ApO1xuXHR9XG5cdGlmIChwcm9jZWVkKSB7XG5cdFx0SW5pdGlhbGl6ZUNvb2tpZU1vbnN0ZXIoKTtcblx0XHRHYW1lLnJlZ2lzdGVySG9vaygnZHJhdycsIERyYXcpO1xuXHRcdEdhbWUucmVnaXN0ZXJIb29rKCdsb2dpYycsIENNTG9vcCk7XG5cdFx0aXNJbml0aWFsaXppbmcgPSBmYWxzZTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTG9hZENvbmZpZyB9IGZyb20gJy4uL0NvbmZpZy9TYXZlTG9hZFJlbG9hZC9TYXZlTG9hZFJlbG9hZFNldHRpbmdzJztcbmltcG9ydCB7IFZlcnNpb25NYWpvciwgVmVyc2lvbk1pbm9yIH0gZnJvbSAnLi4vRGF0YS9Nb2RkYXRhJztcbmltcG9ydCBJbml0RGF0YSBmcm9tICcuLi9TaW0vSW5pdGlhbGl6ZURhdGEvSW5pdERhdGEnO1xuXG4vKipcbiAqIFRoaXMgY3JlYXRlcyBhIGxvYWQgZnVuY3Rpb24gdG8gdGhlIENNIG9iamVjdC4gUGVyIEdhbWUgY29kZS9jb21tZW50czpcbiAqIFwiZG8gc3R1ZmYgd2l0aCB0aGUgc3RyaW5nIGRhdGEgeW91IHNhdmVkIHByZXZpb3VzbHlcIlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkKHN0cikge1xuXHRjb25zdCBzYXZlID0gSlNPTi5wYXJzZShzdHIpO1xuXHRJbml0RGF0YSgpO1xuXHRMb2FkQ29uZmlnKHNhdmUuc2V0dGluZ3MpO1xuXHRpZiAoc2F2ZS52ZXJzaW9uICE9PSBgJHtWZXJzaW9uTWFqb3J9LiR7VmVyc2lvbk1pbm9yfWApIHtcblx0XHRpZiAoR2FtZS5wcmVmcy5wb3B1cHMpIEdhbWUuUG9wdXAoJ0EgbmV3IHZlcnNpb24gb2YgQ29va2llIE1vbnN0ZXIgaGFzIGJlZW4gbG9hZGVkLCBjaGVjayBvdXQgdGhlIHJlbGVhc2Ugbm90ZXMgaW4gdGhlIGluZm8gdGFiIScpO1xuXHRcdGVsc2UgR2FtZS5Ob3RpZnkoJ0EgbmV3IHZlcnNpb24gb2YgQ29va2llIE1vbnN0ZXIgaGFzIGJlZW4gbG9hZGVkLCBjaGVjayBvdXQgdGhlIHJlbGVhc2Ugbm90ZXMgaW4gdGhlIGluZm8gdGFiIScsICcnLCAnJywgMCwgMSk7XG5cdH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgaW5pdCBmcm9tICcuL0luaXRTYXZlTG9hZC9pbml0JztcbmltcG9ydCBsb2FkIGZyb20gJy4vSW5pdFNhdmVMb2FkL2xvYWQnO1xuaW1wb3J0IHNhdmUgZnJvbSAnLi9Jbml0U2F2ZUxvYWQvc2F2ZSc7XG5cbmNvbnN0IENNID0ge1xuXHRpbml0OiBpbml0LFxuXHRsb2FkOiBsb2FkLFxuXHRzYXZlOiBzYXZlLFxufTtcblxuLyoqXG4gKiBTZWN0aW9uOiBGdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgaW5pdGlhbGl6YXRpb24gb2YgQ29va2llTW9uc3RlciAqL1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb25zIGxvYWRzIGFuIGV4dGVybmFsIHNjcmlwdCAob24gdGhlIHNhbWUgcmVwb3NpdG9yeSkgdGhhdCBjcmVhdGVzIHRoZVxuICogZnVuY3Rpb25hbGl0eSBuZWVkZWQgdG8gZHluYW1pY2NhbHkgY2hhbmdlIGNvbG91cnNcbiAqIEl0IGlzIGNhbGxlZCBieSB0aGUgbGFzdCBmdW5jdGlvbiBpbiB0aGUgZm9vdGVyXG4gKi9cbmZ1bmN0aW9uIEFkZEpzY29sb3IoKSB7XG5cdGNvbnN0IEpzY29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0SnNjb2xvci50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG5cdEpzY29sb3Iuc2V0QXR0cmlidXRlKCdzcmMnLCAnaHR0cHM6Ly9ha3RhbnVzYS5naXRodWIuaW8vQ29va2llTW9uc3Rlci9qc2NvbG9yL2pzY29sb3IuanMnKTtcblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChKc2NvbG9yKTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9ucyBzdGFydHMgdGhlIGluaXRpemlhbGl6YXRpb24gYW5kIHJlZ2lzdGVyIENvb2tpZU1vbnN0ZXJcbiAqIEl0IGlzIGNhbGxlZCBhcyB0aGUgbGFzdCBmdW5jdGlvbiBpbiB0aGlzIHNjcmlwdCdzIGV4ZWN1dGlvblxuICovXG5BZGRKc2NvbG9yKCk7XG5jb25zdCBkZWxheSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0aWYgKHR5cGVvZiBqc2NvbG9yICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGpzY29sb3IuaW5pdCgpO1xuXHRcdEdhbWUucmVnaXN0ZXJNb2QoJ0Nvb2tpZU1vbnN0ZXInLCBDTSk7XG5cdFx0Y2xlYXJJbnRlcnZhbChkZWxheSk7XG5cdH1cbn0sIDUwMCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///992\n")}},__webpack_exports__={};__webpack_modules__[992]()})();